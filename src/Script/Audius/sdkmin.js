/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@audius/sdk@3.0.7/dist/sdk.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(require$$0$5){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var require$$0__default=_interopDefaultLegacy(require$$0$5),servicesConfig$2={minVersion:"0.0.0",discoveryNodes:["http://audius-protocol-discovery-provider-1"],storageNodes:[{delegateOwnerWallet:"0x0D38e653eC28bdea5A2296fD5940aaB2D0B8875c",endpoint:"http://audius-protocol-creator-node-1"}],entityManagerContractAddress:"0x254dffcd3277C0b1660F6d42EFbB754edaBAbC2B",web3ProviderUrl:"http://audius-protocol-poa-ganache-1",identityServiceUrl:"http://audius-protocol-identity-service-1"},servicesConfig$1={minVersion:"0.3.83",discoveryNodes:["https://discoveryprovider2.staging.audius.co","https://discoveryprovider3.staging.audius.co","https://discoveryprovider.staging.audius.co","https://discoveryprovider5.staging.audius.co"],storageNodes:[{endpoint:"https://usermetadata.staging.audius.co",delegateOwnerWallet:"0x671ddce7B4E676C9467F87e4031a917b5D6f75F0"},{endpoint:"https://creatornode5.staging.audius.co",delegateOwnerWallet:"0xDC2BDF1F23381CA2eC9e9c70D4FD96CD8645D090"},{endpoint:"https://creatornode6.staging.audius.co",delegateOwnerWallet:"0x68039d001D87E7A5E6B06fe0825EA7871C1Cd6C2"},{endpoint:"https://creatornode7.staging.audius.co",delegateOwnerWallet:"0x1F8e7aF58086992Ef4c4fc0371446974BBbC0D9F"},{endpoint:"https://creatornode8.staging.audius.co",delegateOwnerWallet:"0x8fcFA10Bd3808570987dbb5B1EF4AB74400FbfDA"},{endpoint:"https://creatornode9.staging.audius.co",delegateOwnerWallet:"0x140eD283b33be2145ed7d9d15f1fE7bF1E0B2Ac3"},{endpoint:"https://creatornode10.staging.audius.co",delegateOwnerWallet:"0xf7C96916bd37Ad76D4EEDd6536B81c29706C8056"},{endpoint:"https://creatornode11.staging.audius.co",delegateOwnerWallet:"0x4c88d2c0f4c4586b41621aD6e98882ae904B98f6"}],web3ProviderUrl:"https://poa-gateway.staging.audius.co",entityManagerContractAddress:"0x1Cd8a543596D499B9b6E7a6eC15ECd2B7857Fd64",identityServiceUrl:"https://identityservice.staging.audius.co"},servicesConfig={minVersion:"0.3.85",discoveryNodes:["https://audius-metadata-1.figment.io","https://audius-metadata-2.figment.io","https://audius-discovery-1.altego.net","https://audius-disco.ams-x01.nl.supercache.org","https://dn-jpn.audius.metadata.fyi","https://discoveryprovider3.audius.co","https://discoveryprovider2.audius.co","https://discoveryprovider.audius.co","https://audius-metadata-3.figment.io","https://audius-metadata-4.figment.io","https://dn1.monophonic.digital","https://dn-usa.audius.metadata.fyi","https://discovery-us-01.audius.openplayer.org","https://dn2.monophonic.digital","https://audius-discovery-2.altego.net","https://dn1.nodeoperator.io","https://audius-disco.dfw-x02.us.supercache.org","https://audius-discovery-3.altego.net","https://dn1.matterlightblooming.xyz","https://audius-dp.singapore.creatorseed.com","https://discovery.grassfed.network","https://audius-discovery-1.cultur3stake.com","https://audius-discovery-3.cultur3stake.com","https://audius-discovery-4.cultur3stake.com","https://audius-discovery-5.cultur3stake.com","https://audius-discovery-7.cultur3stake.com","https://audius-discovery-8.cultur3stake.com","https://audius-discovery-9.cultur3stake.com","https://audius-discovery-10.cultur3stake.com","https://discovery-au-02.audius.openplayer.org","https://disc-lon01.audius.hashbeam.com","https://audius-dp.amsterdam.creatorseed.com","https://blockdaemon-audius-discovery-01.bdnodes.net","https://blockdaemon-audius-discovery-02.bdnodes.net","https://blockdaemon-audius-discovery-03.bdnodes.net","https://blockdaemon-audius-discovery-04.bdnodes.net","https://blockdaemon-audius-discovery-05.bdnodes.net","https://blockdaemon-audius-discovery-06.bdnodes.net","https://blockdaemon-audius-discovery-07.bdnodes.net","https://blockchange-audius-discovery-01.bdnodes.net","https://blockchange-audius-discovery-02.bdnodes.net","https://blockchange-audius-discovery-03.bdnodes.net","https://audius-discovery-11.cultur3stake.com","https://audius-discovery-12.cultur3stake.com","https://audius-discovery-13.cultur3stake.com","https://audius-discovery-14.cultur3stake.com","https://audius-discovery-16.cultur3stake.com","https://audius-discovery-18.cultur3stake.com","https://audius-discovery-17.cultur3stake.com","https://audius-discovery-15.cultur3stake.com","https://audius-discovery-6.cultur3stake.com","https://audius-discovery-2.cultur3stake.com","https://blockdaemon-audius-discovery-08.bdnodes.net","https://audius-metadata-5.figment.io","https://dn1.stuffisup.com","https://audius-discovery-1.theblueprint.xyz","https://audius-discovery-2.theblueprint.xyz","https://audius-discovery-3.theblueprint.xyz","https://audius-discovery-4.theblueprint.xyz","https://audius.w3coins.io"],storageNodes:[{endpoint:"https://creatornode.audius.co",delegateOwnerWallet:"0xc8d0C29B6d540295e8fc8ac72456F2f4D41088c8"},{endpoint:"https://creatornode2.audius.co",delegateOwnerWallet:"0xf686647E3737d595C60c6DE2f5F90463542FE439"},{endpoint:"https://creatornode3.audius.co",delegateOwnerWallet:"0x0C32BE6328578E99b6F06E0e7A6B385EB8FC13d1"},{endpoint:"https://content-node.audius.co",delegateOwnerWallet:"0xC892c75Fa17e8b641a4843D0aa620792857d217A"},{endpoint:"https://audius-content-1.figment.io",delegateOwnerWallet:"0xBfdE9a7DD3620CB6428463E9A9e9932B4d10fdc5"},{endpoint:"https://creatornode.audius.prod-us-west-2.staked.cloud",delegateOwnerWallet:"0x675086B880260D217963cF14F503272AEb44b2E9"},{endpoint:"https://audius-content-2.figment.io",delegateOwnerWallet:"0x6444212FFc23a4CcF7460f8Fe6D0e6074db59036"},{endpoint:"https://audius-content-3.figment.io",delegateOwnerWallet:"0xECEDCaABecb40ef4bE733BA47FaD612aeA1F396F"},{endpoint:"https://audius-content-4.figment.io",delegateOwnerWallet:"0x08fEF3884Db16E2E6211272cdC9Eee68E8b63b09"},{endpoint:"https://audius-content-5.figment.io",delegateOwnerWallet:"0x10fF8197f2e94eF880d940D2414E0A14983c3bFE"},{endpoint:"https://creatornode.audius1.prod-us-west-2.staked.cloud",delegateOwnerWallet:"0xC23Ee959E0B22a9B0F5dF18D7e7875cA4B6c4236"},{endpoint:"https://creatornode.audius2.prod-us-west-2.staked.cloud",delegateOwnerWallet:"0x51a5575dc04c1f5f2e39390d090aaf78554F5f7B"},{endpoint:"https://creatornode.audius3.prod-us-west-2.staked.cloud",delegateOwnerWallet:"0xe0b56BAe2276E016d3DB314Dd7374e596B0457ac"},{endpoint:"https://audius-content-6.figment.io",delegateOwnerWallet:"0x68a4Bd6b4177ffB025AF9844cBE4Fe31348AEE1D"},{endpoint:"https://audius-content-7.figment.io",delegateOwnerWallet:"0xf45a6DBf3ce0201F4012a19b1fB04D4f05B53a37"},{endpoint:"https://audius-content-8.figment.io",delegateOwnerWallet:"0x9708Fb04DeA029212126255B311a21F1F884cCB4"},{endpoint:"https://usermetadata.audius.co",delegateOwnerWallet:"0xD7E6Fe145874E6c2648F012379699c694b183A2c"},{endpoint:"https://audius-content-9.figment.io",delegateOwnerWallet:"0x7c34c9709ed69513D55dF2020e799DA44fC52E6e"},{endpoint:"https://audius-content-10.figment.io",delegateOwnerWallet:"0xff753331CEa586DD5B23bd21222a3c902909F2dd"},{endpoint:"https://audius-content-11.figment.io",delegateOwnerWallet:"0xC9721F892BcC8822eb34237E875BE93904f11073"},{endpoint:"https://audius.prod.capturealpha.io",delegateOwnerWallet:"0x0A5AEA27A7fB95b51056Df6AaD7fe7E9116eC9B4"},{endpoint:"https://content.grassfed.network",delegateOwnerWallet:"0x33Ab85445c8A2690B9488e9fB5E6A9849d3a18d3"},{endpoint:"https://blockdaemon-audius-content-01.bdnodes.net",delegateOwnerWallet:"0x807C0fba7405aeb8b6a37A974df6259C6aB9bB1e"},{endpoint:"https://audius-content-1.cultur3stake.com",delegateOwnerWallet:"0xCEb6a23d6132Cfe329b3c8E3c45f9DDc28A62Bd4"},{endpoint:"https://audius-content-2.cultur3stake.com",delegateOwnerWallet:"0x2e9e7A4e35C3136fB651a0dBF8f91c9f5C27BBf7"},{endpoint:"https://audius-content-3.cultur3stake.com",delegateOwnerWallet:"0x742da6cAc2782FeA961bB7B9150a048F5167D1e1"},{endpoint:"https://audius-content-4.cultur3stake.com",delegateOwnerWallet:"0xcbb0cE7481685587b0988195Ff0cD6AA1A701657"},{endpoint:"https://audius-content-5.cultur3stake.com",delegateOwnerWallet:"0xFec4708155277D35d568aD6Ca322262577683584"},{endpoint:"https://audius-content-6.cultur3stake.com",delegateOwnerWallet:"0x3Db0E61591063310eEd22fd57E6f7F1ab2Bb538E"},{endpoint:"https://audius-content-7.cultur3stake.com",delegateOwnerWallet:"0xE6C00e7E8d582fD2856718a5439f1aeEB68e27E5"},{endpoint:"https://blockdaemon-audius-content-02.bdnodes.net",delegateOwnerWallet:"0x4Ad694B3fC34b3cC245aF6AA7B43C52ddD0d7AAE"},{endpoint:"https://blockdaemon-audius-content-03.bdnodes.net",delegateOwnerWallet:"0x8ea81225013719950E968DE0602c4Eca458fA9f4"},{endpoint:"https://blockdaemon-audius-content-04.bdnodes.net",delegateOwnerWallet:"0xcfFA8ACF0b04d9278eEE13928be264b2E9aaab97"},{endpoint:"https://blockdaemon-audius-content-05.bdnodes.net",delegateOwnerWallet:"0xB4Ff0cab630FB05a7fcEfec9E979a968b8f4fE55"},{endpoint:"https://blockdaemon-audius-content-06.bdnodes.net",delegateOwnerWallet:"0x7449da7d1548C11c481b87667EC9b2A8F20C13A0"},{endpoint:"https://blockdaemon-audius-content-07.bdnodes.net",delegateOwnerWallet:"0x00B1CA1A34257860f66e742eF163Ad30bF42d075"},{endpoint:"https://blockdaemon-audius-content-08.bdnodes.net",delegateOwnerWallet:"0x16650eDB44C720ea627d5a59ff0b4f74c37fe419"},{endpoint:"https://blockdaemon-audius-content-09.bdnodes.net",delegateOwnerWallet:"0xD5Cfcf4149c683516239fc653D5a470F3F4A606D"},{endpoint:"https://audius-content-8.cultur3stake.com",delegateOwnerWallet:"0xff432F81D0eb77DA5973Cf55e24A897882fdd3E6"},{endpoint:"https://blockchange-audius-content-01.bdnodes.net",delegateOwnerWallet:"0x8464c88502925a0076c381962F8B70b6EC892861"},{endpoint:"https://blockchange-audius-content-02.bdnodes.net",delegateOwnerWallet:"0x5e0D0BeDC11F0B512457f6f707A35703b1447Fb5"},{endpoint:"https://blockchange-audius-content-03.bdnodes.net",delegateOwnerWallet:"0xe3F1c416c3919bB2ffD78F1e38b9E81E8c80815F"},{endpoint:"https://audius-content-9.cultur3stake.com",delegateOwnerWallet:"0xB6f506557B2e9026743FeA6157e52F204D26690F"},{endpoint:"https://audius-content-10.cultur3stake.com",delegateOwnerWallet:"0x2AF4598D3CF95D8e76987c02BC8A8D71F58d49d5"},{endpoint:"https://audius-content-11.cultur3stake.com",delegateOwnerWallet:"0xB2684Cca5281d2bA6D9Ce66Cca215635FF2Ba466"},{endpoint:"https://audius-content-12.cultur3stake.com",delegateOwnerWallet:"0x28924C99822eA08bFCeDdE3a411308633948b349"},{endpoint:"https://audius-content-13.cultur3stake.com",delegateOwnerWallet:"0xcb23908aa0dCDef762ebEaA38391D8fFC69E6e8F"},{endpoint:"https://audius-content-14.cultur3stake.com",delegateOwnerWallet:"0xCbDa351492e52fdb2f0E7FBc440cA2047738b71C"},{endpoint:"https://audius-content-15.cultur3stake.com",delegateOwnerWallet:"0x2fE2652296c40BB22D33C6379558Bf63A25b4f9a"},{endpoint:"https://audius-content-16.cultur3stake.com",delegateOwnerWallet:"0x47367ED3Db5D9691d866cb09545DE7cccD571579"},{endpoint:"https://audius-content-17.cultur3stake.com",delegateOwnerWallet:"0xb472c555Ab9eA1D33543383d6d1F8885c97eF83A"},{endpoint:"https://audius-content-18.cultur3stake.com",delegateOwnerWallet:"0x4F62C17Dc54E58289354847974E1F246c8EAcf11"},{endpoint:"https://audius-content-12.figment.io",delegateOwnerWallet:"0x780641e157621621658F118375dc1B36Ea514d46"},{endpoint:"https://cn0.mainnet.audiusindex.org",delegateOwnerWallet:"0xf9b373E223b73473C59034072263f52aEF60133B"},{endpoint:"https://cn1.mainnet.audiusindex.org",delegateOwnerWallet:"0x9b0D01bd7F01BD6916Ba139743Ce9C524B9375Dd"},{endpoint:"https://cn2.mainnet.audiusindex.org",delegateOwnerWallet:"0xf6e297203c0086dc229DAE17F5b61a15F42A1A00"},{endpoint:"https://cn3.mainnet.audiusindex.org",delegateOwnerWallet:"0x24C4b2cb6eC4c87a03F66723d8750dbe98Fa3e4f"},{endpoint:"https://audius-content-13.figment.io",delegateOwnerWallet:"0x33a2da466B14990E0124383204b06F9196f62d8e"},{endpoint:"https://audius-content-14.figment.io",delegateOwnerWallet:"0x817c513C1B702eA0BdD4F8C1204C60372f715006"},{endpoint:"https://cn4.mainnet.audiusindex.org",delegateOwnerWallet:"0x69e749266C59757dA81F8C659Be6B07ce5Bac6C9"},{endpoint:"https://audius-content-1.jollyworld.xyz",delegateOwnerWallet:"0x125A9f40CFB329266ef415b9510D4E716Dba8Da6"},{endpoint:"https://audius-creator-1.theblueprint.xyz",delegateOwnerWallet:"0x0E0aF7035581C615d07372be16D99A9B64E5B2e9"},{endpoint:"https://audius-creator-2.theblueprint.xyz",delegateOwnerWallet:"0x3D0dD2Cd46c2658d228769f4a394662946A28987"},{endpoint:"https://audius-creator-3.theblueprint.xyz",delegateOwnerWallet:"0x292B0d5987a7DE879909C48a54f0853C211da5f3"},{endpoint:"https://audius-creator-4.theblueprint.xyz",delegateOwnerWallet:"0xA815f8108C2772D24D7DCB866c861148f043224D"},{endpoint:"https://audius-creator-5.theblueprint.xyz",delegateOwnerWallet:"0x65Fe5BEf65A0E0b0520d6beE7767ea6Da7f792f6"},{endpoint:"https://audius-creator-6.theblueprint.xyz",delegateOwnerWallet:"0x19B026B0f0Dbf619DBf8C4Efb0190308ace56366"},{endpoint:"https://creatornode.audius8.prod-eks-ap-northeast-1.staked.cloud",delegateOwnerWallet:"0xc69F344FCDbc9D747559c968562f682ABfBa442C"}],web3ProviderUrl:"https://poa-gateway.audius.co",entityManagerContractAddress:"0x1Cd8a543596D499B9b6E7a6eC15ECd2B7857Fd64",identityServiceUrl:"https://identityservice.audius.co"};function _defineProperty$3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser$5=!0,env={},argv=[],version$8="",versions={},release={},config$1={};function noop$3(){}var on=noop$3,addListener=noop$3,once$3=noop$3,off=noop$3,removeListener=noop$3,removeAllListeners=noop$3,emit=noop$3;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var browser$1$1={nextTick:nextTick,title:title,browser:browser$5,env:env,argv:argv,version:version$8,versions:versions,on:on,addListener:addListener,once:once$3,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config$1,uptime:uptime},commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lib$9={};Object.defineProperty(lib$9,"__esModule",{value:!0});var _typeof$1="function"==typeof Symbol&&"symbol"===_typeof$2(Symbol.iterator)?function(e){return _typeof$2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$2(e)},isBrowser="undefined"!=typeof window&&void 0!==window.document,isNode=void 0!==browser$1$1&&null!=browser$1$1.versions&&null!=browser$1$1.versions.node,isWebWorker="object"===("undefined"==typeof self?"undefined":_typeof$1(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,isJsDom="undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),isDeno="undefined"!=typeof Deno&&void 0!==Deno.version&&void 0!==Deno.version.deno,isBrowser_1=lib$9.isBrowser=isBrowser;function asyncGeneratorStep(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){asyncGeneratorStep(o,n,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,n,i,a,s,"throw",e)}a(void 0)}))}}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}lib$9.isWebWorker=isWebWorker,lib$9.isNode=isNode,lib$9.isJsDom=isJsDom,lib$9.isDeno=isDeno;var regeneratorRuntime$1={exports:{}},_typeof={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_typeof),function(e){var t=_typeof.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new A(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var d={};function p(){}function y(){}function m(){}var v={};l(v,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==i&&o.call(b,s)&&(v=b);var w=m.prototype=p.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function $(e,r){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,t){function o(){return new r((function(r,i){n(e,t,r,i)}))}return i=i?i.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return y.prototype=m,l(w,"constructor",m),l(m,"constructor",y),y.displayName=l(m,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},_($.prototype),l($.prototype,u,(function(){return this})),n.AsyncIterator=$,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new $(f(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(e){"object"===("undefined"==typeof globalThis?"undefined":_typeof$2(globalThis))?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var isOAuthScopeValid=function(e){var t=new Set(OAUTH_SCOPE_OPTIONS);return-1===e.findIndex((function(e){return!t.has(e)}))};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof$2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _isNativeReflectConstruct$F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,r){return _construct=_isNativeReflectConstruct$F()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(i,r.prototype),i},_construct.apply(null,arguments)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,e)},_wrapNativeSuper(e)}function _createSuper$E(e){var t=_isNativeReflectConstruct$E();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ParseRequestError=function(e){_inherits(r,e);var t=_createSuper$E(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,"'".concat(e,"' => ").concat(n.message))),"method",void 0),_defineProperty$3(_assertThisInitialized(i),"innerError",void 0),_defineProperty$3(_assertThisInitialized(i),"name","ParseRequestError"),i.method=e,i.innerError=n,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),parseParams=function(e,t){return function(){var r=_asyncToGenerator(regenerator.mark((function r(n){var i;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.safeParseAsync(n);case 2:if((i=r.sent).success){r.next=5;break}throw new ParseRequestError(e,i.error);case 5:return r.abrupt("return",i.data);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},util$8,objectUtil;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(util$8||(util$8={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(objectUtil||(objectUtil={}));const ZodParsedType=util$8.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:null===e?ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$8.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$8.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let r;switch(e.code){case ZodIssueCode.invalid_type:r=e.received===ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,util$8.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${util$8.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:r="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${util$8.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${util$8.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case ZodIssueCode.invalid_date:r="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:util$8.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:r="Invalid input";break;case ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,util$8.assertNever(e)}return{message:r}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],a={...i,path:o};let s="";const u=n.filter((e=>!!e)).slice().reverse();for(const e of u)s=e(a,{data:t,defaultError:s}).message;return{...i,path:o,message:i.message||s}},EMPTY_PATH=[];function addIssueToContext(e,t){const r=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e))});e.common.issues.push(r)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return INVALID;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const e of t)r.push({key:await e.key,value:await e.value});return ParseStatus.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status)return INVALID;if("aborted"===i.status)return INVALID;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;var errorUtil;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ZodError(e.common.issues);return this._error=t,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=r?r:t.defaultError},description:i}}class ZodType{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(isAsync(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},i=this._parseSync({data:e,path:n.path,parent:n});return handleResult(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(isAsync(n)?n:Promise.resolve(n));return handleResult(r,i)}refine(e,t){const r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),o=()=>n.addIssue({code:ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1)))}_refinement(e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:t,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:t,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(e,t){return!("v4"!==t&&t||!ipv4Regex.test(e))||!("v6"!==t&&t||!ipv6Regex.test(e))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement((t=>e.test(t)),{validation:t,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(r)}),this.nonempty=e=>this.min(1,errorUtil.errToObj(e)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ZodParsedType.string){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:t.parsedType}),INVALID}const t=new ParseStatus;let r;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("length"===n.kind){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if("email"===n.kind)emailRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"email",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("emoji"===n.kind)emojiRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"emoji",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)uuidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"uuid",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)cuidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"cuid",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("cuid2"===n.kind)cuid2Regex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("ulid"===n.kind)ulidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"ulid",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch(i){r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"url",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"regex",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty())}else if("trim"===n.kind)e.data=e.data.trim();else if("includes"===n.kind)e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty());else if("toLowerCase"===n.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===n.kind)e.data=e.data.toUpperCase();else if("startsWith"===n.kind)e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty());else if("endsWith"===n.kind)e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty());else if("datetime"===n.kind){datetimeRegex(n).test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:"datetime",message:n.message}),t.dirty())}else"ip"===n.kind?isValidIP(e.data,n.version)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"ip",code:ZodIssueCode.invalid_string,message:n.message}),t.dirty()):util$8.assertNever(n);return{status:t.value,value:e.data}}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...errorUtil.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...errorUtil.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...errorUtil.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function floatSafeRemainder(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ZodParsedType.number){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:t.parsedType}),INVALID}let t;const r=new ParseStatus;for(const n of this._def.checks)if("int"===n.kind)util$8.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==floatSafeRemainder(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_finite,message:n.message}),r.dirty()):util$8.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,errorUtil.toString(t))}setLimit(e,t,r,n){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:errorUtil.toString(n)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&util$8.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==ZodParsedType.bigint){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:t.parsedType}),INVALID}let t;const r=new ParseStatus;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):util$8.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,errorUtil.toString(t))}setLimit(e,t,r,n){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:errorUtil.toString(n)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:t.parsedType}),INVALID}return OK(e.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ZodParsedType.date){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:t.parsedType}),INVALID}if(isNaN(e.data.getTime())){return addIssueToContext(this._getOrReturnCtx(e),{code:ZodIssueCode.invalid_date}),INVALID}const t=new ParseStatus;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):util$8.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:t.parsedType}),INVALID}return OK(e.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:t.parsedType}),INVALID}return OK(e.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.null){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:t.parsedType}),INVALID}return OK(e.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(e){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:t.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:t.parsedType}),INVALID}return OK(e.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==ZodParsedType.array)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:t.parsedType}),INVALID;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(addIssueToContext(t,{code:e?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(addIssueToContext(t,{code:ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(addIssueToContext(t,{code:ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new ParseInputLazyPath(t,e,t.path,r))))).then((e=>ParseStatus.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new ParseInputLazyPath(t,e,t.path,r))));return ParseStatus.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new ZodArray({...this._def,minLength:{value:e,message:errorUtil.toString(t)}})}max(e,t){return new ZodArray({...this._def,maxLength:{value:e,message:errorUtil.toString(t)}})}length(e,t){return new ZodArray({...this._def,exactLength:{value:e,message:errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ZodOptional.create(deepPartialify(n))}return new ZodObject({...e._def,shape:()=>t})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map((e=>deepPartialify(e)))):e}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=util$8.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ZodParsedType.object){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:t.parsedType}),INVALID}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const e in r.data)i.includes(e)||o.push(e);const a=[];for(const e of i){const t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ZodNever){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&(addIssueToContext(r,{code:ZodIssueCode.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new ParseInputLazyPath(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>ParseStatus.mergeObjectSync(t,e))):ParseStatus.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,a;const s=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=errorUtil.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const t={};return util$8.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new ZodObject({...this._def,shape:()=>t})}omit(e){const t={};return util$8.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new ZodObject({...this._def,shape:()=>t})}deepPartial(){return deepPartialify(this)}partial(e){const t={};return util$8.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new ZodObject({...this._def,shape:()=>t})}required(e){const t={};return util$8.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ZodOptional;)e=e._def.innerType;t[r]=e}})),new ZodObject({...this._def,shape:()=>t})}keyof(){return createZodEnum(util$8.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const r=e.map((e=>new ZodError(e.ctx.common.issues)));return addIssueToContext(t,{code:ZodIssueCode.invalid_union,unionErrors:r}),INVALID}));{let e;const n=[];for(const i of r){const r={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new ZodError(e)));return addIssueToContext(t,{code:ZodIssueCode.invalid_union,unionErrors:i}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?Object.keys(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.object)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:t.parsedType}),INVALID;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(addIssueToContext(t,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const r of t){const t=getDiscriminator(r.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...processCreateParams(r)})}}function mergeValues(e,t){const r=getParsedType(e),n=getParsedType(t);if(e===t)return{valid:!0,data:e};if(r===ZodParsedType.object&&n===ZodParsedType.object){const r=util$8.objectKeys(t),n=util$8.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const r of n){const n=mergeValues(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===ZodParsedType.array&&n===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=mergeValues(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===ZodParsedType.date&&n===ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(isAborted(e)||isAborted(n))return INVALID;const i=mergeValues(e.value,n.value);return i.valid?((isDirty(e)||isDirty(n))&&t.dirty(),{status:t.value,value:i.data}):(addIssueToContext(r,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ZodIntersection.create=(e,t,r)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(r)});class ZodTuple extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.array)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:r.parsedType}),INVALID;if(r.data.length<this._def.items.length)return addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&r.data.length>this._def.items.length&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new ParseInputLazyPath(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>ParseStatus.mergeArray(t,e))):ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.object)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:r.parsedType}),INVALID;const n=[],i=this._def.keyType,o=this._def.valueType;for(const e in r.data)n.push({key:i._parse(new ParseInputLazyPath(r,e,r.path,e)),value:o._parse(new ParseInputLazyPath(r,r.data[e],r.path,e))});return r.common.async?ParseStatus.mergeObjectAsync(t,n):ParseStatus.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ZodRecord(t instanceof ZodType?{keyType:e,valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(r)}:{keyType:ZodString.create(),valueType:e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(t)})}}class ZodMap extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.map)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:r.parsedType}),INVALID;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map((([e,t],o)=>({key:n._parse(new ParseInputLazyPath(r,e,r.path,[o,"key"])),value:i._parse(new ParseInputLazyPath(r,t,r.path,[o,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of o){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return INVALID;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of o){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return INVALID;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}ZodMap.create=(e,t,r)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(r)});class ZodSet extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.set)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:r.parsedType}),INVALID;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const r=new Set;for(const n of e){if("aborted"===n.status)return INVALID;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const a=[...r.data.values()].map(((e,t)=>i._parse(new ParseInputLazyPath(r,e,r.path,t))));return r.common.async?Promise.all(a).then((e=>o(e))):o(a)}min(e,t){return new ZodSet({...this._def,minSize:{value:e,message:errorUtil.toString(t)}})}max(e,t){return new ZodSet({...this._def,maxSize:{value:e,message:errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.function)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:t.parsedType}),INVALID;function r(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:r}})}function n(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;return this._def.returns instanceof ZodPromise?OK((async(...e)=>{const t=new ZodError([]),a=await this._def.args.parseAsync(e,i).catch((n=>{throw t.addIssue(r(e,n)),t})),s=await o(...a);return await this._def.returns._def.type.parseAsync(s,i).catch((e=>{throw t.addIssue(n(s,e)),t}))})):OK(((...e)=>{const t=this._def.args.safeParse(e,i);if(!t.success)throw new ZodError([r(e,t.error)]);const a=o(...t.data),s=this._def.returns.safeParse(a,i);if(!s.success)throw new ZodError([n(a,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:t||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(r)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{received:t.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});class ZodEnum extends ZodType{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{expected:util$8.joinValues(r),received:t.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{received:t.data,code:ZodIssueCode.invalid_enum_value,options:r}),INVALID}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return ZodEnum.create(e)}exclude(e){return ZodEnum.create(this.options.filter((t=>!e.includes(t))))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(e){const t=util$8.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ZodParsedType.string&&r.parsedType!==ZodParsedType.number){const e=util$8.objectValues(t);return addIssueToContext(r,{expected:util$8.joinValues(e),received:r.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(-1===t.indexOf(e.data)){const e=util$8.objectValues(t);return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_enum_value,options:e}),INVALID}return OK(e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.promise&&!1===t.common.async)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:t.parsedType}),INVALID;const r=t.parsedType===ZodParsedType.promise?t.data:Promise.resolve(t.data);return OK(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null;if("preprocess"===n.type){const e=n.transform(r.data);return r.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r}))):this._def.schema._parseSync({data:e,path:r.path,parent:r})}const i={addIssue:e=>{addIssueToContext(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?INVALID:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!isValid(e))return e;const o=n.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>isValid(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}util$8.assertNever(n)}}ZodEffects.create=(e,t,r)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(r)}),ZodEffects.createWithPreprocess=(e,t,r)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(r)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return isAsync(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.nan){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:t.parsedType}),INVALID}return{status:"valid",value:e.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?INVALID:"dirty"===e.status?(t.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ZodPipeline({in:e,out:t,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom$1=(e,t={},r)=>e?ZodAny.create().superRefine(((n,i)=>{var o,a;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,s=null===(a=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===a||a,u="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:s})}})):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,t={message:`Input not instance of ${e.name}`})=>custom$1((t=>t instanceof e),t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$6={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:EMPTY_PATH,addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:INVALID,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return util$8},get objectUtil(){return objectUtil},ZodParsedType:ZodParsedType,getParsedType:getParsedType,ZodType:ZodType,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:BRAND,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,custom:custom$1,Schema:ZodType,ZodSchema:ZodType,late:late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$6,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean:oboolean,onumber:onumber,optional:optionalType,ostring:ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER,ZodIssueCode:ZodIssueCode,quotelessJson:quotelessJson,ZodError:ZodError}),isApiKeyValid=function(e){try{if(40!==e.length)return!1;return/^[0-9a-fA-F]+$/.test(e)}catch(e){return!1}},IsWriteAccessGrantedSchema=z.object({userId:z.string(),apiKey:z.optional(z.custom((function(e){return isApiKeyValid(e)})))}),OAUTH_SCOPE_OPTIONS=["read","write"],CSS="\n.audiusLoginButton {\n  cursor: pointer;\n  font-family: Helvetica, Arial, sans-serif;\n  text-align: center;\n  color: #FFFFFF;\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 100%;\n  align-items: center;\n  display: flex;\n  border: 0;\n  height: 28px;\n  justify-content: center;\n  padding: 0px 16px;\n  background: #CC0FE0;\n  border-radius: 4px;\n  transition: all 0.07s ease-in-out;\n}\n\n.audiusLoginButton:hover {\n  background: #D127E3;\n  transform: perspective(1px) scale3d(1.04, 1.04, 1.04);\n}\n\n.audiusLoginButton.disableHoverGrow:hover {\n  transform: none;\n}\n\n.audiusLoginButton:active {\n  background: #A30CB3;\n}\n\n.audiusLoginButton.pill {\n  border-radius: 99px;\n}\n\n.audiusLoginButton.fullWidth {\n  width: 100%;\n}\n\n.audiusLoginButton.small {\n  height: 20px;\n  font-size: 11px;\n  padding: 0px 32px;\n}\n\n.audiusLoginButton.large {\n  height: 40px;\n  font-size: 18px;\n  padding: 0px 18px;\n}\n",generateId=function(){var e=new Uint8Array(20);return(window.crypto||window.msCrypto).getRandomValues(e),Array.from(e,(function(e){return e.toString(16).padStart(2,"0")})).join("")},generateAudiusLogoSvg=function(e){var t,r;return"small"===e?(t=16,r=5):"medium"===e?(t=18,r=5):(t=24,r=10),'<svg width="'.concat(t,'px" height="').concat(t,'px" viewBox="0 0 56 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="padding-right: ').concat(r,'px;">\n<g id="Assets" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="assets" transform="translate(-1555.000000, -2588.000000)">\n        <g id="audiusLogoGlyph" transform="translate(1555.000000, 2588.000000)">\n            <path d="M55.8191698,46.0362519 L42.4551012,23.3458831 L36.1870263,12.7036635 L29.0910326,0.65551431 C28.5766233,-0.217848954 27.2890668,-0.218676884 26.7734944,0.654065432 L13.3787621,23.3270477 L7.90582764,32.5909699 C7.39025522,33.4637122 8.03324043,34.5553386 9.06332791,34.5560631 L19.4031138,34.56279 C19.881044,34.5631005 20.3230236,34.3136864 20.5623059,33.9087249 L25.9362708,24.8122516 L26.7580568,23.4212248 C26.790518,23.3662709 26.8260456,23.3149392 26.8641108,23.2669192 C27.4325516,22.5520012 28.5935412,22.6041608 29.0755951,23.4226737 L34.6514114,32.8894388 L35.682239,34.6396841 C35.7412402,34.7399672 35.7843808,34.8430445 35.813987,34.9470533 C36.0430129,35.7492145 35.4339691,36.6039494 34.5220954,36.6034319 L22.3586676,36.5954631 C21.8806317,36.5951526 21.4387578,36.8445667 21.1994756,37.2496317 L16.0236614,46.0105861 C15.5080889,46.8833284 16.1510741,47.9749548 17.1810559,47.9756793 L27.9002253,47.9827167 L41.2664086,47.9913065 L54.6590261,47.9999997 C55.6892193,48.0006207 56.3335791,46.9096152 55.8191698,46.0362519" id="Audius-Logo" fill="#ffffff" fill-rule="evenodd"></path>\n            <rect id="bound" x="0" y="0" width="56" height="48"></rect>\n        </g>\n    </g>\n</g>\n</svg>')},CSRF_TOKEN_KEY="audiusOauthState",OAUTH_URL={production:"https://audius.co/oauth/auth",staging:"https://staging.audius.co/oauth/auth"},OAuth=function(){function e(t){var r;if(_classCallCheck$1(this,e),_defineProperty$3(this,"config",void 0),_defineProperty$3(this,"activePopupWindow",void 0),_defineProperty$3(this,"popupCheckInterval",void 0),_defineProperty$3(this,"loginSuccessCallback",void 0),_defineProperty$3(this,"loginErrorCallback",void 0),_defineProperty$3(this,"apiKey",void 0),_defineProperty$3(this,"env","production"),_defineProperty$3(this,"logger",void 0),this.config=t,"undefined"==typeof window)throw new Error("Audius OAuth SDK functions are only available in browser. Refer to our documentation to learn how to implement Audius OAuth manually: https://docs.audius.org/developers/log-in-with-audius#manual-implementation.");this.apiKey=null!==(r=t.apiKey)&&void 0!==r?r:null,this.activePopupWindow=null,this.loginSuccessCallback=null,this.loginErrorCallback=null,this.popupCheckInterval=null,this.logger=t.logger.createPrefixedLogger("[oauth]")}var t,r,n;return _createClass$1(e,[{key:"init",value:function(e){var t=this,r=e.successCallback,n=e.errorCallback,i=e.env,o=void 0===i?"production":i;this.loginSuccessCallback=r,this.loginErrorCallback=null!=n?n:null,this.env=o,window.addEventListener("message",(function(e){t._receiveMessage(e)}),!1)}},{key:"isWriteAccessGranted",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("isWriteAccessGranted",IsWriteAccessGrantedSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.apiKey,this.apiKey||o||this._surfaceError("Need to init Audius SDK with API key or pass in API Key directly to oauth.isWriteAccessGranted."),e.next=8,this.config.usersApi.getAuthorizedApps({id:i});case 8:return a=e.sent,s=null===(r=a.data)||void 0===r?void 0:r.findIndex((function(e){return e.address.toLowerCase()==="0x".concat((o||u.apiKey).toLowerCase())})),e.abrupt("return",void 0!==s&&s>-1);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"login",value:function(e){var t=this,r=e.scope,n=void 0===r?"read":r,i="string"==typeof n?[n]:n;if(this.config.appName||this.apiKey)if(n.includes("write")&&!this.apiKey&&this._surfaceError("The 'write' scope requires Audius SDK to be initialized with an API key"),this.loginSuccessCallback)if(isOAuthScopeValid(i)){var o=generateId();window.localStorage.setItem(CSRF_TOKEN_KEY,o);var a=encodeURIComponent(window.location.origin),s=encodeURIComponent(this.apiKey||this.config.appName),u="".concat(this.apiKey?"api_key":"app_name","=").concat(s),c=n.includes("write")?"write":"read",l="".concat(OAUTH_URL[this.env],"?scope=").concat(c,"&state=").concat(o,"&redirect_uri=postMessage&origin=").concat(a,"&").concat(u);this.activePopupWindow=window.open(l,"","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=375, height=720, top=100, left=100"),this._clearPopupCheckInterval(),this.popupCheckInterval=setInterval((function(){var e;null!==(e=t.activePopupWindow)&&void 0!==e&&e.closed&&(t._surfaceError("The login popup was closed prematurely."),t.popupCheckInterval&&clearInterval(t.popupCheckInterval))}),500)}else this._surfaceError("Scope must be `read` or `write`.");else this._surfaceError("Login success callback not set (set with `init` method).");else this._surfaceError("App name not set (set with `init` method).")}},{key:"renderButton",value:function(e){var t,r,n=this,i=e.element,o=e.scope,a=void 0===o?"read":o,s=e.buttonOptions;i||this.logger.error("Target element for Audius OAuth button is empty.");var u=document.createElement("style");u.textContent=CSS,document.head.appendChild(u);var c=document.createElement("button");c.id="audius-login-button",c.classList.add("audiusLoginButton"),"pill"===(null==s?void 0:s.corners)&&c.classList.add("pill"),"small"===(null==s?void 0:s.size)&&c.classList.add("small"),"large"===(null==s?void 0:s.size)&&c.classList.add("large"),null!=s&&s.fullWidth&&c.classList.add("fullWidth"),null!=s&&s.disableHoverGrow&&c.classList.add("disableHoverGrow"),c.innerHTML="".concat(generateAudiusLogoSvg(null!==(t=null==s?void 0:s.size)&&void 0!==t?t:"medium")," ").concat(null!==(r=null==s?void 0:s.customText)&&void 0!==r?r:"Continue With Audius"),c.onclick=function(){n.login({scope:a})},i.replaceWith(c)}},{key:"verifyToken",value:(r=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.config.usersApi.verifyIDToken({token:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_surfaceError",value:function(e){this.loginErrorCallback?this.loginErrorCallback(e):this.logger.error(e)}},{key:"_clearPopupCheckInterval",value:function(){this.popupCheckInterval&&clearInterval(this.popupCheckInterval)}},{key:"_receiveMessage",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new URL(OAUTH_URL[this.env]).origin,t.origin===r&&t.source===this.activePopupWindow&&t.data.state&&t.data.token){e.next=3;break}return e.abrupt("return");case 3:return this._clearPopupCheckInterval(),this.activePopupWindow&&(this.activePopupWindow.closed||this.activePopupWindow.close(),this.activePopupWindow=null),window.localStorage.getItem(CSRF_TOKEN_KEY)!==t.data.state&&this._surfaceError("State mismatch."),e.next=8,this.verifyToken(t.data.token);case 8:null!=(n=e.sent)&&n.data?this.loginSuccessCallback&&this.loginSuccessCallback(n.data):this._surfaceError("The token was invalid.");case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Action,EntityType,BlockConfirmation;function _arrayLikeToArray$h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$h(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray$h(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$h(e,t):void 0}}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$h(e)||_nonIterableSpread()}!function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.VERIFY="Verify",e.FOLLOW="Follow",e.UNFOLLOW="Unfollow",e.SAVE="Save",e.UNSAVE="Unsave",e.REPOST="Repost",e.UNREPOST="Unrepost",e.SUBSCRIBE="Subscribe",e.UNSUBSCRIBE="Unsubscribe",e.VIEW="View",e.VIEW_PLAYLIST="ViewPlaylist"}(Action||(Action={})),function(e){e.PLAYLIST="Playlist",e.TRACK="Track",e.USER="User",e.USER_REPLICA_SET="UserReplicaSet",e.NOTIFICATION="Notification",e.DEVELOPER_APP="DeveloperApp",e.GRANT="Grant"}(EntityType||(EntityType={})),function(e){e.CONFIRMED="CONFIRMED",e.DENIED="DENIED",e.UNKNOWN="UNKNOWN"}(BlockConfirmation||(BlockConfirmation={}));var keepUnique=function(e){return _toConsumableArray(new Set(e))},withoutChars=function(e,t){return e.filter((function(e){return!t.includes(e)}))},onlyChars=function(e,t){return e.filter((function(e){return t.includes(e)}))},isIntegerNumber=function(e){return"bigint"==typeof e||!Number.isNaN(Number(e))&&Math.floor(Number(e))===e},isPositiveAndFinite=function(e){return"bigint"==typeof e||e>=0&&Number.isSafeInteger(e)};function shuffle(e,t){if(0===t.length)return e;for(var r,n=_toConsumableArray(e),i=n.length-1,o=0,a=0;i>0;i--,o++){a+=r=t[o%=t.length].codePointAt(0);var s=(r+o+a)%i,u=n[i],c=n[s];n[s]=u,n[i]=c}return n}var toAlphabet=function(e,t){var r=[],n=e;if("bigint"==typeof n){var i=BigInt(t.length);do{r.unshift(t[Number(n%i)]),n/=i}while(n>BigInt(0))}else do{r.unshift(t[n%t.length]),n=Math.floor(n/t.length)}while(n>0);return r},fromAlphabet=function(e,t){return e.reduce((function(r,n){var i=t.indexOf(n);if(-1===i)throw new Error("The provided ID (".concat(e.join(""),") is invalid, as it contains characters that do not exist in the alphabet (").concat(t.join(""),")"));if("bigint"==typeof r)return r*BigInt(t.length)+BigInt(i);var o=r*t.length+i;if(Number.isSafeInteger(o))return o;if("function"==typeof BigInt)return BigInt(r)*BigInt(t.length)+BigInt(i);throw new Error("Unable to decode the provided string, due to lack of support for BigInt numbers in the current environment")}),0)},safeToParseNumberRegExp=/^\+?\d+$/,safeParseInt10=function(e){return safeToParseNumberRegExp.test(e)?Number.parseInt(e,10):Number.NaN},splitAtIntervalAndMap=function(e,t,r){return Array.from({length:Math.ceil(e.length/t)},(function(n,i){return r(e.slice(i*t,(i+1)*t))}))},makeAnyOfCharsRegExp=function(e){return new RegExp(e.map((function(e){return escapeRegExp(e)})).sort((function(e,t){return t.length-e.length})).join("|"))},makeAtLeastSomeCharRegExp=function(e){return new RegExp("^[".concat(e.map((function(e){return escapeRegExp(e)})).sort((function(e,t){return t.length-e.length})).join(""),"]+$"))},escapeRegExp=function(e){return e.replace(/[\s#$()*+,.?[\\\]^{|}-]/g,"\\$&")};function _createForOfIteratorHelper$g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$g(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$g(e,t):void 0}}function _arrayLikeToArray$g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MIN_ALPHABET_LENGTH=16,SEPARATOR_DIV=3.5,GUARD_DIV=12,HEXADECIMAL=16,SPLIT_AT_EVERY_NTH=12,MODULO_PART=100,Hashids=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cfhistuCFHISTU";if(_classCallCheck$1(this,e),this.minLength=r,"number"!=typeof r)throw new TypeError("Hashids: Provided 'minLength' has to be a number (is ".concat(_typeof$2(r),")"));if("string"!=typeof t)throw new TypeError("Hashids: Provided 'salt' has to be a string (is ".concat(_typeof$2(t),")"));if("string"!=typeof n)throw new TypeError("Hashids: Provided alphabet has to be a string (is ".concat(_typeof$2(n),")"));var o=Array.from(t),a=Array.from(n),s=Array.from(i);this.salt=o;var u=keepUnique(a);if(u.length<MIN_ALPHABET_LENGTH)throw new Error("Hashids: alphabet must contain at least ".concat(MIN_ALPHABET_LENGTH," unique characters, provided: ").concat(u.join("")));this.alphabet=withoutChars(u,s);var c,l,f,h=onlyChars(s,u);(this.seps=shuffle(h,o),0===this.seps.length||this.alphabet.length/this.seps.length>SEPARATOR_DIV)&&((c=Math.ceil(this.alphabet.length/SEPARATOR_DIV))>this.seps.length&&(l=c-this.seps.length,(f=this.seps).push.apply(f,_toConsumableArray(this.alphabet.slice(0,l))),this.alphabet=this.alphabet.slice(l)));this.alphabet=shuffle(this.alphabet,o);var d=Math.ceil(this.alphabet.length/GUARD_DIV);this.alphabet.length<3?(this.guards=this.seps.slice(0,d),this.seps=this.seps.slice(d)):(this.guards=this.alphabet.slice(0,d),this.alphabet=this.alphabet.slice(d)),this.guardsRegExp=makeAnyOfCharsRegExp(this.guards),this.sepsRegExp=makeAnyOfCharsRegExp(this.seps),this.allowedCharsRegExp=makeAtLeastSomeCharRegExp([].concat(_toConsumableArray(this.alphabet),_toConsumableArray(this.guards),_toConsumableArray(this.seps)))}return _createClass$1(e,[{key:"encode",value:function(e){for(var t="",r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=Array.isArray(e)?e:[].concat(_toConsumableArray(null!=e?[e]:[]),n);return 0===o.length?t:(o.every(isIntegerNumber)||(o=o.map((function(e){return"bigint"==typeof e||"number"==typeof e?e:safeParseInt10(String(e))}))),o.every(isPositiveAndFinite)?this._encode(o).join(""):t)}},{key:"decode",value:function(e){return e&&"string"==typeof e&&0!==e.length?this._decode(e):[]}},{key:"encodeHex",value:function(e){var t=e;switch(_typeof$2(t)){case"bigint":t=t.toString(HEXADECIMAL);break;case"string":if(!/^[\dA-Fa-f]+$/.test(t))return"";break;default:throw new Error("Hashids: The provided value is neither a string, nor a BigInt (got: ".concat(_typeof$2(t),")"))}var r=splitAtIntervalAndMap(t,SPLIT_AT_EVERY_NTH,(function(e){return Number.parseInt("1".concat(e),16)}));return this.encode(r)}},{key:"decodeHex",value:function(e){return this.decode(e).map((function(e){return e.toString(HEXADECIMAL).slice(1)})).join("")}},{key:"isValidId",value:function(e){return this.allowedCharsRegExp.test(e)}},{key:"_encode",value:function(e){var t=this,r=this.alphabet,n=e.reduce((function(e,t,r){return e+("bigint"==typeof t?Number(t%BigInt(r+MODULO_PART)):t%(r+MODULO_PART))}),0),i=[r[n%r.length]],o=_toConsumableArray(i),a=this.seps,s=this.guards;if(e.forEach((function(n,s){var u,c=o.concat(t.salt,r);r=shuffle(r,c);var l=toAlphabet(n,r);if((u=i).push.apply(u,_toConsumableArray(l)),s+1<e.length){var f=l[0].codePointAt(0)+s,h="bigint"==typeof n?Number(n%BigInt(f)):n%f;i.push(a[h%a.length])}})),i.length<this.minLength){var u=(n+i[0].codePointAt(0))%s.length;if(i.unshift(s[u]),i.length<this.minLength){var c=(n+i[2].codePointAt(0))%s.length;i.push(s[c])}}for(var l=Math.floor(r.length/2);i.length<this.minLength;){var f,h;r=shuffle(r,r),(f=i).unshift.apply(f,_toConsumableArray(r.slice(l))),(h=i).push.apply(h,_toConsumableArray(r.slice(0,l)));var d=i.length-this.minLength;if(d>0){var p=d/2;i=i.slice(p,p+this.minLength)}}return i}},{key:"_decode",value:function(e){if(!this.isValidId(e))throw new Error("The provided ID (".concat(e,") is invalid, as it contains characters that do not exist in the alphabet (").concat(this.guards.join("")).concat(this.seps.join("")).concat(this.alphabet.join(""),")"));var t=e.split(this.guardsRegExp),r=t[3===t.length||2===t.length?1:0];if(0===r.length)return[];var n,i=r[Symbol.iterator]().next().value,o=r.slice(i.length).split(this.sepsRegExp),a=this.alphabet,s=[],u=_createForOfIteratorHelper$g(o);try{for(u.s();!(n=u.n()).done;){var c=n.value,l=shuffle(a,[i].concat(_toConsumableArray(this.salt),_toConsumableArray(a)).slice(0,a.length));s.push(fromAlphabet(Array.from(c),l)),a=l}}catch(e){u.e(e)}finally{u.f()}return this._encode(s).join("")!==e?[]:s}}]),e}(),HASH_SALT$1="azowernasdfoia",MIN_LENGTH$1=5,hashids$1=new Hashids(HASH_SALT$1,MIN_LENGTH$1),decodeHashId=function(e){try{var t=hashids$1.decode(e);if(!t.length)return null;var r=Number(t[0]);return isNaN(r)?null:r}catch(e){return null}},encodeHashId=function(e){try{return null===e?null:hashids$1.encode(e)}catch(e){return null}},HashId=z.string().transform((function(e,t){var r=decodeHashId(e);return null===r?(t.addIssue({code:z.ZodIssueCode.custom,message:"Hash id is invalid"}),z.NEVER):r})),CreateGrantSchema=z.object({userId:HashId,appApiKey:z.custom((function(e){return isApiKeyValid(e)}))}),RevokeGrantSchema=z.object({userId:HashId,appApiKey:z.custom((function(e){return isApiKeyValid(e)}))}),GrantsApi=function(){function e(t,r,n){_classCallCheck$1(this,e),_defineProperty$3(this,"entityManager",void 0),_defineProperty$3(this,"auth",void 0),this.entityManager=r,this.auth=n}var t,r;return _createClass$1(e,[{key:"createGrant",value:(r=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("createGrant",CreateGrantSchema)(t);case 2:return r=e.sent,n=r.userId,i=r.appApiKey,e.next=7,this.entityManager.manageEntity({userId:n,entityType:EntityType.GRANT,entityId:0,action:Action.CREATE,metadata:JSON.stringify({grantee_address:"0x".concat(i)}),auth:this.auth});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"revokeGrant",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("revokeGrant",RevokeGrantSchema)(t);case 2:return r=e.sent,n=r.userId,i=r.appApiKey,e.next=7,this.entityManager.manageEntity({userId:n,entityType:EntityType.GRANT,entityId:0,action:Action.DELETE,metadata:JSON.stringify({grantee_address:"0x".concat(i)}),auth:this.auth});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),web3;web3="undefined"!=typeof window&&window&&window.Web3?window.Web3:require$$0__default.default;var Web3$1=web3;function _createSuper$D(e){var t=_isNativeReflectConstruct$D();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys$q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$q(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createForOfIteratorHelper$f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$f(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$f(e,t):void 0}}function _arrayLikeToArray$f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BASE_PATH$1="/v1".replace(/\/+$/,""),Configuration$1=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck$1(this,e),_defineProperty$3(this,"configuration",void 0),this.configuration=t}return _createClass$1(e,[{key:"config",set:function(e){this.configuration=e}},{key:"basePath",get:function(){return null!=this.configuration.basePath?this.configuration.basePath:BASE_PATH$1}},{key:"fetchApi",get:function(){return this.configuration.fetchApi}},{key:"middleware",get:function(){return this.configuration.middleware||[]}},{key:"queryParamsStringify",get:function(){return this.configuration.queryParamsStringify||querystring$1}},{key:"username",get:function(){return this.configuration.username}},{key:"password",get:function(){return this.configuration.password}},{key:"apiKey",get:function(){var e=this.configuration.apiKey;if(e)return"function"==typeof e?e:function(){return e}}},{key:"accessToken",get:function(){var e=this.configuration.accessToken;if(e)return"function"==typeof e?e:_asyncToGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))}},{key:"headers",get:function(){return this.configuration.headers}},{key:"credentials",get:function(){return this.configuration.credentials}}]),e}(),DefaultConfig$1=new Configuration$1,BaseAPI$1=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DefaultConfig$1;_classCallCheck$1(this,e),_defineProperty$3(this,"configuration",void 0),_defineProperty$3(this,"middleware",void 0),_defineProperty$3(this,"fetchApi",function(){var e=_asyncToGenerator(regenerator.mark((function e(r,n){var i,o,a,s,u,c,l,f,h,d,p;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={url:r,init:n},o=_createForOfIteratorHelper$f(t.middleware),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=15;break}if(!(s=a.value).pre){e.next=13;break}return e.next=9,s.pre(_objectSpread$q({fetch:t.fetchApi},i));case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=i;case 12:i=e.t0;case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return u=void 0,e.prev=24,e.next=27,(t.configuration.fetchApi||fetch)(i.url,i.init);case 27:u=e.sent,e.next=60;break;case 30:e.prev=30,e.t2=e.catch(24),c=_createForOfIteratorHelper$f(t.middleware),e.prev=33,c.s();case 35:if((l=c.n()).done){e.next=46;break}if(!(f=l.value).onError){e.next=44;break}return e.next=40,f.onError({fetch:t.fetchApi,url:i.url,init:i.init,error:e.t2,response:u?u.clone():void 0});case 40:if(e.t3=e.sent,e.t3){e.next=43;break}e.t3=u;case 43:u=e.t3;case 44:e.next=35;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(33),c.e(e.t4);case 51:return e.prev=51,c.f(),e.finish(51);case 54:if(void 0!==u){e.next=60;break}if(!(e.t2 instanceof Error)){e.next=59;break}throw new FetchError$1(e.t2,"The request failed and the interceptors did not return an alternative response");case 59:throw e.t2;case 60:h=_createForOfIteratorHelper$f(t.middleware),e.prev=61,h.s();case 63:if((d=h.n()).done){e.next=74;break}if(!(p=d.value).post){e.next=72;break}return e.next=68,p.post({fetch:t.fetchApi,url:i.url,init:i.init,response:u.clone()});case 68:if(e.t5=e.sent,e.t5){e.next=71;break}e.t5=u;case 71:u=e.t5;case 72:e.next=63;break;case 74:e.next=79;break;case 76:e.prev=76,e.t6=e.catch(61),h.e(e.t6);case 79:return e.prev=79,h.f(),e.finish(79);case 82:return e.abrupt("return",u);case 83:case"end":return e.stop()}}),e,null,[[2,17,20,23],[24,30],[33,48,51,54],[61,76,79,82]])})));return function(t,r){return e.apply(this,arguments)}}()),this.configuration=r,this.middleware=r.middleware}var t,r;return _createClass$1(e,[{key:"withMiddleware",value:function(){var e,t=this.clone();return t.middleware=(e=t.middleware).concat.apply(e,arguments),t}},{key:"withPreMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{pre:e}}));return this.withMiddleware.apply(this,_toConsumableArray(n))}},{key:"withPostMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{post:e}}));return this.withMiddleware.apply(this,_toConsumableArray(n))}},{key:"request",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createFetchParams(t,r);case 2:return n=e.sent,i=n.url,o=n.init,e.next=7,this.fetchApi(i,o);case 7:if(!((a=e.sent)&&a.status>=200&&a.status<300)){e.next=10;break}return e.abrupt("return",a);case 10:throw new ResponseError$1(a,"Response returned an error code");case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"createFetchParams",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.configuration.basePath+t.path,void 0!==t.query&&0!==Object.keys(t.query).length&&(n+="?"+this.configuration.queryParamsStringify(t.query)),i=Object.assign({},this.configuration.headers,t.headers),Object.keys(i).forEach((function(e){return void 0===i[e]?delete i[e]:{}})),o="function"==typeof r?r:_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)}))),a={method:t.method,headers:i,body:t.body,credentials:this.configuration.credentials},e.t0=_objectSpread$q,e.t1=_objectSpread$q({},a),e.next=10,o({init:a,context:t});case 10:return e.t2=e.sent,s=(0,e.t0)(e.t1,e.t2),u=_objectSpread$q(_objectSpread$q({},s),{},{body:isFormData$2(s.body)||s.body instanceof URLSearchParams||isBlob$2(s.body)||isString$2(s.body)?s.body:JSON.stringify(s.body)}),e.abrupt("return",{url:n,init:u});case 14:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"clone",value:function(){var e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}]),e}();function isBlob$2(e){return"undefined"!=typeof Blob&&e instanceof Blob}function isFormData$2(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isString$2(e){return"string"==typeof e}var ResponseError$1=function(e){_inherits(r,e);var t=_createSuper$D(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"response",void 0),_defineProperty$3(_assertThisInitialized(i),"name","ResponseError"),i.response=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),FetchError$1=function(e){_inherits(r,e);var t=_createSuper$D(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"cause",void 0),_defineProperty$3(_assertThisInitialized(i),"name","FetchError"),i.cause=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),RequiredError$1=function(e){_inherits(r,e);var t=_createSuper$D(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"field",void 0),_defineProperty$3(_assertThisInitialized(i),"name","RequiredError"),i.field=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error));function exists$2(e,t){var r=e[t];return null!=r}function querystring$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).sort().map((function(r){return querystringSingleKey$1(r,e[r],t)})).filter((function(e){return e.length>0})).join("&")}function querystringSingleKey$1(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=r+(r.length?"[".concat(e,"]"):e);if(t instanceof Array){var i=t.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(n),"="));return"".concat(encodeURIComponent(n),"=").concat(i)}if(t instanceof Set){var o=Array.from(t);return querystringSingleKey$1(e,o,r)}return t instanceof Date?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t.toISOString())):t instanceof Object?querystring$1(t,n):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(String(t)))}var JSONApiResponse$1=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};_classCallCheck$1(this,e),_defineProperty$3(this,"raw",void 0),_defineProperty$3(this,"transformer",void 0),this.raw=t,this.transformer=r}var t;return _createClass$1(e,[{key:"value",value:(t=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.raw.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.transformer.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),VoidApiResponse$1=function(){function e(t){_classCallCheck$1(this,e),_defineProperty$3(this,"raw",void 0),this.raw=t}var t;return _createClass$1(e,[{key:"value",value:(t=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function ActivityFromJSON(e){return ActivityFromJSONTyped(e)}function ActivityFromJSONTyped(e,t){return null==e?e:{timestamp:exists$2(e,"timestamp")?e.timestamp:void 0,itemType:exists$2(e,"item_type")?e.item_type:void 0,item:exists$2(e,"item")?e.item:void 0}}function AuthorizedAppFromJSON(e){return AuthorizedAppFromJSONTyped(e)}function AuthorizedAppFromJSONTyped(e,t){return null==e?e:{address:e.address,name:e.name,description:exists$2(e,"description")?e.description:void 0,grantorUserId:e.grantor_user_id,grantCreatedAt:e.grant_created_at,grantUpdatedAt:e.grant_updated_at}}function AuthorizedAppsFromJSON(e){return AuthorizedAppsFromJSONTyped(e)}function AuthorizedAppsFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(AuthorizedAppFromJSON):void 0}}function ConnectedWalletsFromJSON(e){return ConnectedWalletsFromJSONTyped(e)}function ConnectedWalletsFromJSONTyped(e,t){return null==e?e:{ercWallets:e.erc_wallets,splWallets:e.spl_wallets}}function ConnectedWalletsResponseFromJSON(e){return ConnectedWalletsResponseFromJSONTyped(e)}function ConnectedWalletsResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?ConnectedWalletsFromJSON(e.data):void 0}}function CoverPhotoFromJSON$1(e){return CoverPhotoFromJSONTyped$1(e)}function CoverPhotoFromJSONTyped$1(e,t){return null==e?e:{_640x:exists$2(e,"640x")?e["640x"]:void 0,_2000x:exists$2(e,"2000x")?e["2000x"]:void 0}}function ProfilePictureFromJSON$1(e){return ProfilePictureFromJSONTyped$1(e)}function ProfilePictureFromJSONTyped$1(e,t){return null==e?e:{_150x150:exists$2(e,"150x150")?e["150x150"]:void 0,_480x480:exists$2(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$2(e,"1000x1000")?e["1000x1000"]:void 0}}function DecodedUserTokenFromJSON(e){return DecodedUserTokenFromJSONTyped(e)}function DecodedUserTokenFromJSONTyped(e,t){return null==e?e:{userId:e.userId,email:e.email,name:e.name,handle:e.handle,verified:e.verified,profilePicture:exists$2(e,"profilePicture")?ProfilePictureFromJSON$1(e.profilePicture):void 0,sub:e.sub,iat:e.iat}}function DeveloperAppFromJSON(e){return DeveloperAppFromJSONTyped(e)}function DeveloperAppFromJSONTyped(e,t){return null==e?e:{address:e.address,userId:e.user_id,name:e.name,description:exists$2(e,"description")?e.description:void 0}}function DeveloperAppResponseFromJSON(e){return DeveloperAppResponseFromJSONTyped(e)}function DeveloperAppResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?DeveloperAppFromJSON(e.data):void 0}}function DeveloperAppsFromJSON(e){return DeveloperAppsFromJSONTyped(e)}function DeveloperAppsFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(DeveloperAppFromJSON):void 0}}function EncodedUserIdFromJSON(e){return EncodedUserIdFromJSONTyped(e)}function EncodedUserIdFromJSONTyped(e,t){return null==e?e:{userId:exists$2(e,"user_id")?e.user_id:void 0}}function FavoriteFromJSON$1(e){return FavoriteFromJSONTyped$1(e)}function FavoriteFromJSONTyped$1(e,t){return null==e?e:{favoriteItemId:e.favorite_item_id,favoriteType:e.favorite_type,userId:e.user_id,createdAt:e.created_at}}function FavoritesResponseFromJSON(e){return FavoritesResponseFromJSONTyped(e)}function FavoritesResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(FavoriteFromJSON$1):void 0}}function UserFromJSON(e){return UserFromJSONTyped(e)}function UserFromJSONTyped(e,t){return null==e?e:{albumCount:e.album_count,artistPickTrackId:exists$2(e,"artist_pick_track_id")?e.artist_pick_track_id:void 0,bio:exists$2(e,"bio")?e.bio:void 0,coverPhoto:exists$2(e,"cover_photo")?CoverPhotoFromJSON$1(e.cover_photo):void 0,followeeCount:e.followee_count,followerCount:e.follower_count,doesFollowCurrentUser:exists$2(e,"does_follow_current_user")?e.does_follow_current_user:void 0,handle:e.handle,id:e.id,isVerified:e.is_verified,location:exists$2(e,"location")?e.location:void 0,name:e.name,playlistCount:e.playlist_count,profilePicture:exists$2(e,"profile_picture")?ProfilePictureFromJSON$1(e.profile_picture):void 0,repostCount:e.repost_count,trackCount:e.track_count,isDeactivated:e.is_deactivated,isAvailable:e.is_available,ercWallet:e.erc_wallet,splWallet:e.spl_wallet,supporterCount:e.supporter_count,supportingCount:e.supporting_count,totalAudioBalance:e.total_audio_balance}}function FollowersResponseFromJSON(e){return FollowersResponseFromJSONTyped(e)}function FollowersResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(UserFromJSON):void 0}}function FollowingResponseFromJSON$1(e){return FollowingResponseFromJSONTyped$1(e)}function FollowingResponseFromJSONTyped$1(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(UserFromJSON):void 0}}function SupporterFromJSON(e){return SupporterFromJSONTyped(e)}function SupporterFromJSONTyped(e,t){return null==e?e:{rank:e.rank,amount:e.amount,sender:UserFromJSON(e.sender)}}function GetSupportersFromJSON(e){return GetSupportersFromJSONTyped(e)}function GetSupportersFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(SupporterFromJSON):void 0}}function SupportingFromJSON(e){return SupportingFromJSONTyped(e)}function SupportingFromJSONTyped(e,t){return null==e?e:{rank:e.rank,amount:e.amount,receiver:UserFromJSON(e.receiver)}}function GetSupportingFromJSON(e){return GetSupportingFromJSONTyped(e)}function GetSupportingFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(SupportingFromJSON):void 0}}function TipFromJSON(e){return TipFromJSONTyped(e)}function TipFromJSONTyped(e,t){return null==e?e:{amount:e.amount,sender:exists$2(e,"sender")?UserFromJSON(e.sender):void 0,receiver:exists$2(e,"receiver")?UserFromJSON(e.receiver):void 0,createdAt:e.created_at}}function GetTipsResponseFromJSON$1(e){return GetTipsResponseFromJSONTyped$1(e)}function GetTipsResponseFromJSONTyped$1(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(TipFromJSON):void 0}}function PlaylistAddedTimestampFromJSON$1(e){return PlaylistAddedTimestampFromJSONTyped$1(e)}function PlaylistAddedTimestampFromJSONTyped$1(e,t){return null==e?e:{metadataTimestamp:e.metadata_timestamp,timestamp:e.timestamp,trackId:e.track_id}}function PlaylistArtworkFromJSON$1(e){return PlaylistArtworkFromJSONTyped$1(e)}function PlaylistArtworkFromJSONTyped$1(e,t){return null==e?e:{_150x150:exists$2(e,"150x150")?e["150x150"]:void 0,_480x480:exists$2(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$2(e,"1000x1000")?e["1000x1000"]:void 0}}function PlaylistFromJSON(e){return PlaylistFromJSONTyped(e)}function PlaylistFromJSONTyped(e,t){return null==e?e:{artwork:exists$2(e,"artwork")?PlaylistArtworkFromJSON$1(e.artwork):void 0,description:exists$2(e,"description")?e.description:void 0,permalink:exists$2(e,"permalink")?e.permalink:void 0,id:e.id,isAlbum:e.is_album,isImageAutogenerated:e.is_image_autogenerated,playlistName:e.playlist_name,playlistContents:e.playlist_contents.map(PlaylistAddedTimestampFromJSON$1),repostCount:e.repost_count,favoriteCount:e.favorite_count,totalPlayCount:e.total_play_count,user:UserFromJSON(e.user)}}function PlaylistResponseFromJSON(e){return PlaylistResponseFromJSONTyped(e)}function PlaylistResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(PlaylistFromJSON):void 0}}function PlaylistSearchResultFromJSON(e){return PlaylistSearchResultFromJSONTyped(e)}function PlaylistSearchResultFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(PlaylistFromJSON):void 0}}function TrackElementFromJSON(e){return TrackElementFromJSONTyped(e)}function TrackElementFromJSONTyped(e,t){return null==e?e:{parentTrackId:e.parent_track_id}}function RemixParentFromJSON(e){return RemixParentFromJSONTyped(e)}function RemixParentFromJSONTyped(e,t){return null==e?e:{tracks:exists$2(e,"tracks")?e.tracks.map(TrackElementFromJSON):void 0}}function TrackArtworkFromJSON$1(e){return TrackArtworkFromJSONTyped$1(e)}function TrackArtworkFromJSONTyped$1(e,t){return null==e?e:{_150x150:exists$2(e,"150x150")?e["150x150"]:void 0,_480x480:exists$2(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$2(e,"1000x1000")?e["1000x1000"]:void 0}}function TrackFromJSON(e){return TrackFromJSONTyped(e)}function TrackFromJSONTyped(e,t){return null==e?e:{artwork:exists$2(e,"artwork")?TrackArtworkFromJSON$1(e.artwork):void 0,description:exists$2(e,"description")?e.description:void 0,genre:exists$2(e,"genre")?e.genre:void 0,id:e.id,trackCid:exists$2(e,"track_cid")?e.track_cid:void 0,previewCid:exists$2(e,"preview_cid")?e.preview_cid:void 0,mood:exists$2(e,"mood")?e.mood:void 0,releaseDate:exists$2(e,"release_date")?e.release_date:void 0,remixOf:exists$2(e,"remix_of")?RemixParentFromJSON(e.remix_of):void 0,repostCount:e.repost_count,favoriteCount:e.favorite_count,tags:exists$2(e,"tags")?e.tags:void 0,title:e.title,user:UserFromJSON(e.user),duration:e.duration,downloadable:exists$2(e,"downloadable")?e.downloadable:void 0,playCount:e.play_count,permalink:exists$2(e,"permalink")?e.permalink:void 0,isStreamable:exists$2(e,"is_streamable")?e.is_streamable:void 0}}function PlaylistTracksResponseFromJSON(e){return PlaylistTracksResponseFromJSONTyped(e)}function PlaylistTracksResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(TrackFromJSON):void 0}}function RelatedArtistResponseFromJSON(e){return RelatedArtistResponseFromJSONTyped(e)}function RelatedArtistResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(UserFromJSON):void 0}}function RepostsFromJSON(e){return RepostsFromJSONTyped(e)}function RepostsFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(ActivityFromJSON):void 0}}function SubscribersResponseFromJSON(e){return SubscribersResponseFromJSONTyped(e)}function SubscribersResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(UserFromJSON):void 0}}function TagsResponseFromJSON(e){return TagsResponseFromJSONTyped(e)}function TagsResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data:void 0}}function TrackResponseFromJSON(e){return TrackResponseFromJSONTyped(e)}function TrackResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?TrackFromJSON(e.data):void 0}}function TrackSearchFromJSON(e){return TrackSearchFromJSONTyped(e)}function TrackSearchFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(TrackFromJSON):void 0}}function TracksResponseFromJSON(e){return TracksResponseFromJSONTyped(e)}function TracksResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(TrackFromJSON):void 0}}function TrendingPlaylistsResponseFromJSON(e){return TrendingPlaylistsResponseFromJSONTyped(e)}function TrendingPlaylistsResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(PlaylistFromJSON):void 0}}function UserAssociatedWalletResponseFromJSON(e){return UserAssociatedWalletResponseFromJSONTyped(e)}function UserAssociatedWalletResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?EncodedUserIdFromJSON(e.data):void 0}}function UserResponseFromJSON(e){return UserResponseFromJSONTyped(e)}function UserResponseFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?UserFromJSON(e.data):void 0}}function UserSearchFromJSON(e){return UserSearchFromJSONTyped(e)}function UserSearchFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?e.data.map(UserFromJSON):void 0}}function VerifyTokenFromJSON(e){return VerifyTokenFromJSONTyped(e)}function VerifyTokenFromJSONTyped(e,t){return null==e?e:{data:exists$2(e,"data")?DecodedUserTokenFromJSON(e.data):void 0}}function _createSuper$C(e){var t=_isNativeReflectConstruct$C();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var DeveloperAppsApi$1=function(e){_inherits(i,e);var t,r,n=_createSuper$C(i);function i(){return _classCallCheck$1(this,i),n.apply(this,arguments)}return _createClass$1(i,[{key:"getDeveloperAppRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.address&&void 0!==t.address){e.next=2;break}throw new RequiredError$1("address","Required parameter params.address was null or undefined when calling getDeveloperApp.");case 2:return n={},i={},e.next=6,this.request({path:"/developer_apps/{address}".replace("{".concat("address","}"),encodeURIComponent(String(t.address))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return DeveloperAppResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getDeveloperApp",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDeveloperAppRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(BaseAPI$1);function _createSuper$B(e){var t=_isNativeReflectConstruct$B();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PlaylistsApi$2=function(e){_inherits(l,e);var t,r,n,i,o,a,s,u,c=_createSuper$B(l);function l(){return _classCallCheck$1(this,l),c.apply(this,arguments)}return _createClass$1(l,[{key:"getPlaylistRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError$1("playlistId","Required parameter params.playlistId was null or undefined when calling getPlaylist.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/playlists/{playlist_id}".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return PlaylistResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getPlaylist",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylistRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getPlaylistTracksRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError$1("playlistId","Required parameter params.playlistId was null or undefined when calling getPlaylistTracks.");case 2:return n={},i={},e.next=6,this.request({path:"/playlists/{playlist_id}/tracks".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return PlaylistTracksResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getPlaylistTracks",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylistTracksRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getTrendingPlaylistsRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.time&&(n.time=t.time),i={},e.next=5,this.request({path:"/playlists/trending",method:"GET",headers:i,query:n},r);case 5:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TrendingPlaylistsResponseFromJSON(e)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getTrendingPlaylists",value:(n=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTrendingPlaylistsRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"searchPlaylistsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.query&&void 0!==t.query){e.next=2;break}throw new RequiredError$1("query","Required parameter params.query was null or undefined when calling searchPlaylists.");case 2:return n={},void 0!==t.query&&(n.query=t.query),i={},e.next=7,this.request({path:"/playlists/search",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return PlaylistSearchResultFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"searchPlaylists",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchPlaylistsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),l}(BaseAPI$1);function _createSuper$A(e){var t=_isNativeReflectConstruct$A();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TipsApi$1=function(e){_inherits(i,e);var t,r,n=_createSuper$A(i);function i(){return _classCallCheck$1(this,i),n.apply(this,arguments)}return _createClass$1(i,[{key:"getTipsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.receiverMinFollowers&&(n.receiver_min_followers=t.receiverMinFollowers),void 0!==t.receiverIsVerified&&(n.receiver_is_verified=t.receiverIsVerified),void 0!==t.currentUserFollows&&(n.current_user_follows=t.currentUserFollows),void 0!==t.uniqueBy&&(n.unique_by=t.uniqueBy),i={},e.next=11,this.request({path:"/tips",method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return GetTipsResponseFromJSON$1(e)})));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getTips",value:(t=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTipsRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(BaseAPI$1);function _createSuper$z(e){var t=_isNativeReflectConstruct$z();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TracksApi$2=function(e){_inherits(p,e);var t,r,n,i,o,a,s,u,c,l,f,h,d=_createSuper$z(p);function p(){return _classCallCheck$1(this,p),d.apply(this,arguments)}return _createClass$1(p,[{key:"getBulkTracksRaw",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.permalink&&(n.permalink=t.permalink),t.id&&(n.id=t.id),i={},e.next=6,this.request({path:"/tracks",method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TracksResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getBulkTracks",value:(f=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getBulkTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getTrackRaw",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError$1("trackId","Required parameter params.trackId was null or undefined when calling getTrack.");case 2:return n={},i={},e.next=6,this.request({path:"/tracks/{track_id}".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TrackResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getTrack",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getTrendingTracksRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.genre&&(n.genre=t.genre),void 0!==t.time&&(n.time=t.time),i={},e.next=6,this.request({path:"/tracks/trending",method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TracksResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getTrendingTracks",value:(s=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTrendingTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getUndergroundTrendingTracksRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),i={},e.next=6,this.request({path:"/tracks/trending/underground",method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TracksResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getUndergroundTrendingTracks",value:(o=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getUndergroundTrendingTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"searchTracksRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.query&&void 0!==t.query){e.next=2;break}throw new RequiredError$1("query","Required parameter params.query was null or undefined when calling searchTracks.");case 2:return n={},void 0!==t.query&&(n.query=t.query),void 0!==t.onlyDownloadable&&(n.only_downloadable=t.onlyDownloadable),i={},e.next=8,this.request({path:"/tracks/search",method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TrackSearchFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"searchTracks",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchTracksRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"streamTrackRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError$1("trackId","Required parameter params.trackId was null or undefined when calling streamTrack.");case 2:return n={},void 0!==t.preview&&(n.preview=t.preview),void 0!==t.userSignature&&(n.user_signature=t.userSignature),void 0!==t.userData&&(n.user_data=t.userData),void 0!==t.premiumContentSignature&&(n.premium_content_signature=t.premiumContentSignature),void 0!==t.filename&&(n.filename=t.filename),void 0!==t.skipPlayCount&&(n.skip_play_count=t.skipPlayCount),i={},e.next=12,this.request({path:"/tracks/{track_id}/stream".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 12:return o=e.sent,e.abrupt("return",new VoidApiResponse$1(o));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"streamTrack",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.streamTrackRaw(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),p}(BaseAPI$1);function _createSuper$y(e){var t=_isNativeReflectConstruct$y();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var UsersApi$2=function(e){_inherits(U,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I,R,O,P,C,B,N,L,j,F=_createSuper$y(U);function U(){return _classCallCheck$1(this,U),F.apply(this,arguments)}return _createClass$1(U,[{key:"getAIAttributedTracksByUserHandleRaw",value:(j=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError$1("handle","Required parameter params.handle was null or undefined when calling getAIAttributedTracksByUserHandle.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sort&&(n.sort=t.sort),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.filterTracks&&(n.filter_tracks=t.filterTracks),i={},e.next=14,this.request({path:"/users/handle/{handle}/tracks/ai_attributed".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TracksResponseFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return j.apply(this,arguments)})},{key:"getAIAttributedTracksByUserHandle",value:(L=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAIAttributedTracksByUserHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return L.apply(this,arguments)})},{key:"getAuthorizedAppsRaw",value:(N=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getAuthorizedApps.");case 2:return n={},i={},e.next=6,this.request({path:"/users/{id}/authorized_apps".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return AuthorizedAppsFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"getAuthorizedApps",value:(B=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthorizedAppsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"getConnectedWalletsRaw",value:(C=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getConnectedWallets.");case 2:return n={},i={},e.next=6,this.request({path:"/users/{id}/connected_wallets".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return ConnectedWalletsResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"getConnectedWallets",value:(P=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getConnectedWalletsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)})},{key:"getDeveloperAppsRaw",value:(O=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getDeveloperApps.");case 2:return n={},i={},e.next=6,this.request({path:"/users/{id}/developer_apps".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return DeveloperAppsFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"getDeveloperApps",value:(R=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDeveloperAppsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return R.apply(this,arguments)})},{key:"getFavoritesRaw",value:(I=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getFavorites.");case 2:return n={},i={},e.next=6,this.request({path:"/users/{id}/favorites".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return FavoritesResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"getFavorites",value:(M=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavoritesRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"getFollowersRaw",value:(T=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getFollowers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/followers".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return FollowersResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"getFollowers",value:(E=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFollowersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"getFollowingRaw",value:(A=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getFollowing.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/following".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return FollowingResponseFromJSON$1(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"getFollowing",value:(k=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFollowingRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"getRelatedUsersRaw",value:(S=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getRelatedUsers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/related".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return RelatedArtistResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"getRelatedUsers",value:(x=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRelatedUsersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"getRepostsRaw",value:($=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getReposts.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/reposts".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return RepostsFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return $.apply(this,arguments)})},{key:"getReposts",value:(_=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRepostsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"getSubscribersRaw",value:(w=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getSubscribers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/subscribers".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return SubscribersResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"getSubscribers",value:(b=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSubscribersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"getSupportersRaw",value:(g=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getSupporters.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),i={},e.next=8,this.request({path:"/users/{id}/supporters".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return GetSupportersFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"getSupporters",value:(v=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getSupportingsRaw",value:(m=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getSupportings.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),i={},e.next=8,this.request({path:"/users/{id}/supporting".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return GetSupportingFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getSupportings",value:(y=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportingsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"getTopTrackTagsRaw",value:(p=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getTopTrackTags.");case 2:return n={},void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=8,this.request({path:"/users/{id}/tags".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TagsResponseFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getTopTrackTags",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTopTrackTagsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getTracksByUserRaw",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getTracksByUser.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sort&&(n.sort=t.sort),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.filterTracks&&(n.filter_tracks=t.filterTracks),i={},e.next=14,this.request({path:"/users/{id}/tracks".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return TracksResponseFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getTracksByUser",value:(f=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTracksByUserRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getUserRaw",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError$1("id","Required parameter params.id was null or undefined when calling getUser.");case 2:return n={},i={},e.next=6,this.request({path:"/users/{id}".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return UserResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getUser",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getUserByHandleRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError$1("handle","Required parameter params.handle was null or undefined when calling getUserByHandle.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/users/handle/{handle}".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return UserResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getUserByHandle",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserByHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getUserIDFromWalletRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.associatedWallet&&void 0!==t.associatedWallet){e.next=2;break}throw new RequiredError$1("associatedWallet","Required parameter params.associatedWallet was null or undefined when calling getUserIDFromWallet.");case 2:return n={},void 0!==t.associatedWallet&&(n.associated_wallet=t.associatedWallet),i={},e.next=7,this.request({path:"/users/id",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return UserAssociatedWalletResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getUserIDFromWallet",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserIDFromWalletRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"searchUsersRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.query&&void 0!==t.query){e.next=2;break}throw new RequiredError$1("query","Required parameter params.query was null or undefined when calling searchUsers.");case 2:return n={},void 0!==t.query&&(n.query=t.query),i={},e.next=7,this.request({path:"/users/search",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return UserSearchFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"searchUsers",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchUsersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"verifyIDTokenRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.token&&void 0!==t.token){e.next=2;break}throw new RequiredError$1("token","Required parameter params.token was null or undefined when calling verifyIDToken.");case 2:return n={},void 0!==t.token&&(n.token=t.token),i={},e.next=7,this.request({path:"/users/verify_token",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse$1(o,(function(e){return VerifyTokenFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"verifyIDToken",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.verifyIDTokenRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),U}(BaseAPI$1),CreateDeveloperAppSchema=z.object({name:z.string(),description:z.optional(z.string().max(128)),userId:HashId}),DeleteDeveloperAppSchema=z.object({userId:HashId,appApiKey:z.custom((function(e){return isApiKeyValid(e)}))});function ownKeys$p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$p(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$x(e){var t=_isNativeReflectConstruct$x();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var DeveloperAppsApi=function(e){_inherits(i,e);var t,r,n=_createSuper$x(i);function i(e,t,r){var o;return _classCallCheck$1(this,i),_defineProperty$3(_assertThisInitialized(o=n.call(this,e)),"entityManager",void 0),_defineProperty$3(_assertThisInitialized(o),"auth",void 0),_defineProperty$3(_assertThisInitialized(o),"web3",void 0),o.entityManager=t,o.auth=r,o.web3=new Web3$1,o}return _createClass$1(i,[{key:"createDeveloperApp",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p,y;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("createDeveloperApp",CreateDeveloperAppSchema)(t);case 2:return n=e.sent,i=n.name,o=n.userId,a=n.description,s=this.web3.eth.accounts.create(),u=s.privateKey,c=s.address,l=Math.round((new Date).getTime()/1e3),f="Creating Audius developer app at ".concat(l),h=s.sign(f).signature,e.next=14,this.entityManager.manageEntity(_objectSpread$p({userId:o,entityType:EntityType.DEVELOPER_APP,entityId:0,action:Action.CREATE,metadata:JSON.stringify({name:i,description:a,app_signature:{message:f,signature:h}}),auth:this.auth},r));case 14:return d=e.sent,p=c.slice(2).toLowerCase(),y=u.slice(2).toLowerCase(),e.abrupt("return",_objectSpread$p(_objectSpread$p({},d),{},{apiKey:p,apiSecret:y}));case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"deleteDeveloperApp",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("deleteDeveloperApp",DeleteDeveloperAppSchema)(t);case 2:return r=e.sent,n=r.userId,i=r.appApiKey,e.next=7,this.entityManager.manageEntity({userId:n,entityType:EntityType.DEVELOPER_APP,entityId:0,action:Action.DELETE,metadata:JSON.stringify({address:"0x".concat(i)}),auth:this.auth});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(DeveloperAppsApi$1);function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$h(e)||_nonIterableRest()}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray$h(e,t)||_nonIterableRest()}var mapObj={exports:{}};function ownKeys$o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$o(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var isObject$b=function(e){return"object"===_typeof$2(e)&&null!==e},mapObjectSkip=Symbol("skip"),isObjectCustom=function(e){return isObject$b(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)},mapObject=function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new WeakMap;if(n=_objectSpread$o({deep:!1,target:{}},n),i.has(t))return i.get(t);i.set(t,n.target);var o=n,a=o.target;delete n.target;var s=function(t){return t.map((function(t){return isObjectCustom(t)?e(t,r,n,i):t}))};if(Array.isArray(t))return s(t);for(var u=0,c=Object.entries(t);u<c.length;u++){var l=_slicedToArray(c[u],2),f=l[0],h=l[1],d=r(f,h,t);if(d!==mapObjectSkip){var p=_slicedToArray(d,3),y=p[0],m=p[1],v=p[2],g=(v=void 0===v?{}:v).shouldRecurse,b=void 0===g||g;"__proto__"!==y&&(n.deep&&b&&isObjectCustom(m)&&(m=Array.isArray(m)?s(m):e(m,r,n,i)),a[y]=m)}}return a};mapObj.exports=function(e,t,r){if(!isObject$b(e))throw new TypeError("Expected an object, got `".concat(e,"` (").concat(_typeof$2(e),")"));return mapObject(e,t,r)},mapObj.exports.mapObjectSkip=mapObjectSkip;var _assign=function(){return _assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_assign.apply(this,arguments)};function lowerCase(e){return e.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?DEFAULT_SPLIT_REGEXP:r,i=t.stripRegexp,o=void 0===i?DEFAULT_STRIP_REGEXP:i,a=t.transform,s=void 0===a?lowerCase:a,u=t.delimiter,c=void 0===u?" ":u,l=replace(replace(e,n,"$1\0$2"),o,"\0"),f=0,h=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(f,h).split("\0").map(s).join(c)}function replace(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function dotCase(e,t){return void 0===t&&(t={}),noCase(e,_assign({delimiter:"."},t))}function snakeCase$1(e,t){return void 0===t&&(t={}),dotCase(e,_assign({delimiter:"_"},t))}var dist_es2015=Object.freeze({__proto__:null,snakeCase:snakeCase$1}),require$$1$2=getAugmentedNamespace(dist_es2015),map=mapObj.exports,snakeCase=require$$1$2.snakeCase,snakecaseKeys=function(e,t){return t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t),map(e,(function(e,r){return[matches(t.exclude,e)?e:snakeCase(e,t.parsingOptions),r]}),t)};function matches(e,t){return e.some((function(e){return"string"==typeof e?e===t:e.test(t)}))}var lookup$1=[],revLookup$1=[],Arr$1="undefined"!=typeof Uint8Array?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)lookup$1[t]=e[t],revLookup$1[e.charCodeAt(t)]=t;revLookup$1["-".charCodeAt(0)]=62,revLookup$1["_".charCodeAt(0)]=63}function toByteArray$1(e){var t,r,n,i,o,a;inited||init();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new Arr$1(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=revLookup$1[e.charCodeAt(t)]<<18|revLookup$1[e.charCodeAt(t+1)]<<12|revLookup$1[e.charCodeAt(t+2)]<<6|revLookup$1[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=revLookup$1[e.charCodeAt(t)]<<2|revLookup$1[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=revLookup$1[e.charCodeAt(t)]<<10|revLookup$1[e.charCodeAt(t+1)]<<4|revLookup$1[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function tripletToBase64$1(e){return lookup$1[e>>18&63]+lookup$1[e>>12&63]+lookup$1[e>>6&63]+lookup$1[63&e]}function encodeChunk$1(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64$1(n));return i.join("")}function fromByteArray$1(e){var t;inited||init();for(var r=e.length,n=r%3,i="",o=[],a=16383,s=0,u=r-n;s<u;s+=a)o.push(encodeChunk$1(e,s,s+a>u?u:s+a));return 1===n?(t=e[r-1],i+=lookup$1[t>>2],i+=lookup$1[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=lookup$1[t>>10],i+=lookup$1[t>>4&63],i+=lookup$1[t<<2&63],i+="="),o.push(i),o.join("")}function read$6(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)}function write(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*y}var toString$3={}.toString,isArray$6=Array.isArray||function(e){return"[object Array]"==toString$3.call(e)},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer$j.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer$j.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer$j.prototype:(null===e&&(e=new Buffer$j(t)),e.length=t),e}function Buffer$j(e,t,r){if(!(Buffer$j.TYPED_ARRAY_SUPPORT||this instanceof Buffer$j))return new Buffer$j(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from$a(this,e,t,r)}function from$a(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString$3(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer$j.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString$3(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer$j.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength$1(t,r),i=(e=createBuffer(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer$j.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer$j.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray$6(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength$1(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer$j.from(t,n)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer$j.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray$1(e):fromByteArray$1(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return decodeCodePointsArray(n)}Buffer$j.TYPED_ARRAY_SUPPORT=void 0===global$1.TYPED_ARRAY_SUPPORT||global$1.TYPED_ARRAY_SUPPORT,Buffer$j.poolSize=8192,Buffer$j._augment=function(e){return e.__proto__=Buffer$j.prototype,e},Buffer$j.from=function(e,t,r){return from$a(null,e,t,r)},Buffer$j.TYPED_ARRAY_SUPPORT&&(Buffer$j.prototype.__proto__=Uint8Array.prototype,Buffer$j.__proto__=Uint8Array),Buffer$j.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer$j.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer$j.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer$j.isBuffer=isBuffer$4,Buffer$j.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer$j.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$j.concat=function(e,t){if(!isArray$6(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$j.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer$j.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!internalIsBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer$j.byteLength=byteLength$1,Buffer$j.prototype._isBuffer=!0,Buffer$j.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$j.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$j.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$j.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer$j.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$j.compare(this,e)},Buffer$j.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer$j.prototype.compare=function(e,t,r,n,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},Buffer$j.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer$j.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer$j.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer$j.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer$j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex$2(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,t,r,4),write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,t,r,8),write(e,t,r,n,52,8),r+8}Buffer$j.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer$j.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer$j.prototype;else{var i=t-e;r=new Buffer$j(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer$j.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer$j.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer$j.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer$j.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$j.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$j.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$j.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$j.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer$j.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer$j.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$j.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer$j.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer$j.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$j.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$j.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read$6(this,e,!0,23,4)},Buffer$j.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read$6(this,e,!1,23,4)},Buffer$j.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read$6(this,e,!0,52,8)},Buffer$j.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read$6(this,e,!1,52,8)},Buffer$j.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer$j.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer$j.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer$j.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer$j.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$j.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$j.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer$j.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$j.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer$j.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},Buffer$j.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer$j.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$j.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$j.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$j.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer$j.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer$j.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$j.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer$j.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer$j.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer$j.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer$j.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer$j.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer$j.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer$j.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=internalIsBuffer(e)?e:utf8ToBytes(new Buffer$j(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex$2(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}function base64ToBytes(e){return toByteArray$1(base64clean(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isnan(e){return e!=e}function isBuffer$4(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}var browser$4={exports:{}},lib$8={},readableBrowser={exports:{}},events={exports:{}},R="object"===("undefined"==typeof Reflect?"undefined":_typeof$2(Reflect))?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ReflectOwnKeys;function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var NumberIsNaN=Number.isNaN||function(e){return e!=e};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1,events.exports.once=once$2,EventEmitter$1.EventEmitter=EventEmitter$1,EventEmitter$1.prototype._events=void 0,EventEmitter$1.prototype._eventsCount=0,EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof$2(e))}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter$1.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,n){var i,o,a;if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=_getMaxListeners(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,ProcessEmitWarning(s)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=onceWrapper.bind(n);return i.listener=r,n.wrapFn=i,i}function _listeners(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?unwrapListeners(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),"error"!==t&&addErrorHandlerIfEventEmitter(e,i,{once:!0})}))}function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+_typeof$2(e));e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter$1.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$1.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$1.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)ReflectApply(s,this,t);else{var u=s.length,c=arrayClone(s,u);for(r=0;r<u;++r)ReflectApply(c[r],this,t)}return!0},EventEmitter$1.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener,EventEmitter$1.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter$1.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.removeListener=function(e,t){var r,n,i,o,a;if(checkListener(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():spliceOne(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener,EventEmitter$1.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},EventEmitter$1.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter$1.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter$1.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter$1.prototype.listenerCount=listenerCount,EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var EventEmitter$2=events.exports,streamBrowser=events.exports.EventEmitter,buffer$1={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$1=0,len=code$4.length;i$1<len;++i$1)lookup[i$1]=code$4[i$1],revLookup[code$4.charCodeAt(i$1)]=i$1;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function _byteLength(e,t,r){return 3*(t+r)/4-r}function toByteArray(e){var t,r,n=getLens(e),i=n[0],o=n[1],a=new Arr(_byteLength(e,i,o)),s=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)t=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,a[s++]=255&t),1===o&&(t=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(encodeChunk(e,a,a+o>s?s:a+o));return 1===n?(t=e[r-1],i.push(lookup[t>>2]+lookup[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),i.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function _createSuper$w(e){var t=_isNativeReflectConstruct$w();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}ieee754.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},ieee754.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*y},function(e){var t=base64Js,r=ieee754,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof$2(e));if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof$2(e))}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|h(e))}function l(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_typeof$2(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(J(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function w(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return K(q(t),e,r,n)}function $(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Z(o,Uint8Array))i+o.length>n.length?(a.isBuffer(o)||(o=a.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_typeof$2(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V[e[o]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n,i){U(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function P(e,t,r,n,i){U(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),a.prototype.readBigInt64BE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%u]}return this};var L={};function j(e,t,r){L[e]=function(r){_inherits(i,r);var n=_createSuper$w(i);function i(){var r;return _classCallCheck$1(this,i),r=n.call(this),Object.defineProperty(_assertThisInitialized(r),"message",{value:t.apply(_assertThisInitialized(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return _createClass$1(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(r)}function F(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function U(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"==typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new L.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){D(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,i,o)}function D(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw D(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(_typeof$2(t))}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=F(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var H=/[^+/0-9A-Za-z-_]/g;function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function W(e){return"undefined"==typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}}(buffer$1);var _nodeResolve_empty={},nodeCrypto$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$0$4=getAugmentedNamespace(nodeCrypto$1);function ownKeys$n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$n(Object(r),!0).forEach((function(t){_defineProperty$2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var _require$2=buffer$1,Buffer$i=_require$2.Buffer,_require2=require$$0$4,inspect$1=_require2.inspect,custom=inspect$1&&inspect$1.custom||"inspect";function copyBuffer(e,t,r){Buffer$i.prototype.copy.call(e,t,r)}var buffer_list=function(){function e(){_classCallCheck(this,e),this.head=null,this.tail=null,this.length=0}return _createClass(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return Buffer$i.alloc(0);for(var t=Buffer$i.allocUnsafe(e>>>0),r=this.head,n=0;r;)copyBuffer(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=Buffer$i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:custom,value:function(e,t){return inspect$1(this,_objectSpread$n({},t,{depth:0,customInspect:!1}))}}]),e}();function destroy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorNT,this,e)):browser$1$1.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?browser$1$1.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,browser$1$1.nextTick(emitErrorAndCloseNT,r,e)):browser$1$1.nextTick(emitErrorAndCloseNT,r,e):t?(browser$1$1.nextTick(emitCloseNT,r),t(e)):browser$1$1.nextTick(emitCloseNT,r)})),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy$2(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,r){r||(r=Error);var n=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return _inheritsLoose(r,e),r}(r);n.prototype.name=r.name,n.prototype.code=e,codes[e]=n}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if("string"==typeof t&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",endsWith(e," argument"))i="The ".concat(e," ").concat(n," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf(t,"type"))}return i+=". Received type ".concat(_typeof$2(r))}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function getHighWaterMark$2(e,t,r,n){var i=highWaterMarkFrom(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new ERR_INVALID_OPT_VALUE(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}var state={getHighWaterMark:getHighWaterMark$2},inherits_browser$1={exports:{}};"function"==typeof Object.create?inherits_browser$1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var browser$3=deprecate$3;function deprecate$3(e,t){if(config("noDeprecation"))return e;var r=!1;return function(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function config(e){try{if(!commonjsGlobal$1.localStorage)return!1}catch(e){return!1}var t=commonjsGlobal$1.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var _stream_writable=Writable$1,Duplex$3;function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser$3},Stream$3=streamBrowser,Buffer$h=buffer$1.Buffer,OurUint8Array$1=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer$1(e){return Buffer$h.from(e)}function _isUint8Array$1(e){return Buffer$h.isBuffer(e)||e instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy,realHasInstance;function nop(){}function WritableState(e,t,r){Duplex$3=Duplex$3||_stream_duplex,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$3),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable$1(e){var t=this instanceof(Duplex$3=Duplex$3||_stream_duplex);if(!t&&!realHasInstance.call(Writable$1,this))return new Writable$1(e);this._writableState=new WritableState(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream$3.call(this)}function writeAfterEnd(e,t){var r=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(e,r),browser$1$1.nextTick(t,r)}function validChunk(e,t,r,n){var i;return null===r?i=new ERR_STREAM_NULL_VALUES:"string"==typeof r||t.objectMode||(i=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],r)),!i||(errorOrDestroy$1(e,i),browser$1$1.nextTick(n,i),!1)}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer$h.from(t,r)),t}function writeOrBuffer(e,t,r,n,i,o){if(!r){var a=decodeChunk(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,n,i,o);return u}function doWrite(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED$1("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n,i){--t.pendingcb,r?(browser$1$1.nextTick(i,n),browser$1$1.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n)):(i(n),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,n),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(r),t)onwriteError(e,r,n,t,i);else{var o=needFinish(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?browser$1$1.nextTick(afterWrite,e,r,o,i):afterWrite(e,r,o,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(doWrite(e,t,!1,t.objectMode?1:u.length,u,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--,r&&errorOrDestroy$1(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)}))}function prefinish$1(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,browser$1$1.nextTick(callFinal,e,t)))}function finishMaybe(e,t){var r=needFinish(t);if(r&&(prefinish$1(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?browser$1$1.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}inherits_browser$1.exports(Writable$1,Stream$3),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||this===Writable$1&&(e&&e._writableState instanceof WritableState)}})):realHasInstance=function(e){return e instanceof this},Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)},Writable$1.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&_isUint8Array$1(e);return o&&!Buffer$h.isBuffer(e)&&(e=_uint8ArrayToBuffer$1(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ending?writeAfterEnd(this,r):(o||validChunk(this,n,e,r))&&(n.pendingcb++,i=writeOrBuffer(this,n,o,e,t,r)),i},Writable$1.prototype.cork=function(){this._writableState.corked++},Writable$1.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable$1.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable$1.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))},Writable$1.prototype._writev=null,Writable$1.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||endWritable(this,n,r),this},Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable$1.prototype.destroy=destroyImpl$1.destroy,Writable$1.prototype._undestroy=destroyImpl$1.undestroy,Writable$1.prototype._destroy=function(e,t){t(e)};var objectKeys$1=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browser$1.exports(Duplex$2,Readable$1);for(var keys$2=objectKeys$1(Writable.prototype),v=0;v<keys$2.length;v++){var method=keys$2[v];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(e){if(!(this instanceof Duplex$2))return new Duplex$2(e);Readable$1.call(this,e),Writable.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||browser$1$1.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var string_decoder={},safeBuffer={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(e,t){var r=buffer$1,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(safeBuffer,safeBuffer.exports);var Buffer$g=safeBuffer.exports.Buffer,isEncoding=Buffer$g.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if("string"!=typeof t&&(Buffer$g.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}function StringDecoder$2(e){var t;switch(this.encoding=normalizeEncoding(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$g.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=utf8CheckByte(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=utf8CheckByte(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function utf8CheckExtraBytes(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}string_decoder.StringDecoder=StringDecoder$2,StringDecoder$2.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder$2.prototype.end=utf8End,StringDecoder$2.prototype.text=utf8Text,StringDecoder$2.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function noop$2(){}function isRequest$1(e){return e.setHeader&&"function"==typeof e.abort}function eos$1(e,t,r){if("function"==typeof t)return eos$1(e,null,t);t||(t={}),r=once$1(r||noop$2);var n=t.readable||!1!==t.readable&&e.readable,i=t.writable||!1!==t.writable&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},u=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(e)},l=function(t){r.call(e,t)},f=function(){var t;return n&&!u?(e._readableState&&e._readableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,t)):i&&!a?(e._writableState&&e._writableState.ended||(t=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,t)):void 0},h=function(){e.req.on("finish",s)};return isRequest$1(e)?(e.on("complete",s),e.on("abort",f),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",c),e.on("finish",s),!1!==t.error&&e.on("error",l),e.on("close",f),function(){e.removeListener("complete",s),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",l),e.removeListener("close",f)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished$1=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[kLastResolve];if(null!==t){var r=e[kStream].read();null!==r&&(e[kLastPromise]=null,e[kLastResolve]=null,e[kLastReject]=null,t(createIterResult(r,!1)))}}function onReadable(e){browser$1$1.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,n){e.then((function(){t[kEnded]?r(createIterResult(void 0,!0)):t[kHandlePromise](r,n)}),n)}}var AsyncIteratorPrototype=Object.getPrototypeOf((function(){})),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var e=this,t=this[kError];if(null!==t)return Promise.reject(t);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise((function(t,r){browser$1$1.nextTick((function(){e[kError]?r(e[kError]):t(createIterResult(void 0,!0))}))}));var r,n=this[kLastPromise];if(n)r=new Promise(wrapForNext(n,this));else{var i=this[kStream].read();if(null!==i)return Promise.resolve(createIterResult(i,!1));r=new Promise(this[kHandlePromise])}return this[kLastPromise]=r,r}},_defineProperty$1(_Object$setPrototypeO,Symbol.asyncIterator,(function(){return this})),_defineProperty$1(_Object$setPrototypeO,"return",(function(){var e=this;return new Promise((function(t,r){e[kStream].destroy(null,(function(e){e?r(e):t(createIterResult(void 0,!0))}))}))})),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function(e){var t,r=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty$1(t={},kStream,{value:e,writable:!0}),_defineProperty$1(t,kLastResolve,{value:null,writable:!0}),_defineProperty$1(t,kLastReject,{value:null,writable:!0}),_defineProperty$1(t,kError,{value:null,writable:!0}),_defineProperty$1(t,kEnded,{value:e._readableState.endEmitted,writable:!0}),_defineProperty$1(t,kHandlePromise,{value:function(e,t){var n=r[kStream].read();n?(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,e(createIterResult(n,!1))):(r[kLastResolve]=e,r[kLastReject]=t)},writable:!0}),t));return r[kLastPromise]=null,finished$1(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[kLastReject];return null!==t&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,t(e)),void(r[kError]=e)}var n=r[kLastResolve];null!==n&&(r[kLastPromise]=null,r[kLastResolve]=null,r[kLastReject]=null,n(createIterResult(void 0,!0))),r[kEnded]=!0})),e.on("readable",onReadable.bind(null,r)),r},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState,events.exports.EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length},Stream$2=streamBrowser,Buffer$f=buffer$1.Buffer,OurUint8Array=commonjsGlobal$1.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer$f.from(e)}function _isUint8Array(e){return Buffer$f.isBuffer(e)||e instanceof OurUint8Array}var debugUtil=require$$0$4,debug;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var BufferList$1=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder$1,createReadableStreamAsyncIterator,from$9;inherits_browser$1.exports(Readable,Stream$2);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t,r){Duplex$1=Duplex$1||_stream_duplex,e=e||{},"boolean"!=typeof r&&(r=t instanceof Duplex$1),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"readableHighWaterMark",r),this.buffer=new BufferList$1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder$1||(StringDecoder$1=string_decoder.StringDecoder),this.decoder=new StringDecoder$1(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(e);var t=this instanceof Duplex$1;this._readableState=new ReadableState(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream$2.call(this)}function readableAddChunk(e,t,r,n,i){debug("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,onEofChunk(e,a);else if(i||(o=chunkInvalid(a,t)),o)errorOrDestroy(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===Buffer$f.prototype||(t=_uint8ArrayToBuffer(t)),n)a.endEmitted?errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(e,a,t,!0);else if(a.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?addChunk(e,a,t,!1):maybeReadMore(e,a)):addChunk(e,a,t,!1)}else n||(a.reading=!1,maybeReadMore(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer$f.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){StringDecoder$1||(StringDecoder$1=string_decoder.StringDecoder);var t=new StringDecoder$1(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(debug("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_(e)))}}function emitReadable(e){var t=e._readableState;debug("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,browser$1$1.nextTick(emitReadable_,e))}function emitReadable_(e){var t=e._readableState;debug("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,browser$1$1.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(debug("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,browser$1$1.nextTick(resume_,e,t))}function resume_(e,t){debug("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function endReadable(e){var t=e._readableState;debug("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,browser$1$1.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(debug("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function indexOf$1(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,i=t.needReadable;return debug("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",i=!0),t.ended||t.reading?debug("reading or ended",i=!1):i&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))},Readable.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==browser$1$1.stdout&&e!==browser$1$1.stderr?a:d;function o(t,i){debug("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,debug("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",s),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",d),r.removeListener("data",c),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}function a(){debug("onend"),e.end()}n.endEmitted?browser$1$1.nextTick(i):r.once("end",i),e.on("unpipe",o);var s=pipeOnDrain(r);e.on("drain",s);var u=!1;function c(t){debug("ondata");var i=e.write(t);debug("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==indexOf$1(n.pipes,e))&&!u&&(debug("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function l(t){debug("onerror",t),d(),e.removeListener("error",l),0===EElistenerCount(e,"error")&&errorOrDestroy(e,t)}function f(){e.removeListener("finish",h),d()}function h(){debug("onfinish"),e.removeListener("close",f),d()}function d(){debug("unpipe"),r.unpipe(e)}return r.on("data",c),prependListener(e,"error",l),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(debug("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=indexOf$1(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Readable.prototype.on=function(e,t){var r=Stream$2.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,debug("on readable",n.length,n.reading),n.length?emitReadable(this):n.reading||browser$1$1.nextTick(nReadingNextTick,this))),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){var r=Stream$2.prototype.removeListener.call(this,e,t);return"readable"===e&&browser$1$1.nextTick(updateReadableListening,this),r},Readable.prototype.removeAllListeners=function(e){var t=Stream$2.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||browser$1$1.nextTick(updateReadableListening,this),t},Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!e.readableListening,resume(this,e)),e.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(debug("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(debug("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<kProxyEvents.length;o++)e.on(kProxyEvents[o],this.emit.bind(this,kProxyEvents[o]));return this._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(e,t){return void 0===from$9&&(from$9=fromBrowser),from$9(Readable,e,t)});var _stream_transform=Transform$5,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform$5(e){if(!(this instanceof Transform$5))return new Transform$5(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(t,r){done(e,t,r)}))}function done(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}inherits_browser$1.exports(Transform$5,Duplex),Transform$5.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform$5.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform$5.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform$5.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Transform$5.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,(function(e){t(e)}))};var _stream_passthrough=PassThrough,Transform$4=_stream_transform,eos;function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform$4.call(this,e)}function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}inherits_browser$1.exports(PassThrough,Transform$4),PassThrough.prototype._transform=function(e,t,r){r(null,e)};var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$1(e){if(e)throw e}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function destroyer(e,t,r,n){n=once(n);var i=!1;e.on("close",(function(){i=!0})),void 0===eos&&(eos=endOfStream),eos(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,isRequest(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new ERR_STREAM_DESTROYED("pipe"))}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return e.length?"function"!=typeof e[e.length-1]?noop$1:e.pop():noop$1}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var o=t.map((function(e,r){var a=r<t.length-1;return destroyer(e,a,r>0,(function(e){n||(n=e),e&&o.forEach(call),a||(o.forEach(call),i(n))}))}));return t.reduce(pipe)}var pipeline_1=pipeline,module,exports;function _createSuper$v(e){var t=_isNativeReflectConstruct$v();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}module=readableBrowser,exports=readableBrowser.exports,(exports=module.exports=_stream_readable).Stream=exports,exports.Readable=exports,exports.Writable=_stream_writable,exports.Duplex=_stream_duplex,exports.Transform=_stream_transform,exports.PassThrough=_stream_passthrough,exports.finished=endOfStream,exports.pipeline=pipeline_1,Object.defineProperty(lib$8,"__esModule",{value:!0}),lib$8.ReadableWebToNodeStream=void 0;var readable_stream_1=readableBrowser.exports,ReadableWebToNodeStream=function(e){_inherits(o,e);var t,r,n,i=_createSuper$v(o);function o(e){var t;return _classCallCheck$1(this,o),(t=i.call(this)).bytesRead=0,t.released=!1,t.reader=e.getReader(),t}return _createClass$1(o,[{key:"_read",value:(n=_asyncToGenerator(regenerator.mark((function e(){var t;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.released){e.next=3;break}return this.push(null),e.abrupt("return");case 3:return this.pendingRead=this.reader.read(),e.next=6,this.pendingRead;case 6:t=e.sent,delete this.pendingRead,t.done||this.released?this.push(null):(this.bytesRead+=t.value.length,this.push(t.value));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"waitForReadToComplete",value:(r=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead){e.next=3;break}return e.next=3,this.pendingRead;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"close",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncAndRelease();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"syncAndRelease",value:(t=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.released=!0,e.next=3,this.waitForReadToComplete();case 3:return e.next=5,this.reader.releaseLock();case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),o}(readable_stream_1.Readable);lib$8.ReadableWebToNodeStream=ReadableWebToNodeStream;var lib$7={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;var t=ieee754;function r(e){return new DataView(e.buffer,e.byteOffset)}e.UINT8={len:1,get:function(e,t){return r(e).getUint8(t)},put:function(e,t,n){return r(e).setUint8(t,n),t+1}},e.UINT16_LE={len:2,get:function(e,t){return r(e).getUint16(t,!0)},put:function(e,t,n){return r(e).setUint16(t,n,!0),t+2}},e.UINT16_BE={len:2,get:function(e,t){return r(e).getUint16(t)},put:function(e,t,n){return r(e).setUint16(t,n),t+2}},e.UINT24_LE={len:3,get:function(e,t){var n=r(e);return n.getUint8(t)+(n.getUint16(t+1,!0)<<8)},put:function(e,t,n){var i=r(e);return i.setUint8(t,255&n),i.setUint16(t+1,n>>8,!0),t+3}},e.UINT24_BE={len:3,get:function(e,t){var n=r(e);return(n.getUint16(t)<<8)+n.getUint8(t+2)},put:function(e,t,n){var i=r(e);return i.setUint16(t,n>>8),i.setUint8(t+2,255&n),t+3}},e.UINT32_LE={len:4,get:function(e,t){return r(e).getUint32(t,!0)},put:function(e,t,n){return r(e).setUint32(t,n,!0),t+4}},e.UINT32_BE={len:4,get:function(e,t){return r(e).getUint32(t)},put:function(e,t,n){return r(e).setUint32(t,n),t+4}},e.INT8={len:1,get:function(e,t){return r(e).getInt8(t)},put:function(e,t,n){return r(e).setInt8(t,n),t+1}},e.INT16_BE={len:2,get:function(e,t){return r(e).getInt16(t)},put:function(e,t,n){return r(e).setInt16(t,n),t+2}},e.INT16_LE={len:2,get:function(e,t){return r(e).getInt16(t,!0)},put:function(e,t,n){return r(e).setInt16(t,n,!0),t+2}},e.INT24_LE={len:3,get:function(t,r){var n=e.UINT24_LE.get(t,r);return n>8388607?n-16777216:n},put:function(e,t,n){var i=r(e);return i.setUint8(t,255&n),i.setUint16(t+1,n>>8,!0),t+3}},e.INT24_BE={len:3,get:function(t,r){var n=e.UINT24_BE.get(t,r);return n>8388607?n-16777216:n},put:function(e,t,n){var i=r(e);return i.setUint16(t,n>>8),i.setUint8(t+2,255&n),t+3}},e.INT32_BE={len:4,get:function(e,t){return r(e).getInt32(t)},put:function(e,t,n){return r(e).setInt32(t,n),t+4}},e.INT32_LE={len:4,get:function(e,t){return r(e).getInt32(t,!0)},put:function(e,t,n){return r(e).setInt32(t,n,!0),t+4}},e.UINT64_LE={len:8,get:function(e,t){return r(e).getBigUint64(t,!0)},put:function(e,t,n){return r(e).setBigUint64(t,n,!0),t+8}},e.INT64_LE={len:8,get:function(e,t){return r(e).getBigInt64(t,!0)},put:function(e,t,n){return r(e).setBigInt64(t,n,!0),t+8}},e.UINT64_BE={len:8,get:function(e,t){return r(e).getBigUint64(t)},put:function(e,t,n){return r(e).setBigUint64(t,n),t+8}},e.INT64_BE={len:8,get:function(e,t){return r(e).getBigInt64(t)},put:function(e,t,n){return r(e).setBigInt64(t,n),t+8}},e.Float16_BE={len:2,get:function(e,r){return t.read(e,r,!1,10,this.len)},put:function(e,r,n){return t.write(e,n,r,!1,10,this.len),r+this.len}},e.Float16_LE={len:2,get:function(e,r){return t.read(e,r,!0,10,this.len)},put:function(e,r,n){return t.write(e,n,r,!0,10,this.len),r+this.len}},e.Float32_BE={len:4,get:function(e,t){return r(e).getFloat32(t)},put:function(e,t,n){return r(e).setFloat32(t,n),t+4}},e.Float32_LE={len:4,get:function(e,t){return r(e).getFloat32(t,!0)},put:function(e,t,n){return r(e).setFloat32(t,n,!0),t+4}},e.Float64_BE={len:8,get:function(e,t){return r(e).getFloat64(t)},put:function(e,t,n){return r(e).setFloat64(t,n),t+8}},e.Float64_LE={len:8,get:function(e,t){return r(e).getFloat64(t,!0)},put:function(e,t,n){return r(e).setFloat64(t,n,!0),t+8}},e.Float80_BE={len:10,get:function(e,r){return t.read(e,r,!1,63,this.len)},put:function(e,r,n){return t.write(e,n,r,!1,63,this.len),r+this.len}},e.Float80_LE={len:10,get:function(e,r){return t.read(e,r,!0,63,this.len)},put:function(e,r,n){return t.write(e,n,r,!0,63,this.len),r+this.len}};var n=function(){function e(t){_classCallCheck$1(this,e),this.len=t}return _createClass$1(e,[{key:"get",value:function(e,t){}}]),e}();e.IgnoreType=n;var i=function(){function e(t){_classCallCheck$1(this,e),this.len=t}return _createClass$1(e,[{key:"get",value:function(e,t){return e.subarray(t,t+this.len)}}]),e}();e.Uint8ArrayType=i;var o=function(){function e(t){_classCallCheck$1(this,e),this.len=t}return _createClass$1(e,[{key:"get",value:function(e,t){return Buffer$j.from(e.subarray(t,t+this.len))}}]),e}();e.BufferType=o;var a=function(){function e(t,r){_classCallCheck$1(this,e),this.len=t,this.encoding=r}return _createClass$1(e,[{key:"get",value:function(e,t){return Buffer$j.from(e).toString(this.encoding,t,t+this.len)}}]),e}();e.StringType=a;var s=function(){function e(t){_classCallCheck$1(this,e),this.len=t}return _createClass$1(e,[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.decode(t,r,r+this.len)}}],[{key:"decode",value:function(t,r,n){for(var i="",o=r;o<n;++o)i+=e.codePointToString(e.singleByteDecoder(t[o]));return i}},{key:"inRange",value:function(e,t,r){return t<=e&&e<=r}},{key:"codePointToString",value:function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}},{key:"singleByteDecoder",value:function(t){if(e.inRange(t,0,127))return t;var r=e.windows1252[t-128];if(null===r)throw Error("invaliding encoding");return r}}]),e}();e.AnsiStringType=s,s.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}(lib$7);var core$2={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib$6={},EndOfFileStream={};function _createSuper$u(e){var t=_isNativeReflectConstruct$u();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";var t=function(t){_inherits(n,t);var r=_createSuper$u(n);function n(){return _classCallCheck$1(this,n),r.call(this,e.defaultMessages)}return _createClass$1(n)}(_wrapNativeSuper(Error));e.EndOfStreamError=t}(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;var Deferred=_createClass$1((function e(){var t=this;_classCallCheck$1(this,e),this.resolve=function(){return null},this.reject=function(){return null},this.promise=new Promise((function(e,r){t.reject=r,t.resolve=e}))}));Deferred$1.Deferred=Deferred,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=EndOfFileStream,r=Deferred$1,n=EndOfFileStream;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});var i=function(){function e(r){var n=this;if(_classCallCheck$1(this,e),this.s=r,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!r.read||!r.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(function(){return n.reject(new t.EndOfStreamError)})),this.s.once("error",(function(e){return n.reject(e)})),this.s.once("close",(function(){return n.reject(new Error("Stream closed"))}))}var n,i;return _createClass$1(e,[{key:"peek",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t,r,n);case 2:return i=e.sent,this.peekQueue.push(t.subarray(r,r+i)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"read",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(r,n,i){var o,a,s,u,c,l;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i){e.next=2;break}return e.abrupt("return",0);case 2:if(0!==this.peekQueue.length||!this.endOfStream){e.next=4;break}throw new t.EndOfStreamError;case 4:o=i,a=0;case 6:if(!(this.peekQueue.length>0&&o>0)){e.next=17;break}if(s=this.peekQueue.pop()){e.next=10;break}throw new Error("peekData should be defined");case 10:u=Math.min(s.length,o),r.set(s.subarray(0,u),n+a),a+=u,o-=u,u<s.length&&this.peekQueue.push(s.subarray(u)),e.next=6;break;case 17:if(!(o>0)||this.endOfStream){e.next=28;break}return c=Math.min(o,1048576),e.next=21,this.readFromStream(r,n+a,c);case 21:if(l=e.sent,a+=l,!(l<c)){e.next=25;break}return e.abrupt("break",28);case 25:o-=l,e.next=17;break;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"readFromStream",value:(n=_asyncToGenerator(regenerator.mark((function e(t,n,i){var o,a,s=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=this.s.read(i))){e.next=6;break}return t.set(o,n),e.abrupt("return",o.length);case 6:return a={buffer:t,offset:n,length:i,deferred:new r.Deferred},this.deferred=a.deferred,this.s.once("readable",(function(){s.readDeferred(a)})),e.abrupt("return",a.deferred.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"readDeferred",value:function(e){var t=this,r=this.s.read(e.length);r?(e.buffer.set(r,e.offset),e.deferred.resolve(r.length),this.deferred=null):this.s.once("readable",(function(){t.readDeferred(e)}))}},{key:"reject",value:function(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}]),e}();e.StreamReader=i}(StreamReader),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=EndOfFileStream;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}});var r=StreamReader;Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return r.StreamReader}})}(lib$6),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;var peek_readable_1$3=lib$6,AbstractTokenizer=function(){function e(t){_classCallCheck$1(this,e),this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}var t,r,n,i,o;return _createClass$1(e,[{key:"readToken",value:(o=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:this.position,n=Buffer$j.alloc(t.len),e.next=4,this.readBuffer(n,{position:r});case 4:if(!(e.sent<t.len)){e.next=7;break}throw new peek_readable_1$3.EndOfStreamError;case 7:return e.abrupt("return",t.get(n,0));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"peekToken",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:this.position,n=Buffer$j.alloc(t.len),e.next=4,this.peekBuffer(n,{position:r});case 4:if(!(e.sent<t.len)){e.next=7;break}throw new peek_readable_1$3.EndOfStreamError;case 7:return e.abrupt("return",t.get(n,0));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"readNumber",value:(n=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readBuffer(this.numBuffer,{length:t.len});case 2:if(!(e.sent<t.len)){e.next=5;break}throw new peek_readable_1$3.EndOfStreamError;case 5:return e.abrupt("return",t.get(this.numBuffer,0));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"peekNumber",value:(r=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peekBuffer(this.numBuffer,{length:t.len});case 2:if(!(e.sent<t.len)){e.next=5;break}throw new peek_readable_1$3.EndOfStreamError;case 5:return e.abrupt("return",t.get(this.numBuffer,0));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"ignore",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.fileInfo.size){e.next=5;break}if(r=this.fileInfo.size-this.position,!(t>r)){e.next=5;break}return this.position+=r,e.abrupt("return",r);case 5:return this.position+=t,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"close",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"normalizeOptions",value:function(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}]),e}();function _createSuper$t(e){var t=_isNativeReflectConstruct$t();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;var AbstractTokenizer_1$2=AbstractTokenizer$1,peek_readable_1$2=lib$6,maxBufferSize=256e3,ReadStreamTokenizer=function(e){_inherits(a,e);var t,r,n,i,o=_createSuper$t(a);function a(e,t){var r;return _classCallCheck$1(this,a),(r=o.call(this,t)).streamReader=new peek_readable_1$2.StreamReader(e),r}return _createClass$1(a,[{key:"getFileInfo",value:(i=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fileInfo);case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"readBuffer",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),!((i=n.position-this.position)>0)){e.next=8;break}return e.next=5,this.ignore(i);case 5:return e.abrupt("return",this.readBuffer(t,r));case 8:if(!(i<0)){e.next=10;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 10:if(0!==n.length){e.next=12;break}return e.abrupt("return",0);case 12:return e.next=14,this.streamReader.read(t,n.offset,n.length);case 14:if(o=e.sent,this.position+=o,r&&r.mayBeLess||!(o<n.length)){e.next=18;break}throw new peek_readable_1$2.EndOfStreamError;case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"peekBuffer",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),i=0,!n.position){e.next=15;break}if(!((o=n.position-this.position)>0)){e.next=13;break}return a=new Uint8Array(n.length+o),e.next=8,this.peekBuffer(a,{mayBeLess:n.mayBeLess});case 8:return i=e.sent,t.set(a.subarray(o),n.offset),e.abrupt("return",i-o);case 13:if(!(o<0)){e.next=15;break}throw new Error("Cannot peek from a negative offset in a stream");case 15:if(!(n.length>0)){e.next=29;break}return e.prev=16,e.next=19,this.streamReader.peek(t,n.offset,n.length);case 19:i=e.sent,e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(16),!(r&&r.mayBeLess&&e.t0 instanceof peek_readable_1$2.EndOfStreamError)){e.next=26;break}return e.abrupt("return",0);case 26:throw e.t0;case 27:if(n.mayBeLess||!(i<n.length)){e.next=29;break}throw new peek_readable_1$2.EndOfStreamError;case 29:return e.abrupt("return",i);case 30:case"end":return e.stop()}}),e,this,[[16,22]])}))),function(e,t){return r.apply(this,arguments)})},{key:"ignore",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.min(maxBufferSize,t),n=new Uint8Array(r),i=0;case 3:if(!(i<t)){e.next=13;break}return o=t-i,e.next=7,this.readBuffer(n,{length:Math.min(r,o)});case 7:if(!((a=e.sent)<0)){e.next=10;break}return e.abrupt("return",a);case 10:i+=a,e.next=3;break;case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),a}(AbstractTokenizer_1$2.AbstractTokenizer);ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};function _createSuper$s(e){var t=_isNativeReflectConstruct$s();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;var peek_readable_1$1=lib$6,AbstractTokenizer_1$1=AbstractTokenizer$1,BufferTokenizer=function(e){_inherits(i,e);var t,r,n=_createSuper$s(i);function i(e,t){var r;return _classCallCheck$1(this,i),(r=n.call(this,t)).uint8Array=e,r.fileInfo.size=r.fileInfo.size?r.fileInfo.size:e.length,r}return _createClass$1(i,[{key:"readBuffer",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.position){e.next=4;break}if(!(r.position<this.position)){e.next=3;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 3:this.position=r.position;case 4:return e.next=6,this.peekBuffer(t,r);case 6:return n=e.sent,this.position+=n,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"peekBuffer",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),i=Math.min(this.uint8Array.length-n.position,n.length),n.mayBeLess||!(i<n.length)){e.next=6;break}throw new peek_readable_1$1.EndOfStreamError;case 6:return t.set(this.uint8Array.subarray(n.position,n.position+i),n.offset),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"close",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),i}(AbstractTokenizer_1$1.AbstractTokenizer);BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;var t=ReadStreamTokenizer$1,r=BufferTokenizer$1,n=lib$6;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),e.fromStream=function(e,r){return r=r||{},new t.ReadStreamTokenizer(e,r)},e.fromBuffer=function(e,t){return new r.BufferTokenizer(e,t)}}(core$2);var util$7={stringToBytes:function(e){return _toConsumableArray(e).map((function(e){return e.charCodeAt(0)}))},tarHeaderChecksumMatches:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;for(var n=256,i=t;i<t+148;i++)n+=e[i];for(var o=t+156;o<t+512;o++)n+=e[o];return r===n},uint32SyncSafeToken:{get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};function _createForOfIteratorHelper$e(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$e(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$e(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$e(e,t):void 0}}function _arrayLikeToArray$e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys$m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$m(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Token=lib$7,strtok3$1=core$2,stringToBytes$1=util$7.stringToBytes,tarHeaderChecksumMatches=util$7.tarHeaderChecksumMatches,uint32SyncSafeToken=util$7.uint32SyncSafeToken,supported=supported$1,minimumBytes=4100;function fromStream(e){return _fromStream.apply(this,arguments)}function _fromStream(){return _fromStream=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3$1.fromStream(t);case 2:return r=e.sent,e.prev=3,e.next=6,fromTokenizer(r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,r.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}}),e,null,[[3,,7,11]])}))),_fromStream.apply(this,arguments)}function fromBuffer(e){return _fromBuffer.apply(this,arguments)}function _fromBuffer(){return _fromBuffer=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer$j.isBuffer(t)){e.next=2;break}throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof$2(t),"`"));case 2:if((r=t instanceof Buffer$j?t:Buffer$j.from(t))&&r.length>1){e.next=5;break}return e.abrupt("return");case 5:return n=strtok3$1.fromBuffer(r),e.abrupt("return",fromTokenizer(n));case 7:case"end":return e.stop()}}),e)}))),_fromBuffer.apply(this,arguments)}function _check(e,t,r){r=_objectSpread$m({offset:0},r);var n,i=_createForOfIteratorHelper$e(t.entries());try{for(i.s();!(n=i.n()).done;){var o=_slicedToArray(n.value,2),a=o[0],s=o[1];if(r.mask){if(s!==(r.mask[a]&e[a+r.offset]))return!1}else if(s!==e[a+r.offset])return!1}}catch(e){i.e(e)}finally{i.f()}return!0}function fromTokenizer(e){return _fromTokenizer2.apply(this,arguments)}function _fromTokenizer2(){return(_fromTokenizer2=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_fromTokenizer(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof strtok3$1.EndOfStreamError){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function _fromTokenizer(e){return _fromTokenizer3.apply(this,arguments)}function _fromTokenizer3(){return _fromTokenizer3=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer$j.alloc(minimumBytes),12,n=function(e,t){return _check(r,e,t)},i=function(e,t){return n(stringToBytes$1(e),t)},t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),e.next=7,t.peekBuffer(r,{length:12,mayBeLess:!0});case 7:if(!n([66,77])){e.next=9;break}return e.abrupt("return",{ext:"bmp",mime:"image/bmp"});case 9:if(!n([11,119])){e.next=11;break}return e.abrupt("return",{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"});case 11:if(!n([120,1])){e.next=13;break}return e.abrupt("return",{ext:"dmg",mime:"application/x-apple-diskimage"});case 13:if(!n([77,90])){e.next=15;break}return e.abrupt("return",{ext:"exe",mime:"application/x-msdownload"});case 15:if(!n([37,33])){e.next=21;break}return e.next=18,t.peekBuffer(r,{length:24,mayBeLess:!0});case 18:if(!i("PS-Adobe-",{offset:2})||!i(" EPSF-",{offset:14})){e.next=20;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 20:return e.abrupt("return",{ext:"ps",mime:"application/postscript"});case 21:if(!n([31,160])&&!n([31,157])){e.next=23;break}return e.abrupt("return",{ext:"Z",mime:"application/x-compress"});case 23:if(!n([255,216,255])){e.next=25;break}return e.abrupt("return",{ext:"jpg",mime:"image/jpeg"});case 25:if(!n([73,73,188])){e.next=27;break}return e.abrupt("return",{ext:"jxr",mime:"image/vnd.ms-photo"});case 27:if(!n([31,139,8])){e.next=29;break}return e.abrupt("return",{ext:"gz",mime:"application/gzip"});case 29:if(!n([66,90,104])){e.next=31;break}return e.abrupt("return",{ext:"bz2",mime:"application/x-bzip2"});case 31:if(!i("ID3")){e.next=42;break}return e.next=34,t.ignore(6);case 34:return e.next=36,t.readToken(uint32SyncSafeToken);case 36:if(o=e.sent,!(t.position+o>t.fileInfo.size)){e.next=39;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 39:return e.next=41,t.ignore(o);case 41:return e.abrupt("return",fromTokenizer(t));case 42:if(!i("MP+")){e.next=44;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 44:if(67!==r[0]&&70!==r[0]||!n([87,83],{offset:1})){e.next=46;break}return e.abrupt("return",{ext:"swf",mime:"application/x-shockwave-flash"});case 46:if(!n([71,73,70])){e.next=48;break}return e.abrupt("return",{ext:"gif",mime:"image/gif"});case 48:if(!i("FLIF")){e.next=50;break}return e.abrupt("return",{ext:"flif",mime:"image/flif"});case 50:if(!i("8BPS")){e.next=52;break}return e.abrupt("return",{ext:"psd",mime:"image/vnd.adobe.photoshop"});case 52:if(!i("WEBP",{offset:8})){e.next=54;break}return e.abrupt("return",{ext:"webp",mime:"image/webp"});case 54:if(!i("MPCK")){e.next=56;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 56:if(!i("FORM")){e.next=58;break}return e.abrupt("return",{ext:"aif",mime:"audio/aiff"});case 58:if(!i("icns",{offset:0})){e.next=60;break}return e.abrupt("return",{ext:"icns",mime:"image/icns"});case 60:if(!n([80,75,3,4])){e.next=121;break}e.prev=61;case 62:if(!(t.position+30<t.fileInfo.size)){e.next=114;break}return e.next=65,t.readBuffer(r,{length:30});case 65:return a={compressedSize:r.readUInt32LE(18),uncompressedSize:r.readUInt32LE(22),filenameLength:r.readUInt16LE(26),extraFieldLength:r.readUInt16LE(28)},e.next=68,t.readToken(new Token.StringType(a.filenameLength,"utf-8"));case 68:return a.filename=e.sent,e.next=71,t.ignore(a.extraFieldLength);case 71:if("META-INF/mozilla.rsa"!==a.filename){e.next=73;break}return e.abrupt("return",{ext:"xpi",mime:"application/x-xpinstall"});case 73:if(!a.filename.endsWith(".rels")&&!a.filename.endsWith(".xml")){e.next=83;break}s=a.filename.split("/")[0],e.t0=s,e.next="_rels"===e.t0?78:"word"===e.t0?79:"ppt"===e.t0?80:"xl"===e.t0?81:82;break;case 78:return e.abrupt("break",83);case 79:return e.abrupt("return",{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});case 80:return e.abrupt("return",{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});case 81:return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 82:return e.abrupt("break",83);case 83:if(!a.filename.startsWith("xl/")){e.next=85;break}return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 85:if(!a.filename.startsWith("3D/")||!a.filename.endsWith(".model")){e.next=87;break}return e.abrupt("return",{ext:"3mf",mime:"model/3mf"});case 87:if("mimetype"!==a.filename||a.compressedSize!==a.uncompressedSize){e.next=98;break}return e.next=90,t.readToken(new Token.StringType(a.compressedSize,"utf-8"));case 90:u=e.sent,e.t1=u,e.next="application/epub+zip"===e.t1?94:"application/vnd.oasis.opendocument.text"===e.t1?95:"application/vnd.oasis.opendocument.spreadsheet"===e.t1?96:"application/vnd.oasis.opendocument.presentation"===e.t1?97:98;break;case 94:return e.abrupt("return",{ext:"epub",mime:"application/epub+zip"});case 95:return e.abrupt("return",{ext:"odt",mime:"application/vnd.oasis.opendocument.text"});case 96:return e.abrupt("return",{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"});case 97:return e.abrupt("return",{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"});case 98:if(0!==a.compressedSize){e.next=110;break}c=-1;case 100:if(!(c<0&&t.position<t.fileInfo.size)){e.next=108;break}return e.next=103,t.peekBuffer(r,{mayBeLess:!0});case 103:return c=r.indexOf("504B0304",0,"hex"),e.next=106,t.ignore(c>=0?c:r.length);case 106:e.next=100;break;case 108:e.next=112;break;case 110:return e.next=112,t.ignore(a.compressedSize);case 112:e.next=62;break;case 114:e.next=120;break;case 116:if(e.prev=116,e.t2=e.catch(61),e.t2 instanceof strtok3$1.EndOfStreamError){e.next=120;break}throw e.t2;case 120:return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 121:if(!i("OggS")){e.next=140;break}return e.next=124,t.ignore(28);case 124:return l=Buffer$j.alloc(8),e.next=127,t.readBuffer(l);case 127:if(!_check(l,[79,112,117,115,72,101,97,100])){e.next=129;break}return e.abrupt("return",{ext:"opus",mime:"audio/opus"});case 129:if(!_check(l,[128,116,104,101,111,114,97])){e.next=131;break}return e.abrupt("return",{ext:"ogv",mime:"video/ogg"});case 131:if(!_check(l,[1,118,105,100,101,111,0])){e.next=133;break}return e.abrupt("return",{ext:"ogm",mime:"video/ogg"});case 133:if(!_check(l,[127,70,76,65,67])){e.next=135;break}return e.abrupt("return",{ext:"oga",mime:"audio/ogg"});case 135:if(!_check(l,[83,112,101,101,120,32,32])){e.next=137;break}return e.abrupt("return",{ext:"spx",mime:"audio/ogg"});case 137:if(!_check(l,[1,118,111,114,98,105,115])){e.next=139;break}return e.abrupt("return",{ext:"ogg",mime:"audio/ogg"});case 139:return e.abrupt("return",{ext:"ogx",mime:"application/ogg"});case 140:if(!n([80,75])||3!==r[2]&&5!==r[2]&&7!==r[2]||4!==r[3]&&6!==r[3]&&8!==r[3]){e.next=142;break}return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 142:if(!i("ftyp",{offset:4})||0==(96&r[8])){e.next=167;break}f=r.toString("binary",8,12).replace("\0"," ").trim(),e.t3=f,e.next="avif"===e.t3?147:"mif1"===e.t3?148:"msf1"===e.t3?149:"heic"===e.t3||"heix"===e.t3?150:"hevc"===e.t3||"hevx"===e.t3?151:"qt"===e.t3?152:"M4V"===e.t3||"M4VH"===e.t3||"M4VP"===e.t3?153:"M4P"===e.t3?154:"M4B"===e.t3?155:"M4A"===e.t3?156:"F4V"===e.t3?157:"F4P"===e.t3?158:"F4A"===e.t3?159:"F4B"===e.t3?160:"crx"===e.t3?161:162;break;case 147:return e.abrupt("return",{ext:"avif",mime:"image/avif"});case 148:return e.abrupt("return",{ext:"heic",mime:"image/heif"});case 149:return e.abrupt("return",{ext:"heic",mime:"image/heif-sequence"});case 150:return e.abrupt("return",{ext:"heic",mime:"image/heic"});case 151:return e.abrupt("return",{ext:"heic",mime:"image/heic-sequence"});case 152:return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 153:return e.abrupt("return",{ext:"m4v",mime:"video/x-m4v"});case 154:return e.abrupt("return",{ext:"m4p",mime:"video/mp4"});case 155:return e.abrupt("return",{ext:"m4b",mime:"audio/mp4"});case 156:return e.abrupt("return",{ext:"m4a",mime:"audio/x-m4a"});case 157:return e.abrupt("return",{ext:"f4v",mime:"video/mp4"});case 158:return e.abrupt("return",{ext:"f4p",mime:"video/mp4"});case 159:return e.abrupt("return",{ext:"f4a",mime:"audio/mp4"});case 160:return e.abrupt("return",{ext:"f4b",mime:"audio/mp4"});case 161:return e.abrupt("return",{ext:"cr3",mime:"image/x-canon-cr3"});case 162:if(!f.startsWith("3g")){e.next=166;break}if(!f.startsWith("3g2")){e.next=165;break}return e.abrupt("return",{ext:"3g2",mime:"video/3gpp2"});case 165:return e.abrupt("return",{ext:"3gp",mime:"video/3gpp"});case 166:return e.abrupt("return",{ext:"mp4",mime:"video/mp4"});case 167:if(!i("MThd")){e.next=169;break}return e.abrupt("return",{ext:"mid",mime:"audio/midi"});case 169:if(!i("wOFF")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=171;break}return e.abrupt("return",{ext:"woff",mime:"font/woff"});case 171:if(!i("wOF2")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=173;break}return e.abrupt("return",{ext:"woff2",mime:"font/woff2"});case 173:if(!n([212,195,178,161])&&!n([161,178,195,212])){e.next=175;break}return e.abrupt("return",{ext:"pcap",mime:"application/vnd.tcpdump.pcap"});case 175:if(!i("DSD ")){e.next=177;break}return e.abrupt("return",{ext:"dsf",mime:"audio/x-dsf"});case 177:if(!i("LZIP")){e.next=179;break}return e.abrupt("return",{ext:"lz",mime:"application/x-lzip"});case 179:if(!i("fLaC")){e.next=181;break}return e.abrupt("return",{ext:"flac",mime:"audio/x-flac"});case 181:if(!n([66,80,71,251])){e.next=183;break}return e.abrupt("return",{ext:"bpg",mime:"image/bpg"});case 183:if(!i("wvpk")){e.next=185;break}return e.abrupt("return",{ext:"wv",mime:"audio/wavpack"});case 185:if(!i("%PDF")){e.next=195;break}return e.next=188,t.ignore(1350);case 188:return 10485760,h=Buffer$j.alloc(Math.min(10485760,t.fileInfo.size)),e.next=192,t.readBuffer(h,{mayBeLess:!0});case 192:if(!h.includes(Buffer$j.from("AIPrivateData"))){e.next=194;break}return e.abrupt("return",{ext:"ai",mime:"application/postscript"});case 194:return e.abrupt("return",{ext:"pdf",mime:"application/pdf"});case 195:if(!n([0,97,115,109])){e.next=197;break}return e.abrupt("return",{ext:"wasm",mime:"application/wasm"});case 197:if(!n([73,73,42,0])){e.next=210;break}if(!i("CR",{offset:8})){e.next=200;break}return e.abrupt("return",{ext:"cr2",mime:"image/x-canon-cr2"});case 200:if(!n([28,0,254,0],{offset:8})&&!n([31,0,11,0],{offset:8})){e.next=202;break}return e.abrupt("return",{ext:"nef",mime:"image/x-nikon-nef"});case 202:if(!n([8,0,0,0],{offset:4})||!n([45,0,254,0],{offset:8})&&!n([39,0,254,0],{offset:8})){e.next=204;break}return e.abrupt("return",{ext:"dng",mime:"image/x-adobe-dng"});case 204:return r=Buffer$j.alloc(24),e.next=207,t.peekBuffer(r);case 207:if(!n([16,251,134,1],{offset:4})&&!n([8,0,0,0],{offset:4})||!n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})){e.next=209;break}return e.abrupt("return",{ext:"arw",mime:"image/x-sony-arw"});case 209:return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 210:if(!n([77,77,0,42])){e.next=212;break}return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 212:if(!i("MAC ")){e.next=214;break}return e.abrupt("return",{ext:"ape",mime:"audio/ape"});case 214:if(!n([26,69,223,163])){e.next=230;break}return d=function(){var e=_asyncToGenerator(regenerator.mark((function e(){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peekNumber(Token.UINT8);case 2:for(r=e.sent,n=128,i=0;0==(r&n);)++i,n>>=1;return o=Buffer$j.alloc(i+1),e.next=9,t.readBuffer(o);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=_asyncToGenerator(regenerator.mark((function e(){var t,r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.next=5,d();case 5:return(r=e.sent)[0]^=128>>r.length-1,n=Math.min(6,r.length),e.abrupt("return",{id:t.readUIntBE(0,t.length),len:r.readUIntBE(r.length-n,n)});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=_asyncToGenerator(regenerator.mark((function e(r,n){var i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=11;break}return e.next=3,p();case 3:if(17026!==(i=e.sent).id){e.next=6;break}return e.abrupt("return",t.readToken(new Token.StringType(i.len,"utf-8")));case 6:return e.next=8,t.ignore(i.len);case 8:--n,e.next=0;break;case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.next=220,p();case 220:return m=e.sent,e.next=223,y(1,m.len);case 223:v=e.sent,e.t4=v,e.next="webm"===e.t4?227:"matroska"===e.t4?228:229;break;case 227:return e.abrupt("return",{ext:"webm",mime:"video/webm"});case 228:return e.abrupt("return",{ext:"mkv",mime:"video/x-matroska"});case 229:return e.abrupt("return");case 230:if(!n([82,73,70,70])){e.next=237;break}if(!n([65,86,73],{offset:8})){e.next=233;break}return e.abrupt("return",{ext:"avi",mime:"video/vnd.avi"});case 233:if(!n([87,65,86,69],{offset:8})){e.next=235;break}return e.abrupt("return",{ext:"wav",mime:"audio/vnd.wave"});case 235:if(!n([81,76,67,77],{offset:8})){e.next=237;break}return e.abrupt("return",{ext:"qcp",mime:"audio/qcelp"});case 237:if(!i("SQLi")){e.next=239;break}return e.abrupt("return",{ext:"sqlite",mime:"application/x-sqlite3"});case 239:if(!n([78,69,83,26])){e.next=241;break}return e.abrupt("return",{ext:"nes",mime:"application/x-nintendo-nes-rom"});case 241:if(!i("Cr24")){e.next=243;break}return e.abrupt("return",{ext:"crx",mime:"application/x-google-chrome-extension"});case 243:if(!i("MSCF")&&!i("ISc(")){e.next=245;break}return e.abrupt("return",{ext:"cab",mime:"application/vnd.ms-cab-compressed"});case 245:if(!n([237,171,238,219])){e.next=247;break}return e.abrupt("return",{ext:"rpm",mime:"application/x-rpm"});case 247:if(!n([197,208,211,198])){e.next=249;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 249:if(!n([40,181,47,253])){e.next=251;break}return e.abrupt("return",{ext:"zst",mime:"application/zstd"});case 251:if(!n([79,84,84,79,0])){e.next=253;break}return e.abrupt("return",{ext:"otf",mime:"font/otf"});case 253:if(!i("#!AMR")){e.next=255;break}return e.abrupt("return",{ext:"amr",mime:"audio/amr"});case 255:if(!i("{\\rtf")){e.next=257;break}return e.abrupt("return",{ext:"rtf",mime:"application/rtf"});case 257:if(!n([70,76,86,1])){e.next=259;break}return e.abrupt("return",{ext:"flv",mime:"video/x-flv"});case 259:if(!i("IMPM")){e.next=261;break}return e.abrupt("return",{ext:"it",mime:"audio/x-it"});case 261:if(!(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))){e.next=263;break}return e.abrupt("return",{ext:"lzh",mime:"application/x-lzh-compressed"});case 263:if(!n([0,0,1,186])){e.next=268;break}if(!n([33],{offset:4,mask:[241]})){e.next=266;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP1S"});case 266:if(!n([68],{offset:4,mask:[196]})){e.next=268;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP2P"});case 268:if(!i("ITSF")){e.next=270;break}return e.abrupt("return",{ext:"chm",mime:"application/vnd.ms-htmlhelp"});case 270:if(!n([253,55,122,88,90,0])){e.next=272;break}return e.abrupt("return",{ext:"xz",mime:"application/x-xz"});case 272:if(!i("<?xml ")){e.next=274;break}return e.abrupt("return",{ext:"xml",mime:"application/xml"});case 274:if(!n([55,122,188,175,39,28])){e.next=276;break}return e.abrupt("return",{ext:"7z",mime:"application/x-7z-compressed"});case 276:if(!n([82,97,114,33,26,7])||0!==r[6]&&1!==r[6]){e.next=278;break}return e.abrupt("return",{ext:"rar",mime:"application/x-rar-compressed"});case 278:if(!i("solid ")){e.next=280;break}return e.abrupt("return",{ext:"stl",mime:"model/stl"});case 280:if(!i("BLENDER")){e.next=282;break}return e.abrupt("return",{ext:"blend",mime:"application/x-blender"});case 282:if(!i("!<arch>")){e.next=291;break}return e.next=285,t.ignore(8);case 285:return e.next=287,t.readToken(new Token.StringType(13,"ascii"));case 287:if("debian-binary"!==e.sent){e.next=290;break}return e.abrupt("return",{ext:"deb",mime:"application/x-deb"});case 290:return e.abrupt("return",{ext:"ar",mime:"application/x-unix-archive"});case 291:if(!n([137,80,78,71,13,10,26,10])){e.next=309;break}return g=function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(Token.INT32_BE);case 2:return e.t0=e.sent,e.next=5,t.readToken(new Token.StringType(4,"binary"));case 5:return e.t1=e.sent,e.abrupt("return",{length:e.t0,type:e.t1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=295,t.ignore(8);case 295:return e.next=297,g();case 297:if(!((b=e.sent).length<0)){e.next=300;break}return e.abrupt("return");case 300:e.t5=b.type,e.next="IDAT"===e.t5?303:"acTL"===e.t5?304:305;break;case 303:return e.abrupt("return",{ext:"png",mime:"image/png"});case 304:return e.abrupt("return",{ext:"apng",mime:"image/apng"});case 305:return e.next=307,t.ignore(b.length+4);case 307:if(t.position+8<t.fileInfo.size){e.next=295;break}case 308:return e.abrupt("return",{ext:"png",mime:"image/png"});case 309:if(!n([65,82,82,79,87,49,0,0])){e.next=311;break}return e.abrupt("return",{ext:"arrow",mime:"application/x-apache-arrow"});case 311:if(!n([103,108,84,70,2,0,0,0])){e.next=313;break}return e.abrupt("return",{ext:"glb",mime:"model/gltf-binary"});case 313:if(!(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))){e.next=315;break}return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 315:if(!n([73,73,82,79,8,0,0,0,24])){e.next=317;break}return e.abrupt("return",{ext:"orf",mime:"image/x-olympus-orf"});case 317:if(!i("gimp xcf ")){e.next=319;break}return e.abrupt("return",{ext:"xcf",mime:"image/x-xcf"});case 319:if(!n([73,73,85,0,24,0,0,0,136,231,116,216])){e.next=321;break}return e.abrupt("return",{ext:"rw2",mime:"image/x-panasonic-rw2"});case 321:if(!n([48,38,178,117,142,102,207,17,166,217])){e.next=346;break}return w=function(){var e=_asyncToGenerator(regenerator.mark((function e(){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer$j.alloc(16),e.next=3,t.readBuffer(r);case 3:return e.t0=r,e.t1=Number,e.next=7,t.readToken(Token.UINT64_LE);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",{id:e.t0,size:e.t3});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=325,t.ignore(30);case 325:if(!(t.position+24<t.fileInfo.size)){e.next=345;break}return e.next=328,w();case 328:if(_=e.sent,$=_.size-24,!_check(_.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){e.next=341;break}return x=Buffer$j.alloc(16),e.t6=$,e.next=335,t.readBuffer(x);case 335:if($=e.t6-=e.sent,!_check(x,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=338;break}return e.abrupt("return",{ext:"asf",mime:"audio/x-ms-asf"});case 338:if(!_check(x,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=340;break}return e.abrupt("return",{ext:"asf",mime:"video/x-ms-asf"});case 340:return e.abrupt("break",345);case 341:return e.next=343,t.ignore($);case 343:e.next=325;break;case 345:return e.abrupt("return",{ext:"asf",mime:"application/vnd.ms-asf"});case 346:if(!n([171,75,84,88,32,49,49,187,13,10,26,10])){e.next=348;break}return e.abrupt("return",{ext:"ktx",mime:"image/ktx"});case 348:if(!n([126,16,4])&&!n([126,24,4])||!n([48,77,73,69],{offset:4})){e.next=350;break}return e.abrupt("return",{ext:"mie",mime:"application/x-mie"});case 350:if(!n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})){e.next=352;break}return e.abrupt("return",{ext:"shp",mime:"application/x-esri-shape"});case 352:if(!n([0,0,0,12,106,80,32,32,13,10,135,10])){e.next=366;break}return e.next=355,t.ignore(20);case 355:return e.next=357,t.readToken(new Token.StringType(4,"ascii"));case 357:S=e.sent,e.t7=S,e.next="jp2 "===e.t7?361:"jpx "===e.t7?362:"jpm "===e.t7?363:"mjp2"===e.t7?364:365;break;case 361:return e.abrupt("return",{ext:"jp2",mime:"image/jp2"});case 362:return e.abrupt("return",{ext:"jpx",mime:"image/jpx"});case 363:return e.abrupt("return",{ext:"jpm",mime:"image/jpm"});case 364:return e.abrupt("return",{ext:"mj2",mime:"image/mj2"});case 365:return e.abrupt("return");case 366:if(!n([255,10])&&!n([0,0,0,12,74,88,76,32,13,10,135,10])){e.next=368;break}return e.abrupt("return",{ext:"jxl",mime:"image/jxl"});case 368:if(!n([0,0,1,186])&&!n([0,0,1,179])){e.next=370;break}return e.abrupt("return",{ext:"mpg",mime:"video/mpeg"});case 370:if(!n([0,1,0,0,0])){e.next=372;break}return e.abrupt("return",{ext:"ttf",mime:"font/ttf"});case 372:if(!n([0,0,1,0])){e.next=374;break}return e.abrupt("return",{ext:"ico",mime:"image/x-icon"});case 374:if(!n([0,0,2,0])){e.next=376;break}return e.abrupt("return",{ext:"cur",mime:"image/x-icon"});case 376:if(!n([208,207,17,224,161,177,26,225])){e.next=378;break}return e.abrupt("return",{ext:"cfb",mime:"application/x-cfb"});case 378:return e.next=380,t.peekBuffer(r,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0});case 380:if(!i("BEGIN:")){e.next=385;break}if(!i("VCARD",{offset:6})){e.next=383;break}return e.abrupt("return",{ext:"vcf",mime:"text/vcard"});case 383:if(!i("VCALENDAR",{offset:6})){e.next=385;break}return e.abrupt("return",{ext:"ics",mime:"text/calendar"});case 385:if(!i("FUJIFILMCCD-RAW")){e.next=387;break}return e.abrupt("return",{ext:"raf",mime:"image/x-fujifilm-raf"});case 387:if(!i("Extended Module:")){e.next=389;break}return e.abrupt("return",{ext:"xm",mime:"audio/x-xm"});case 389:if(!i("Creative Voice File")){e.next=391;break}return e.abrupt("return",{ext:"voc",mime:"audio/x-voc"});case 391:if(!(n([4,0,0,0])&&r.length>=16)){e.next=403;break}if(!((k=r.readUInt32LE(12))>12&&r.length>=k+16)){e.next=403;break}if(e.prev=394,A=r.slice(16,k+16).toString(),!JSON.parse(A).files){e.next=399;break}return e.abrupt("return",{ext:"asar",mime:"application/x-asar"});case 399:e.next=403;break;case 401:e.prev=401,e.t8=e.catch(394);case 403:if(!n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){e.next=405;break}return e.abrupt("return",{ext:"mxf",mime:"application/mxf"});case 405:if(!i("SCRM",{offset:44})){e.next=407;break}return e.abrupt("return",{ext:"s3m",mime:"audio/x-s3m"});case 407:if(!n([71],{offset:4})||!n([71],{offset:192})&&!n([71],{offset:196})){e.next=409;break}return e.abrupt("return",{ext:"mts",mime:"video/mp2t"});case 409:if(!n([66,79,79,75,77,79,66,73],{offset:60})){e.next=411;break}return e.abrupt("return",{ext:"mobi",mime:"application/x-mobipocket-ebook"});case 411:if(!n([68,73,67,77],{offset:128})){e.next=413;break}return e.abrupt("return",{ext:"dcm",mime:"application/dicom"});case 413:if(!n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){e.next=415;break}return e.abrupt("return",{ext:"lnk",mime:"application/x.ms.shortcut"});case 415:if(!n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){e.next=417;break}return e.abrupt("return",{ext:"alias",mime:"application/x.apple.alias"});case 417:if(!n([76,80],{offset:34})||!(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))){e.next=419;break}return e.abrupt("return",{ext:"eot",mime:"application/vnd.ms-fontobject"});case 419:if(!n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])){e.next=421;break}return e.abrupt("return",{ext:"indd",mime:"application/x-indesign"});case 421:return e.next=423,t.peekBuffer(r,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0});case 423:if(!tarHeaderChecksumMatches(r)){e.next=425;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 425:if(!n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0])){e.next=427;break}return e.abrupt("return",{ext:"skp",mime:"application/vnd.sketchup.skp"});case 427:if(!i("-----BEGIN PGP MESSAGE-----")){e.next=429;break}return e.abrupt("return",{ext:"pgp",mime:"application/pgp-encrypted"});case 429:if(!(r.length>=2&&n([255,224],{offset:0,mask:[255,224]}))){e.next=440;break}if(!n([16],{offset:1,mask:[22]})){e.next=434;break}if(!n([8],{offset:1,mask:[8]})){e.next=433;break}return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 433:return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 434:if(!n([2],{offset:1,mask:[6]})){e.next=436;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 436:if(!n([4],{offset:1,mask:[6]})){e.next=438;break}return e.abrupt("return",{ext:"mp2",mime:"audio/mpeg"});case 438:if(!n([6],{offset:1,mask:[6]})){e.next=440;break}return e.abrupt("return",{ext:"mp1",mime:"audio/mpeg"});case 440:case"end":return e.stop()}}),e,null,[[61,116],[394,401]])}))),_fromTokenizer3.apply(this,arguments)}var stream=function stream(readableStream){return new Promise((function(resolve,reject){var stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new stream.PassThrough,r=stream.pipeline?stream.pipeline(readableStream,t,(function(){})):readableStream.pipe(t),n=readableStream.read(minimumBytes)||readableStream.read()||Buffer$j.alloc(0),e.prev=3,e.next=6,fromBuffer(n);case 6:i=e.sent,t.fileType=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),reject(e.t0);case 13:resolve(r);case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))))}))},fileType$1={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType$1,"extensions",{get:function(){return new Set(supported.extensions)}}),Object.defineProperty(fileType$1,"mimeTypes",{get:function(){return new Set(supported.mimeTypes)}});var core$1=fileType$1;!function(e){var t=lib$8.ReadableWebToNodeStream,r=core$1;function n(){return n=_asyncToGenerator(regenerator.mark((function e(n){var i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new t(n),e.next=3,r.fromStream(i);case 3:return o=e.sent,e.next=6,i.close();case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}function i(){return i=_asyncToGenerator(regenerator.mark((function e(t){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return n=e.sent,e.abrupt("return",r.fromBuffer(Buffer$j.from(n)));case 4:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function o(e){return e.arrayBuffer?e.arrayBuffer():new Promise((function(t,r){var n=new FileReader;n.addEventListener("loadend",(function(e){t(e.target.result)})),n.addEventListener("error",(function(e){r(new Error(e.message))})),n.addEventListener("abort",(function(e){r(new Error(e.type))})),n.readAsArrayBuffer(e)}))}Object.assign(e.exports,r,{fromStream:function(e){return n.apply(this,arguments)},fromBlob:function(e){return i.apply(this,arguments)}})}(browser$4);var lib$5={},FsPromise={},fs$2={},_polyfillNode_fs=Object.freeze({__proto__:null,default:fs$2}),require$$0$3=getAugmentedNamespace(_polyfillNode_fs);Object.defineProperty(FsPromise,"__esModule",{value:!0}),FsPromise.readFile=FsPromise.writeFileSync=FsPromise.writeFile=FsPromise.read=FsPromise.open=FsPromise.close=FsPromise.stat=FsPromise.createReadStream=FsPromise.pathExists=void 0;var fs$1=require$$0$3;function stat(e){return _stat.apply(this,arguments)}function _stat(){return(_stat=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fs$1.stat(t,(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function close(e){return _close.apply(this,arguments)}function _close(){return(_close=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fs$1.close(t,(function(t){t?r(t):e()}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function open(e,t){return _open.apply(this,arguments)}function _open(){return(_open=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){fs$1.open(t,r,(function(t,r){t?n(t):e(r)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function read$5(e,t,r,n,i){return _read.apply(this,arguments)}function _read(){return _read=_asyncToGenerator(regenerator.mark((function e(t,r,n,i,o){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){fs$1.read(t,r,n,i,o,(function(t,r,n){t?a(t):e({bytesRead:r,buffer:n})}))})));case 1:case"end":return e.stop()}}),e)}))),_read.apply(this,arguments)}function writeFile(e,t){return _writeFile.apply(this,arguments)}function _writeFile(){return(_writeFile=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){fs$1.writeFile(t,r,(function(t){t?n(t):e()}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function writeFileSync(e,t){fs$1.writeFileSync(e,t)}function readFile(e){return _readFile.apply(this,arguments)}function _readFile(){return _readFile=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fs$1.readFile(t,(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)}))),_readFile.apply(this,arguments)}FsPromise.pathExists=fs$1.existsSync,FsPromise.createReadStream=fs$1.createReadStream,FsPromise.stat=stat,FsPromise.close=close,FsPromise.open=open,FsPromise.read=read$5,FsPromise.writeFile=writeFile,FsPromise.writeFileSync=writeFileSync,FsPromise.readFile=readFile;var FileTokenizer$1={};function _createSuper$r(e){var t=_isNativeReflectConstruct$r();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(FileTokenizer$1,"__esModule",{value:!0}),FileTokenizer$1.fromFile=FileTokenizer$1.FileTokenizer=void 0;var AbstractTokenizer_1=AbstractTokenizer$1,peek_readable_1=lib$6,fs=FsPromise,FileTokenizer=function(e){_inherits(i,e);var t,r,n=_createSuper$r(i);function i(e,t){var r;return _classCallCheck$1(this,i),(r=n.call(this,t)).fd=e,r}return _createClass$1(i,[{key:"readBuffer",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.normalizeOptions(t,r),this.position=n.position,e.next=4,fs.read(this.fd,t,n.offset,n.length,n.position);case 4:if(i=e.sent,this.position+=i.bytesRead,!(i.bytesRead<n.length)||r&&r.mayBeLess){e.next=8;break}throw new peek_readable_1.EndOfStreamError;case 8:return e.abrupt("return",i.bytesRead);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"peekBuffer",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.normalizeOptions(t,r),e.next=3,fs.read(this.fd,t,n.offset,n.length,n.position);case 3:if(i=e.sent,n.mayBeLess||!(i.bytesRead<n.length)){e.next=6;break}throw new peek_readable_1.EndOfStreamError;case 6:return e.abrupt("return",i.bytesRead);case 7:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"close",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs.close(this.fd));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),i}(AbstractTokenizer_1.AbstractTokenizer);function fromFile$1(e){return _fromFile$1.apply(this,arguments)}function _fromFile$1(){return _fromFile$1=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs.stat(t);case 2:if((r=e.sent).isFile){e.next=5;break}throw new Error("File not a file: ".concat(t));case 5:return e.next=7,fs.open(t,"r");case 7:return n=e.sent,e.abrupt("return",new FileTokenizer(n,{path:t,size:r.size}));case 9:case"end":return e.stop()}}),e)}))),_fromFile$1.apply(this,arguments)}FileTokenizer$1.FileTokenizer=FileTokenizer,FileTokenizer$1.fromFile=fromFile$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromStream=e.fromBuffer=e.EndOfStreamError=e.fromFile=void 0;var t=FsPromise,r=core$2,n=FileTokenizer$1;Object.defineProperty(e,"fromFile",{enumerable:!0,get:function(){return n.fromFile}});var i=core$2;function o(){return o=_asyncToGenerator(regenerator.mark((function e(n,i){var o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=i||{},!n.path){e.next=7;break}return e.next=4,t.stat(n.path);case 4:o=e.sent,i.path=n.path,i.size=o.size;case 7:return e.abrupt("return",r.fromStream(n,i));case 8:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}}),Object.defineProperty(e,"fromBuffer",{enumerable:!0,get:function(){return i.fromBuffer}}),e.fromStream=function(e,t){return o.apply(this,arguments)}}(lib$5);var strtok3=lib$5,core=core$1;function fromFile(e){return _fromFile.apply(this,arguments)}function _fromFile(){return(_fromFile=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3.fromFile(t);case 2:return r=e.sent,e.prev=3,e.next=6,core.fromTokenizer(r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,r.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}}),e,null,[[3,,7,11]])})))).apply(this,arguments)}var fileType={fromFile:fromFile};Object.assign(fileType,core),Object.defineProperty(fileType,"extensions",{get:function(){return core.extensions}}),Object.defineProperty(fileType,"mimeTypes",{get:function(){return core.mimeTypes}});var fileType_1=fileType,fileTypeBrowser;"undefined"!=typeof window&&window&&(fileTypeBrowser=browser$4.exports);var NodeFileSchema=z.object({buffer:z.custom((function(e){return e})),name:z.optional(z.string())}),BrowserFileSchema=z.custom((function(e){return e})),CrossPlatformFileSchema=z.union([NodeFileSchema,BrowserFileSchema]),isNodeFile=function(e){return!(!e||!e.buffer)},ALLOWED_IMAGE_MIME_TYPES=["image/jpeg","image/png","image/bmp","image/tiff","image/gif","image/webp"],ALLOWED_AUDIO_MIME_TYPES=["audio/mpeg","audio/mp3","audio/aiff","audio/flac","audio/ogg","audio/wav","audio/vnd.wave"],getFileType=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNodeFile(t)){e.next=6;break}return e.next=3,fileType_1.fromBuffer(t.buffer);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,fileTypeBrowser.fromBlob(t);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ImageFile=CrossPlatformFileSchema.refine(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getFileType(t);case 2:return r=e.sent,e.abrupt("return",r&&ALLOWED_IMAGE_MIME_TYPES.includes(r.mime));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Image file has invalid file type. Supported file types are: ".concat(ALLOWED_IMAGE_MIME_TYPES.join(", "))),AudioFile=CrossPlatformFileSchema.refine(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getFileType(t);case 2:return r=e.sent,e.abrupt("return",r&&ALLOWED_AUDIO_MIME_TYPES.includes(r.mime));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Audio file has invalid file type. Supported file types are: ".concat(ALLOWED_AUDIO_MIME_TYPES.join(", "))),Mood,Genre;!function(e){e.PEACEFUL="Peaceful",e.ROMANTIC="Romantic",e.SENTIMENTAL="Sentimental",e.TENDER="Tender",e.EASYGOING="Easygoing",e.YEARNING="Yearning",e.SOPHISTICATED="Sophisticated",e.SENSUAL="Sensual",e.COOL="Cool",e.GRITTY="Gritty",e.MELANCHOLY="Melancholy",e.SERIOUS="Serious",e.BROODING="Brooding",e.FIERY="Fiery",e.DEFIANT="Defiant",e.AGGRESSIVE="Aggressive",e.ROWDY="Rowdy",e.EXCITED="Excited",e.ENERGIZING="Energizing",e.EMPOWERING="Empowering",e.STIRRING="Stirring",e.UPBEAT="Upbeat",e.OTHER="Other"}(Mood||(Mood={})),function(e){e.ALL="All Genres",e.ELECTRONIC="Electronic",e.ROCK="Rock",e.METAL="Metal",e.ALTERNATIVE="Alternative",e.HIP_HOP_RAP="Hip-Hop/Rap",e.EXPERIMENTAL="Experimental",e.PUNK="Punk",e.FOLK="Folk",e.POP="Pop",e.AMBIENT="Ambient",e.SOUNDTRACK="Soundtrack",e.WORLD="World",e.JAZZ="Jazz",e.ACOUSTIC="Acoustic",e.FUNK="Funk",e.R_AND_B_SOUL="R&B/Soul",e.DEVOTIONAL="Devotional",e.CLASSICAL="Classical",e.REGGAE="Reggae",e.PODCASTS="Podcasts",e.COUNTRY="Country",e.SPOKEN_WORK="Spoken Word",e.COMEDY="Comedy",e.BLUES="Blues",e.KIDS="Kids",e.AUDIOBOOKS="Audiobooks",e.LATIN="Latin",e.LOFI="Lo-Fi",e.HYPERPOP="Hyperpop",e.TECHNO="Techno",e.TRAP="Trap",e.HOUSE="House",e.TECH_HOUSE="Tech House",e.DEEP_HOUSE="Deep House",e.DISCO="Disco",e.ELECTRO="Electro",e.JUNGLE="Jungle",e.PROGRESSIVE_HOUSE="Progressive House",e.HARDSTYLE="Hardstyle",e.GLITCH_HOP="Glitch Hop",e.TRANCE="Trance",e.FUTURE_BASS="Future Bass",e.FUTURE_HOUSE="Future House",e.TROPICAL_HOUSE="Tropical House",e.DOWNTEMPO="Downtempo",e.DRUM_AND_BASS="Drum & Bass",e.DUBSTEP="Dubstep",e.JERSEY_CLUB="Jersey Club",e.VAPORWAVE="Vaporwave",e.MOOMBAHTON="Moombahton"}(Genre||(Genre={}));var messages={titleRequiredError:"Your track must have a name",artworkRequiredError:"Artwork is required",genreRequiredError:"Genre is required",invalidReleaseDateError:"Release date should not be in the future"},PremiumConditionsEthNFTCollection=z.object({chain:z.literal("eth"),address:z.string(),standard:z.union([z.literal("ERC721"),z.literal("ERC1155")]),name:z.string(),slug:z.string(),imageUrl:z.optional(z.string()),externalLink:z.optional(z.string())}).strict(),PremiumConditionsSolNFTCollection=z.object({chain:z.literal("sol"),address:z.string(),name:z.string(),imageUrl:z.optional(z.string()),externalLink:z.optional(z.string())}).strict(),PremiumConditionsNFTCollection=z.union([PremiumConditionsEthNFTCollection,PremiumConditionsSolNFTCollection]),PremiumConditionsFollowUserId=z.object({followUserId:HashId}).strict(),PremiumConditionsTipUserId=z.object({tipUserId:HashId}).strict(),createUploadTrackMetadataSchema=function(){return z.object({aiAttributionUserId:z.optional(HashId),description:z.optional(z.string().max(1e3)),download:z.optional(z.object({cid:z.string(),isDownloadable:z.boolean(),requiresFollow:z.boolean()}).strict().nullable()),fieldVisibility:z.optional(z.object({mood:z.optional(z.boolean()),tags:z.optional(z.boolean()),genre:z.optional(z.boolean()),share:z.optional(z.boolean()),playCount:z.optional(z.boolean()),remixes:z.optional(z.boolean())})),genre:z.enum(Object.values(Genre)).nullable().refine((function(e){return null!==e}),{message:messages.genreRequiredError}),isPremium:z.optional(z.boolean()),isrc:z.optional(z.string().nullable()),isUnlisted:z.optional(z.boolean()),iswc:z.optional(z.string().nullable()),license:z.optional(z.string().nullable()),mood:z.optional(z.enum(Object.values(Mood))).nullable(),premiumConditions:z.optional(z.union([PremiumConditionsNFTCollection,PremiumConditionsFollowUserId,PremiumConditionsTipUserId])),releaseDate:z.optional(z.date().max(new Date,{message:messages.invalidReleaseDateError})),remixOf:z.optional(z.object({tracks:z.array(z.object({parentTrackId:HashId})).min(1)}).strict()),tags:z.optional(z.string()),title:z.string({required_error:messages.titleRequiredError}),previewStartSeconds:z.optional(z.number()),audioUploadId:z.optional(z.string()),previewCid:z.optional(z.string())})},createUploadTrackSchema=function(){return z.object({userId:HashId,coverArtFile:ImageFile,metadata:createUploadTrackMetadataSchema().strict(),onProgress:z.optional(z.function().args(z.number())),trackFile:AudioFile}).strict()},createUpdateTrackSchema=function(){return z.object({userId:HashId,trackId:HashId,metadata:createUploadTrackMetadataSchema().strict().partial(),transcodePreview:z.optional(z.boolean()),coverArtFile:z.optional(ImageFile),onProgress:z.optional(z.function().args(z.number()))}).strict()},DeleteTrackSchema=z.object({userId:HashId,trackId:HashId}).strict(),FavoriteTrackSchema=z.object({userId:HashId,trackId:HashId,metadata:z.optional(z.object({isSaveOfRepost:z.boolean()}).strict())}).strict(),UnfavoriteTrackSchema=z.object({userId:HashId,trackId:HashId}).strict(),RepostTrackSchema=z.object({userId:HashId,trackId:HashId,metadata:z.optional(z.object({isRepostOfRepost:z.boolean()}).strict())}).strict(),UnrepostTrackSchema=z.object({userId:HashId,trackId:HashId}).strict(),CreatePlaylistMetadataSchema=z.object({description:z.optional(z.string().max(1e3)),playlistName:z.string(),isPrivate:z.optional(z.boolean())}).strict(),CreatePlaylistSchema=z.object({coverArtFile:z.optional(ImageFile),metadata:CreatePlaylistMetadataSchema,onProgress:z.optional(z.function().args(z.number())),trackIds:z.optional(z.array(HashId)),userId:HashId}).strict(),createUpdatePlaylistMetadataSchema=function(){return createUploadPlaylistMetadataSchema().partial().merge(z.object({isPrivate:z.optional(z.boolean()),playlistContents:z.optional(z.array(z.object({timestamp:z.number(),metadataTimestamp:z.optional(z.number()),trackId:HashId})))})).strict()},createUpdatePlaylistSchema=function(){return z.object({userId:HashId,playlistId:HashId,coverArtFile:z.optional(ImageFile),metadata:createUpdatePlaylistMetadataSchema(),onProgress:z.optional(z.function().args(z.number()))}).strict()},createUploadPlaylistMetadataSchema=function(){return z.object({description:z.optional(z.string().max(1e3)),genre:z.enum(Object.values(Genre)),license:z.optional(z.string()),mood:z.optional(z.enum(Object.values(Mood))),playlistName:z.string(),releaseDate:z.optional(z.date().max(new Date,{message:"should not be in the future"})),tags:z.optional(z.string()),upc:z.optional(z.string())}).strict()},createPlaylistTrackMetadataSchema=function(){return createUploadTrackMetadataSchema().partial({genre:!0,mood:!0,tags:!0})},createUploadPlaylistSchema=function(){return z.object({userId:HashId,coverArtFile:ImageFile,metadata:createUploadPlaylistMetadataSchema(),onProgress:z.optional(z.function().args(z.number())),trackMetadatas:z.array(createPlaylistTrackMetadataSchema()),trackFiles:z.array(AudioFile)}).strict()},PublishPlaylistSchema=z.object({userId:HashId,playlistId:HashId}).strict(),AddTrackToPlaylistSchema=z.object({userId:HashId,playlistId:HashId,trackId:HashId}).strict(),RemoveTrackFromPlaylistSchema=z.object({userId:HashId,playlistId:HashId,trackIndex:z.number()}).strict(),DeletePlaylistSchema=z.object({userId:HashId,playlistId:HashId}).strict(),FavoritePlaylistSchema=z.object({userId:HashId,playlistId:HashId,metadata:z.optional(z.object({isSaveOfRepost:z.boolean()}).strict())}).strict(),UnfavoritePlaylistSchema=z.object({userId:HashId,playlistId:HashId}).strict(),RepostPlaylistSchema=z.object({userId:HashId,playlistId:HashId,metadata:z.optional(z.object({isRepostOfRepost:z.boolean()}).strict())}).strict(),UnrepostPlaylistSchema=z.object({userId:HashId,playlistId:HashId}).strict(),retry$2={};function RetryOperation(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},RetryOperation.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,i=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r);return this._options.unref&&i.unref(),!0},RetryOperation.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=r&&(t=i,r=a)}return t},function(e){var t=retry_operation;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&r.forever,unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},e.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var o=0;o<n.length;o++){var a=n[o],s=t[a];t[a]=function(n){var i=e.operation(r),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){n.apply(t,o)}))}.bind(t,s),t[a].options=r}}}(retry$2);var retry$1=retry$2,retrier=retry$1;function retry(e,t){return new Promise((function(r,n){var i=t||{};"randomize"in i||(i.randomize=!0);var o=retrier.operation(i);function a(e){n(e||new Error("Aborted"))}function s(e,t){e.bail?a(e):o.retry(e)?i.onRetry&&i.onRetry(e,t):n(o.mainError())}o.attempt((function(t){var n;try{n=e(a,t)}catch(e){return void s(e,t)}Promise.resolve(n).then(r).catch((function(e){s(e,t)}))}))}))}var lib$4=retry,retry3=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:function(e){},e.next=3,lib$4(t,{minTimeout:500,maxTimeout:4e3,factor:3,retries:3,onRetry:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ownKeys$l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$l(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$q(e){var t=_isNativeReflectConstruct$q();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TrackUploadHelper=function(e){_inherits(n,e);var t,r=_createSuper$q(n);function n(){return _classCallCheck$1(this,n),r.apply(this,arguments)}return _createClass$1(n,[{key:"generateId",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({path:"/".concat(t,"s/unclaimed_id"),method:"GET",headers:{},query:{noCache:Math.floor(1e3*Math.random()).toString()}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(n=e.sent,i=n.data,null!==(o=decodeHashId(i))){e.next=10;break}throw new Error("Could not generate ".concat(t," id"));case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"transformTrackUploadMetadata",value:function(e,t){var r=_objectSpread$l(_objectSpread$l({},e),{},{ownerId:t}),n=r.isPremium,i=r.isUnlisted;return n&&r.fieldVisibility&&(r.fieldVisibility.remixes=!1),i||(r.fieldVisibility=_objectSpread$l(_objectSpread$l({},r.fieldVisibility),{},{genre:!0,mood:!0,tags:!0,share:!0,playCount:!0})),r}},{key:"populateTrackMetadataWithUploadResponse",value:function(e,t,r){var n;return _objectSpread$l(_objectSpread$l({},e),{},{trackSegments:[],trackCid:t.results[320],previewCid:e.previewStartSeconds?t.results["320_preview|".concat(e.previewStartSeconds)]:e.previewCid,audioUploadId:t.id,download:null!==(n=e.download)&&void 0!==n&&n.isDownloadable?_objectSpread$l(_objectSpread$l({},e.download),{},{cid:t.results[320]}):e.download,coverArtSizes:r.id,duration:parseInt(t.probe.format.duration,10)})}}]),n}(BaseAPI$1),lodash={exports:{}};function ownKeys$k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$k(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$p(e){var t=_isNativeReflectConstruct$p();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,u=64,c=128,l=256,f=1/0,h=9007199254740991,d=NaN,p=4294967295,y=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",u],["rearg",l]],m="[object Arguments]",v="[object Array]",g="[object Boolean]",b="[object Date]",w="[object Error]",_="[object Function]",$="[object GeneratorFunction]",x="[object Map]",S="[object Number]",k="[object Object]",A="[object Promise]",E="[object RegExp]",T="[object Set]",M="[object String]",I="[object Symbol]",R="[object WeakMap]",O="[object ArrayBuffer]",P="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",N="[object Int8Array]",L="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",D="[object Uint16Array]",z="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,J=RegExp(K.source),V=RegExp(Z.source),W=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(re.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,$e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['’]",Me="[\\ud800-\\udfff]",Ie="["+Ee+"]",Re="["+$e+"]",Oe="\\d+",Pe="[\\u2700-\\u27bf]",Ce="["+Se+"]",Be="[^\\ud800-\\udfff"+Ee+Oe+xe+Se+ke+"]",Ne="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+ke+"]",De="(?:"+Ce+"|"+Be+")",ze="(?:"+Ue+"|"+Be+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Re+"|"+Ne+")"+"?",Ke="[\\ufe0e\\ufe0f]?",Ze=Ke+qe+("(?:\\u200d(?:"+[Le,je,Fe].join("|")+")"+Ke+qe+")*"),Je="(?:"+[Pe,je,Fe].join("|")+")"+Ze,Ve="(?:"+[Le+Re+"?",Re,je,Fe,Me].join("|")+")",We=RegExp(Te,"g"),Ye=RegExp(Re,"g"),Xe=RegExp(Ne+"(?="+Ne+")|"+Ve+Ze,"g"),Qe=RegExp([Ue+"?"+Ce+"+"+He+"(?="+[Ie,Ue,"$"].join("|")+")",ze+"+"+Ge+"(?="+[Ie,Ue+De,"$"].join("|")+")",Ue+"?"+De+"+"+He,Ue+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Je].join("|"),"g"),et=RegExp("[\\u200d\\ud800-\\udfff"+$e+Ae+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,it={};it[C]=it[B]=it[N]=it[L]=it[j]=it[F]=it[U]=it[D]=it[z]=!0,it[m]=it[v]=it[O]=it[g]=it[P]=it[b]=it[w]=it[_]=it[x]=it[S]=it[k]=it[E]=it[T]=it[M]=it[R]=!1;var ot={};ot[m]=ot[v]=ot[O]=ot[P]=ot[g]=ot[b]=ot[C]=ot[B]=ot[N]=ot[L]=ot[j]=ot[x]=ot[S]=ot[k]=ot[E]=ot[T]=ot[M]=ot[I]=ot[F]=ot[U]=ot[D]=ot[z]=!0,ot[w]=ot[_]=ot[R]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,ct="object"==_typeof$2(commonjsGlobal$1)&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,lt="object"==("undefined"==typeof self?"undefined":_typeof$2(self))&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,yt=pt&&ct.process,mt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),vt=mt&&mt.isArrayBuffer,gt=mt&&mt.isDate,bt=mt&&mt.isMap,wt=mt&&mt.isRegExp,_t=mt&&mt.isSet,$t=mt&&mt.isTypedArray;function xt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function St(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function kt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function At(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Tt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Mt(e,t){return!!(null==e?0:e.length)&&Ft(e,t,0)>-1}function It(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Ot(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Pt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Ct(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Nt=Ht("length");function Lt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function jt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ft(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):jt(e,Dt,r)}function Ut(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Dt(e){return e!=e}function zt(e,t){var r=null==e?0:e.length;return r?Kt(e,t)/r:d}function Ht(e){return function(t){return null==t?r:t[e]}}function Gt(e){return function(t){return null==e?r:e[t]}}function qt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Kt(e,t){for(var n,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==r&&(n=n===r?a:n+a)}return n}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,hr(e)+1).replace(ie,""):e}function Vt(e){return function(t){return e(t)}}function Wt(e,t){return Rt(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Xt(e,t){for(var r=-1,n=e.length;++r<n&&Ft(t,e[r],0)>-1;);return r}function Qt(e,t){for(var r=e.length;r--&&Ft(t,e[r],0)>-1;);return r}function er(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var tr=Gt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rr=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nr(e){return"\\"+at[e]}function ir(e){return et.test(e)}function or(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ar(e,t){return function(r){return e(t(r))}}function sr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var s=e[r];s!==t&&s!==o||(e[r]=o,a[i++]=r)}return a}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function lr(e){return ir(e)?function(e){var t=Xe.lastIndex=0;for(;Xe.test(e);)++t;return t}(e):Nt(e)}function fr(e){return ir(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function hr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pr=function e(t){var oe,$e=(t=null==t?ft:pr.defaults(ft.Object(),t,pr.pick(ft,rt))).Array,xe=t.Date,Se=t.Error,ke=t.Function,Ae=t.Math,Ee=t.Object,Te=t.RegExp,Me=t.String,Ie=t.TypeError,Re=$e.prototype,Oe=ke.prototype,Pe=Ee.prototype,Ce=t["__core-js_shared__"],Be=Oe.toString,Ne=Pe.hasOwnProperty,Le=0,je=(oe=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",Fe=Pe.toString,Ue=Be.call(Ee),De=ft._,ze=Te("^"+Be.call(Ne).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=pt?t.Buffer:r,Ge=t.Symbol,qe=t.Uint8Array,Ke=He?He.allocUnsafe:r,Ze=ar(Ee.getPrototypeOf,Ee),Je=Ee.create,Ve=Pe.propertyIsEnumerable,Xe=Re.splice,et=Ge?Ge.isConcatSpreadable:r,at=Ge?Ge.iterator:r,ct=Ge?Ge.toStringTag:r,lt=function(){try{var e=po(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),ht=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,dt=xe&&xe.now!==ft.Date.now&&xe.now,yt=t.setTimeout!==ft.setTimeout&&t.setTimeout,mt=Ae.ceil,Nt=Ae.floor,Gt=Ee.getOwnPropertySymbols,yr=He?He.isBuffer:r,mr=t.isFinite,vr=Re.join,gr=ar(Ee.keys,Ee),br=Ae.max,wr=Ae.min,_r=xe.now,$r=t.parseInt,xr=Ae.random,Sr=Re.reverse,kr=po(t,"DataView"),Ar=po(t,"Map"),Er=po(t,"Promise"),Tr=po(t,"Set"),Mr=po(t,"WeakMap"),Ir=po(Ee,"create"),Rr=Mr&&new Mr,Or={},Pr=Do(kr),Cr=Do(Ar),Br=Do(Er),Nr=Do(Tr),Lr=Do(Mr),jr=Ge?Ge.prototype:r,Fr=jr?jr.valueOf:r,Ur=jr?jr.toString:r;function Dr(e){if(is(e)&&!Za(e)&&!(e instanceof qr)){if(e instanceof Gr)return e;if(Ne.call(e,"__wrapped__"))return zo(e)}return new Gr(e)}var zr=function(){function e(){}return function(t){if(!ns(t))return{};if(Je)return Je(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Hr(){}function Gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Jr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Jr;++t<r;)this.add(e[t])}function Wr(e){var t=this.__data__=new Zr(e);this.size=t.size}function Yr(e,t){var r=Za(e),n=!r&&Ka(e),i=!r&&!n&&Ya(e),o=!r&&!n&&!i&&hs(e),a=r||n||i||o,s=a?Zt(e.length,Me):[],u=s.length;for(var c in e)!t&&!Ne.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||s.push(c);return s}function Xr(e){var t=e.length;return t?e[Wn(0,t-1)]:r}function Qr(e,t){return jo(Ri(e),cn(t,0,e.length))}function en(e){return jo(Ri(e))}function tn(e,t,n){(n!==r&&!Ha(e[t],n)||n===r&&!(t in e))&&sn(e,t,n)}function rn(e,t,n){var i=e[t];Ne.call(e,t)&&Ha(i,n)&&(n!==r||t in e)||sn(e,t,n)}function nn(e,t){for(var r=e.length;r--;)if(Ha(e[r][0],t))return r;return-1}function on(e,t,r,n){return pn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function an(e,t){return e&&Oi(t,Cs(t),e)}function sn(e,t,r){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function un(e,t){for(var n=-1,i=t.length,o=$e(i),a=null==e;++n<i;)o[n]=a?r:Ms(e,t[n]);return o}function cn(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function ln(e,t,n,i,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,i,o,a):n(e)),s!==r)return s;if(!ns(e))return e;var f=Za(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Ri(e,s)}else{var h=vo(e),d=h==_||h==$;if(Ya(e))return ki(e,u);if(h==k||h==m||d&&!o){if(s=c||d?{}:bo(e),!u)return c?function(e,t){return Oi(e,mo(e),t)}(e,function(e,t){return e&&Oi(t,Bs(t),e)}(s,e)):function(e,t){return Oi(e,yo(e),t)}(e,an(s,e))}else{if(!ot[h])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case O:return Ai(e);case g:case b:return new n(+e);case P:return function(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case C:case B:case N:case L:case j:case F:case U:case D:case z:return Ei(e,r);case x:return new n;case S:case M:return new n(e);case E:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new n;case I:return function(e){return Fr?Ee(Fr.call(e)):{}}(e)}}(e,h,u)}}a||(a=new Wr);var p=a.get(e);if(p)return p;a.set(e,s),cs(e)?e.forEach((function(r){s.add(ln(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,i){s.set(i,ln(r,t,n,i,e,a))}));var y=f?r:(l?c?ao:oo:c?Bs:Cs)(e);return kt(y||e,(function(r,i){y&&(r=e[i=r]),rn(s,i,ln(r,t,n,i,e,a))})),s}function fn(e,t,n){var i=n.length;if(null==e)return!i;for(e=Ee(e);i--;){var o=n[i],a=t[o],s=e[o];if(s===r&&!(o in e)||!a(s))return!1}return!0}function hn(e,t,i){if("function"!=typeof e)throw new Ie(n);return Co((function(){e.apply(r,i)}),t)}function dn(e,t,r,n){var i=-1,o=Mt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=Rt(t,Vt(r))),n?(o=It,a=!1):t.length>=200&&(o=Yt,a=!1,t=new Vr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,n)||u.push(l)}return u}Dr.templateSettings={escape:W,evaluate:Y,interpolate:X,variable:"",imports:{_:Dr}},Dr.prototype=Hr.prototype,Dr.prototype.constructor=Dr,Gr.prototype=zr(Hr.prototype),Gr.prototype.constructor=Gr,qr.prototype=zr(Hr.prototype),qr.prototype.constructor=qr,Kr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Kr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kr.prototype.get=function(e){var t=this.__data__;if(Ir){var n=t[e];return n===i?r:n}return Ne.call(t,e)?t[e]:r},Kr.prototype.has=function(e){var t=this.__data__;return Ir?t[e]!==r:Ne.call(t,e)},Kr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ir&&t===r?i:t,this},Zr.prototype.clear=function(){this.__data__=[],this.size=0},Zr.prototype.delete=function(e){var t=this.__data__,r=nn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Xe.call(t,r,1),--this.size,!0)},Zr.prototype.get=function(e){var t=this.__data__,n=nn(t,e);return n<0?r:t[n][1]},Zr.prototype.has=function(e){return nn(this.__data__,e)>-1},Zr.prototype.set=function(e,t){var r=this.__data__,n=nn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Jr.prototype.clear=function(){this.size=0,this.__data__={hash:new Kr,map:new(Ar||Zr),string:new Kr}},Jr.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Jr.prototype.get=function(e){return fo(this,e).get(e)},Jr.prototype.has=function(e){return fo(this,e).has(e)},Jr.prototype.set=function(e,t){var r=fo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Vr.prototype.add=Vr.prototype.push=function(e){return this.__data__.set(e,i),this},Vr.prototype.has=function(e){return this.__data__.has(e)},Wr.prototype.clear=function(){this.__data__=new Zr,this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Wr.prototype.get=function(e){return this.__data__.get(e)},Wr.prototype.has=function(e){return this.__data__.has(e)},Wr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Zr){var n=r.__data__;if(!Ar||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jr(n)}return r.set(e,t),this.size=r.size,this};var pn=Bi($n),yn=Bi(xn,!0);function mn(e,t){var r=!0;return pn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function vn(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(u===r?s==s&&!fs(s):n(s,u)))var u=s,c=a}return c}function gn(e,t){var r=[];return pn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function bn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=wo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?bn(s,t-1,r,n,i):Ot(i,s):n||(i[i.length]=s)}return i}var wn=Ni(),_n=Ni(!0);function $n(e,t){return e&&wn(e,t,Cs)}function xn(e,t){return e&&_n(e,t,Cs)}function Sn(e,t){return Tt(t,(function(t){return es(e[t])}))}function kn(e,t){for(var n=0,i=(t=_i(t,e)).length;null!=e&&n<i;)e=e[Uo(t[n++])];return n&&n==i?e:r}function An(e,t,r){var n=t(e);return Za(e)?n:Ot(n,r(e))}function En(e){return null==e?e===r?"[object Undefined]":"[object Null]":ct&&ct in Ee(e)?function(e){var t=Ne.call(e,ct),n=e[ct];try{e[ct]=r;var i=!0}catch(e){}var o=Fe.call(e);i&&(t?e[ct]=n:delete e[ct]);return o}(e):function(e){return Fe.call(e)}(e)}function Tn(e,t){return e>t}function Mn(e,t){return null!=e&&Ne.call(e,t)}function In(e,t){return null!=e&&t in Ee(e)}function Rn(e,t,n){for(var i=n?It:Mt,o=e[0].length,a=e.length,s=a,u=$e(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=Rt(f,Vt(t))),c=wr(f.length,c),u[s]=!n&&(t||o>=120&&f.length>=120)?new Vr(s&&f):r}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&l.length<c;){var p=f[h],y=t?t(p):p;if(p=n||0!==p?p:0,!(d?Yt(d,y):i(l,y,n))){for(s=a;--s;){var m=u[s];if(!(m?Yt(m,y):i(e[s],y,n)))continue e}d&&d.push(y),l.push(p)}}return l}function On(e,t,n){var i=null==(e=Io(e,t=_i(t,e)))?e:e[Uo(Qo(t))];return null==i?r:xt(i,e,n)}function Pn(e){return is(e)&&En(e)==m}function Cn(e,t,n,i,o){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,i,o,a){var s=Za(e),u=Za(t),c=s?v:vo(e),l=u?v:vo(t),f=(c=c==m?k:c)==k,h=(l=l==m?k:l)==k,d=c==l;if(d&&Ya(e)){if(!Ya(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Wr),s||hs(e)?no(e,t,n,i,o,a):function(e,t,r,n,i,o,a){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case g:case b:case S:return Ha(+e,+t);case w:return e.name==t.name&&e.message==t.message;case E:case M:return e==t+"";case x:var s=or;case T:var u=1&n;if(s||(s=ur),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var l=no(s(e),s(t),n,i,o,a);return a.delete(e),l;case I:if(Fr)return Fr.call(e)==Fr.call(t)}return!1}(e,t,c,n,i,o,a);if(!(1&n)){var p=f&&Ne.call(e,"__wrapped__"),y=h&&Ne.call(t,"__wrapped__");if(p||y){var _=p?e.value():e,$=y?t.value():t;return a||(a=new Wr),o(_,$,n,i,a)}}if(!d)return!1;return a||(a=new Wr),function(e,t,n,i,o,a){var s=1&n,u=oo(e),c=u.length,l=oo(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:Ne.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var y=!0;a.set(e,t),a.set(t,e);var m=s;for(;++f<c;){var v=e[h=u[f]],g=t[h];if(i)var b=s?i(g,v,h,t,e,a):i(v,g,h,e,t,a);if(!(b===r?v===g||o(v,g,n,i,a):b)){y=!1;break}m||(m="constructor"==h)}if(y&&!m){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(y=!1)}return a.delete(e),a.delete(t),y}(e,t,n,i,o,a)}(e,t,n,i,Cn,o))}function Bn(e,t,n,i){var o=n.length,a=o,s=!i;if(null==e)return!a;for(e=Ee(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var h=new Wr;if(i)var d=i(l,f,c,e,t,h);if(!(d===r?Cn(f,l,3,i,h):d))return!1}}return!0}function Nn(e){return!(!ns(e)||(t=e,je&&je in t))&&(es(e)?ze:me).test(Do(e));var t}function Ln(e){return"function"==typeof e?e:null==e?au:"object"==_typeof$2(e)?Za(e)?Hn(e[0],e[1]):zn(e):yu(e)}function jn(e){if(!Ao(e))return gr(e);var t=[];for(var r in Ee(e))Ne.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Fn(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var r in Ee(e))t.push(r);return t}(e);var t=Ao(e),r=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&r.push(n);return r}function Un(e,t){return e<t}function Dn(e,t){var r=-1,n=Va(e)?$e(e.length):[];return pn(e,(function(e,i,o){n[++r]=t(e,i,o)})),n}function zn(e){var t=ho(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(r){return r===e||Bn(r,e,t)}}function Hn(e,t){return xo(e)&&Eo(t)?To(Uo(e),t):function(n){var i=Ms(n,e);return i===r&&i===t?Is(n,e):Cn(t,i,3)}}function Gn(e,t,n,i,o){e!==t&&wn(t,(function(a,s){if(o||(o=new Wr),ns(a))!function(e,t,n,i,o,a,s){var u=Oo(e,n),c=Oo(t,n),l=s.get(c);if(l)return void tn(e,n,l);var f=a?a(u,c,n+"",e,t,s):r,h=f===r;if(h){var d=Za(c),p=!d&&Ya(c),y=!d&&!p&&hs(c);f=c,d||p||y?Za(u)?f=u:Wa(u)?f=Ri(u):p?(h=!1,f=ki(c,!0)):y?(h=!1,f=Ei(c,!0)):f=[]:ss(c)||Ka(c)?(f=u,Ka(u)?f=ws(u):ns(u)&&!es(u)||(f=bo(c))):h=!1}h&&(s.set(c,f),o(f,c,i,a,s),s.delete(c));tn(e,n,f)}(e,t,s,n,Gn,i,o);else{var u=i?i(Oo(e,s),a,s+"",e,t,o):r;u===r&&(u=a),tn(e,s,u)}}),Bs)}function qn(e,t){var n=e.length;if(n)return _o(t+=t<0?n:0,n)?e[t]:r}function Kn(e,t,r){t=t.length?Rt(t,(function(e){return Za(e)?function(t){return kn(t,1===e.length?e[0]:e)}:e})):[au];var n=-1;t=Rt(t,Vt(lo()));var i=Dn(e,(function(e,r,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var u=Ti(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Zn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=kn(e,a);r(s,a)&&ti(o,_i(a,e),s)}return o}function Jn(e,t,r,n){var i=n?Ut:Ft,o=-1,a=t.length,s=e;for(e===t&&(t=Ri(t)),r&&(s=Rt(e,Vt(r)));++o<a;)for(var u=0,c=t[o],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Vn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;_o(i)?Xe.call(e,i,1):di(e,i)}}return e}function Wn(e,t){return e+Nt(xr()*(t-e+1))}function Yn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=Nt(t/2))&&(e+=e)}while(t);return r}function Xn(e,t){return Bo(Mo(e,t,au),e+"")}function Qn(e){return Xr(Hs(e))}function ei(e,t){var r=Hs(e);return jo(r,cn(t,0,r.length))}function ti(e,t,n,i){if(!ns(e))return e;for(var o=-1,a=(t=_i(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Uo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=i?i(f,c,u):r)===r&&(l=ns(f)?f:_o(t[o+1])?[]:{})}rn(u,c,l),u=u[c]}return e}var ri=Rr?function(e,t){return Rr.set(e,t),e}:au,ni=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:au;function ii(e){return jo(Hs(e))}function oi(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=$e(i);++n<i;)o[n]=e[n+t];return o}function ai(e,t){var r;return pn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function si(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!fs(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return ui(e,t,au,r)}function ui(e,t,n,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=fs(t),l=t===r;o<a;){var f=Nt((o+a)/2),h=n(e[f]),d=h!==r,p=null===h,y=h==h,m=fs(h);if(s)var v=i||y;else v=l?y&&(i||d):u?y&&d&&(i||!p):c?y&&d&&!p&&(i||!m):!p&&!m&&(i?h<=t:h<t);v?o=f+1:a=f}return wr(a,4294967294)}function ci(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ha(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:fs(e)?d:+e}function fi(e){if("string"==typeof e)return e;if(Za(e))return Rt(e,fi)+"";if(fs(e))return Ur?Ur.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,r){var n=-1,i=Mt,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=It;else if(o>=200){var c=t?null:Yi(e);if(c)return ur(c);a=!1,i=Yt,u=new Vr}else u=t?[]:s;e:for(;++n<o;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function di(e,t){return null==(e=Io(e,t=_i(t,e)))||delete e[Uo(Qo(t))]}function pi(e,t,r,n){return ti(e,t,r(kn(e,t)),n)}function yi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?oi(e,n?0:o,n?o+1:i):oi(e,n?o+1:0,n?i:o)}function mi(e,t){var r=e;return r instanceof qr&&(r=r.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),r)}function vi(e,t,r){var n=e.length;if(n<2)return n?hi(e[0]):[];for(var i=-1,o=$e(n);++i<n;)for(var a=e[i],s=-1;++s<n;)s!=i&&(o[i]=dn(o[i]||a,e[s],t,r));return hi(bn(o,1),t,r)}function gi(e,t,n){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var u=i<a?t[i]:r;n(s,e[i],u)}return s}function bi(e){return Wa(e)?e:[]}function wi(e){return"function"==typeof e?e:au}function _i(e,t){return Za(e)?e:xo(e,t)?[e]:Fo(_s(e))}var $i=Xn;function xi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:oi(e,t,n)}var Si=ht||function(e){return ft.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var r=e.length,n=Ke?Ke(r):new e.constructor(r);return e.copy(n),n}function Ai(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ei(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==r,i=null===e,o=e==e,a=fs(e),s=t!==r,u=null===t,c=t==t,l=fs(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Mi(e,t,r,n){for(var i=-1,o=e.length,a=r.length,s=-1,u=t.length,c=br(o-a,0),l=$e(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Ii(e,t,r,n){for(var i=-1,o=e.length,a=-1,s=r.length,u=-1,c=t.length,l=br(o-s,0),f=$e(l+c),h=!n;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+r[a]]=e[i++]);return f}function Ri(e,t){var r=-1,n=e.length;for(t||(t=$e(n));++r<n;)t[r]=e[r];return t}function Oi(e,t,n,i){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),o?sn(n,u,c):rn(n,u,c)}return n}function Pi(e,t){return function(r,n){var i=Za(r)?St:on,o=t?t():{};return i(r,e,lo(n,2),o)}}function Ci(e){return Xn((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(o--,a):r,s&&$o(n[0],n[1],s)&&(a=o<3?r:a,o=1),t=Ee(t);++i<o;){var u=n[i];u&&e(t,u,i,a)}return t}))}function Bi(e,t){return function(r,n){if(null==r)return r;if(!Va(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Ee(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ni(e){return function(t,r,n){for(var i=-1,o=Ee(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function Li(e){return function(t){var n=ir(t=_s(t))?fr(t):r,i=n?n[0]:t.charAt(0),o=n?xi(n,1).join(""):t.slice(1);return i[e]()+o}}function ji(e){return function(t){return Pt(eu(Ks(t).replace(We,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=zr(e.prototype),n=e.apply(r,t);return ns(n)?n:r}}function Ui(e){return function(t,n,i){var o=Ee(t);if(!Va(t)){var a=lo(n,3);t=Cs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,i);return s>-1?o[a?t[s]:s]:r}}function Di(e){return io((function(t){var i=t.length,o=i,a=Gr.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new Ie(n);if(a&&!u&&"wrapper"==uo(s))var u=new Gr([],!0)}for(o=u?o:i;++o<i;){var c=uo(s=t[o]),l="wrapper"==c?so(s):r;u=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[uo(l[0])].apply(u,l[3]):1==s.length&&So(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Za(r))return u.plant(r).value();for(var n=0,o=i?t[n].apply(this,e):r;++n<i;)o=t[n].call(this,o);return o}}))}function zi(e,t,n,i,o,a,s,u,l,f){var h=t&c,d=1&t,p=2&t,y=24&t,m=512&t,v=p?r:Fi(e);return function r(){for(var c=arguments.length,g=$e(c),b=c;b--;)g[b]=arguments[b];if(y)var w=co(r),_=er(g,w);if(i&&(g=Mi(g,i,o,y)),a&&(g=Ii(g,a,s,y)),c-=_,y&&c<f){var $=sr(g,w);return Vi(e,t,zi,r.placeholder,n,g,$,u,l,f-c)}var x=d?n:this,S=p?x[e]:e;return c=g.length,u?g=Ro(g,u):m&&c>1&&g.reverse(),h&&l<c&&(g.length=l),this&&this!==ft&&this instanceof r&&(S=v||Fi(S)),S.apply(x,g)}}function Hi(e,t){return function(r,n){return function(e,t,r,n){return $n(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Gi(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=fi(n),i=fi(i)):(n=li(n),i=li(i)),o=e(n,i)}return o}}function qi(e){return io((function(t){return t=Rt(t,Vt(lo())),Xn((function(r){var n=this;return e(t,(function(e){return xt(e,n,r)}))}))}))}function Ki(e,t){var n=(t=t===r?" ":fi(t)).length;if(n<2)return n?Yn(t,e):t;var i=Yn(t,mt(e/lr(t)));return ir(t)?xi(fr(i),0,e).join(""):i.slice(0,e)}function Zi(e){return function(t,n,i){return i&&"number"!=typeof i&&$o(t,n,i)&&(n=i=r),t=ms(t),n===r?(n=t,t=0):n=ms(n),function(e,t,r,n){for(var i=-1,o=br(mt((t-e)/(r||1)),0),a=$e(o);o--;)a[n?o:++i]=e,e+=r;return a}(t,n,i=i===r?t<n?1:-1:ms(i),e)}}function Ji(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=bs(t),r=bs(r)),e(t,r)}}function Vi(e,t,n,i,o,a,c,l,f,h){var d=8&t;t|=d?s:u,4&(t&=~(d?u:s))||(t&=-4);var p=[e,t,o,d?a:r,d?c:r,d?r:a,d?r:c,l,f,h],y=n.apply(r,p);return So(e)&&Po(y,p),y.placeholder=i,No(y,e,t)}function Wi(e){var t=Ae[e];return function(e,r){if(e=bs(e),(r=null==r?0:wr(vs(r),292))&&mr(e)){var n=(_s(e)+"e").split("e");return+((n=(_s(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yi=Tr&&1/ur(new Tr([,-0]))[1]==f?function(e){return new Tr(e)}:fu;function Xi(e){return function(t){var r=vo(t);return r==x?or(t):r==T?cr(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,i,f,h,d,p,y){var m=2&t;if(!m&&"function"!=typeof e)throw new Ie(n);var v=f?f.length:0;if(v||(t&=-97,f=h=r),p=p===r?p:br(vs(p),0),y=y===r?y:vs(y),v-=h?h.length:0,t&u){var g=f,b=h;f=h=r}var w=m?r:so(e),_=[e,t,i,f,h,g,b,d,p,y];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,s=n==c&&8==r||n==c&&r==l&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?Mi(f,u,t[4]):u,e[4]=f?sr(e[3],o):t[4]}(u=t[5])&&(f=e[5],e[5]=f?Ii(f,u,t[6]):u,e[6]=f?sr(e[5],o):t[6]);(u=t[7])&&(e[7]=u);n&c&&(e[8]=null==e[8]?t[8]:wr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],i=_[2],f=_[3],h=_[4],!(y=_[9]=_[9]===r?m?0:e.length:br(_[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)$=8==t||t==a?function(e,t,n){var i=Fi(e);return function o(){for(var a=arguments.length,s=$e(a),u=a,c=co(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:sr(s,c);return(a-=l.length)<n?Vi(e,t,zi,o.placeholder,r,s,l,r,r,n-a):xt(this&&this!==ft&&this instanceof o?i:e,this,s)}}(e,t,y):t!=s&&33!=t||h.length?zi.apply(r,_):function(e,t,r,n){var i=1&t,o=Fi(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=n.length,l=$e(c+s),f=this&&this!==ft&&this instanceof t?o:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++a];return xt(f,i?r:this,l)}}(e,t,i,f);else var $=function(e,t,r){var n=1&t,i=Fi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return No((w?ri:Po)($,_),e,t)}function eo(e,t,n,i){return e===r||Ha(e,Pe[n])&&!Ne.call(i,n)?t:e}function to(e,t,n,i,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Gn(e,t,r,to,a),a.delete(t)),e}function ro(e){return ss(e)?r:e}function no(e,t,n,i,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Vr:r;for(a.set(e,t),a.set(t,e);++h<u;){var y=e[h],m=t[h];if(i)var v=s?i(m,y,h,t,e,a):i(y,m,h,e,t,a);if(v!==r){if(v)continue;d=!1;break}if(p){if(!Bt(t,(function(e,t){if(!Yt(p,t)&&(y===e||o(y,e,n,i,a)))return p.push(t)}))){d=!1;break}}else if(y!==m&&!o(y,m,n,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function io(e){return Bo(Mo(e,r,Jo),e+"")}function oo(e){return An(e,Cs,yo)}function ao(e){return An(e,Bs,mo)}var so=Rr?function(e){return Rr.get(e)}:fu;function uo(e){for(var t=e.name+"",r=Or[t],n=Ne.call(Or,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function co(e){return(Ne.call(Dr,"placeholder")?Dr:e).placeholder}function lo(){var e=Dr.iteratee||su;return e=e===su?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var r=e.__data__;return function(e){var t=_typeof$2(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ho(e){for(var t=Cs(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Eo(i)]}return t}function po(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Nn(n)?n:r}var yo=Gt?function(e){return null==e?[]:(e=Ee(e),Tt(Gt(e),(function(t){return Ve.call(e,t)})))}:gu,mo=Gt?function(e){for(var t=[];e;)Ot(t,yo(e)),e=Ze(e);return t}:gu,vo=En;function go(e,t,r){for(var n=-1,i=(t=_i(t,e)).length,o=!1;++n<i;){var a=Uo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&rs(i)&&_o(a,i)&&(Za(e)||Ka(e))}function bo(e){return"function"!=typeof e.constructor||Ao(e)?{}:zr(Ze(e))}function wo(e){return Za(e)||Ka(e)||!!(et&&e&&e[et])}function _o(e,t){var r=_typeof$2(e);return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&ge.test(e))&&e>-1&&e%1==0&&e<t}function $o(e,t,r){if(!ns(r))return!1;var n=_typeof$2(t);return!!("number"==n?Va(r)&&_o(t,r.length):"string"==n&&t in r)&&Ha(r[t],e)}function xo(e,t){if(Za(e))return!1;var r=_typeof$2(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!fs(e))||(ee.test(e)||!Q.test(e)||null!=t&&e in Ee(t))}function So(e){var t=uo(e),r=Dr[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=so(r);return!!n&&e===n[0]}(kr&&vo(new kr(new ArrayBuffer(1)))!=P||Ar&&vo(new Ar)!=x||Er&&vo(Er.resolve())!=A||Tr&&vo(new Tr)!=T||Mr&&vo(new Mr)!=R)&&(vo=function(e){var t=En(e),n=t==k?e.constructor:r,i=n?Do(n):"";if(i)switch(i){case Pr:return P;case Cr:return x;case Br:return A;case Nr:return T;case Lr:return R}return t});var ko=Ce?es:bu;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Eo(e){return e==e&&!ns(e)}function To(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Ee(n)))}}function Mo(e,t,n){return t=br(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=br(r.length-t,0),a=$e(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=$e(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),xt(e,this,s)}}function Io(e,t){return t.length<2?e:kn(e,oi(t,0,-1))}function Ro(e,t){for(var n=e.length,i=wr(t.length,n),o=Ri(e);i--;){var a=t[i];e[i]=_o(a,n)?o[a]:r}return e}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Lo(ri),Co=yt||function(e,t){return ft.setTimeout(e,t)},Bo=Lo(ni);function No(e,t,r){var n=t+"";return Bo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return kt(y,(function(r){var n="_."+r[0];t&r[1]&&!Mt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(n),r)))}function Lo(e){var t=0,n=0;return function(){var i=_r(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function jo(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var a=Wn(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=La(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,r,n,i){t.push(n?i.replace(fe,"$1"):r||e)})),t}));function Uo(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return Be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zo(e){if(e instanceof qr)return e.clone();var t=new Gr(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ho=Xn((function(e,t){return Wa(e)?dn(e,bn(t,1,Wa,!0)):[]})),Go=Xn((function(e,t){var n=Qo(t);return Wa(n)&&(n=r),Wa(e)?dn(e,bn(t,1,Wa,!0),lo(n,2)):[]})),qo=Xn((function(e,t){var n=Qo(t);return Wa(n)&&(n=r),Wa(e)?dn(e,bn(t,1,Wa,!0),r,n):[]}));function Ko(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=br(n+i,0)),jt(e,lo(t,3),i)}function Zo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=vs(n),o=n<0?br(i+o,0):wr(o,i-1)),jt(e,lo(t,3),o,!0)}function Jo(e){return(null==e?0:e.length)?bn(e,1):[]}function Vo(e){return e&&e.length?e[0]:r}var Wo=Xn((function(e){var t=Rt(e,bi);return t.length&&t[0]===e[0]?Rn(t):[]})),Yo=Xn((function(e){var t=Qo(e),n=Rt(e,bi);return t===Qo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Rn(n,lo(t,2)):[]})),Xo=Xn((function(e){var t=Qo(e),n=Rt(e,bi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Rn(n,r,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var ea=Xn(ta);function ta(e,t){return e&&e.length&&t&&t.length?Jn(e,t):e}var ra=io((function(e,t){var r=null==e?0:e.length,n=un(e,t);return Vn(e,Rt(t,(function(e){return _o(e,r)?+e:e})).sort(Ti)),n}));function na(e){return null==e?e:Sr.call(e)}var ia=Xn((function(e){return hi(bn(e,1,Wa,!0))})),oa=Xn((function(e){var t=Qo(e);return Wa(t)&&(t=r),hi(bn(e,1,Wa,!0),lo(t,2))})),aa=Xn((function(e){var t=Qo(e);return t="function"==typeof t?t:r,hi(bn(e,1,Wa,!0),r,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Wa(e))return t=br(e.length,t),!0})),Zt(t,(function(t){return Rt(e,Ht(t))}))}function ua(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Rt(n,(function(e){return xt(t,r,e)}))}var ca=Xn((function(e,t){return Wa(e)?dn(e,t):[]})),la=Xn((function(e){return vi(Tt(e,Wa))})),fa=Xn((function(e){var t=Qo(e);return Wa(t)&&(t=r),vi(Tt(e,Wa),lo(t,2))})),ha=Xn((function(e){var t=Qo(e);return t="function"==typeof t?t:r,vi(Tt(e,Wa),r,t)})),da=Xn(sa);var pa=Xn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ua(e,n)}));function ya(e){var t=Dr(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var va=io((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return un(t,e)};return!(t>1||this.__actions__.length)&&i instanceof qr&&_o(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[o],thisArg:r}),new Gr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)}));var ga=Pi((function(e,t,r){Ne.call(e,r)?++e[r]:sn(e,r,1)}));var ba=Ui(Ko),wa=Ui(Zo);function _a(e,t){return(Za(e)?kt:pn)(e,lo(t,3))}function $a(e,t){return(Za(e)?At:yn)(e,lo(t,3))}var xa=Pi((function(e,t,r){Ne.call(e,r)?e[r].push(t):sn(e,r,[t])}));var Sa=Xn((function(e,t,r){var n=-1,i="function"==typeof t,o=Va(e)?$e(e.length):[];return pn(e,(function(e){o[++n]=i?xt(t,e,r):On(e,t,r)})),o})),ka=Pi((function(e,t,r){sn(e,r,t)}));function Aa(e,t){return(Za(e)?Rt:Dn)(e,lo(t,3))}var Ea=Pi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ta=Xn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&$o(e,t[0],t[1])?t=[]:r>2&&$o(t[0],t[1],t[2])&&(t=[t[0]]),Kn(e,bn(t,1),[])})),Ma=dt||function(){return ft.Date.now()};function Ia(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Qi(e,c,r,r,r,r,t)}function Ra(e,t){var i;if("function"!=typeof t)throw new Ie(n);return e=vs(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Oa=Xn((function(e,t,r){var n=1;if(r.length){var i=sr(r,co(Oa));n|=s}return Qi(e,n,t,r,i)})),Pa=Xn((function(e,t,r){var n=3;if(r.length){var i=sr(r,co(Pa));n|=s}return Qi(t,n,e,r,i)}));function Ca(e,t,i){var o,a,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ie(n);function y(t){var n=o,i=a;return o=a=r,f=t,u=e.apply(i,n)}function m(e){return f=e,c=Co(g,t),h?y(e):u}function v(e){var n=e-l;return l===r||n>=t||n<0||d&&e-f>=s}function g(){var e=Ma();if(v(e))return b(e);c=Co(g,function(e){var r=t-(e-l);return d?wr(r,s-(e-f)):r}(e))}function b(e){return c=r,p&&o?y(e):(o=a=r,u)}function w(){var e=Ma(),n=v(e);if(o=arguments,a=this,l=e,n){if(c===r)return m(l);if(d)return Si(c),c=Co(g,t),y(l)}return c===r&&(c=Co(g,t)),u}return t=bs(t)||0,ns(i)&&(h=!!i.leading,s=(d="maxWait"in i)?br(bs(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),w.cancel=function(){c!==r&&Si(c),f=0,o=l=a=c=r},w.flush=function(){return c===r?u:b(Ma())},w}var Ba=Xn((function(e,t){return hn(e,1,t)})),Na=Xn((function(e,t,r){return hn(e,bs(t)||0,r)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(n);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(La.Cache||Jr),r}function ja(e){if("function"!=typeof e)throw new Ie(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Jr;var Fa=$i((function(e,t){var r=(t=1==t.length&&Za(t[0])?Rt(t[0],Vt(lo())):Rt(bn(t,1),Vt(lo()))).length;return Xn((function(n){for(var i=-1,o=wr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return xt(e,this,n)}))})),Ua=Xn((function(e,t){var n=sr(t,co(Ua));return Qi(e,s,r,t,n)})),Da=Xn((function(e,t){var n=sr(t,co(Da));return Qi(e,u,r,t,n)})),za=io((function(e,t){return Qi(e,l,r,r,r,t)}));function Ha(e,t){return e===t||e!=e&&t!=t}var Ga=Ji(Tn),qa=Ji((function(e,t){return e>=t})),Ka=Pn(function(){return arguments}())?Pn:function(e){return is(e)&&Ne.call(e,"callee")&&!Ve.call(e,"callee")},Za=$e.isArray,Ja=vt?Vt(vt):function(e){return is(e)&&En(e)==O};function Va(e){return null!=e&&rs(e.length)&&!es(e)}function Wa(e){return is(e)&&Va(e)}var Ya=yr||bu,Xa=gt?Vt(gt):function(e){return is(e)&&En(e)==b};function Qa(e){if(!is(e))return!1;var t=En(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!ns(e))return!1;var t=En(e);return t==_||t==$||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function rs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ns(e){var t=_typeof$2(e);return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==_typeof$2(e)}var os=bt?Vt(bt):function(e){return is(e)&&vo(e)==x};function as(e){return"number"==typeof e||is(e)&&En(e)==S}function ss(e){if(!is(e)||En(e)!=k)return!1;var t=Ze(e);if(null===t)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Be.call(r)==Ue}var us=wt?Vt(wt):function(e){return is(e)&&En(e)==E};var cs=_t?Vt(_t):function(e){return is(e)&&vo(e)==T};function ls(e){return"string"==typeof e||!Za(e)&&is(e)&&En(e)==M}function fs(e){return"symbol"==_typeof$2(e)||is(e)&&En(e)==I}var hs=$t?Vt($t):function(e){return is(e)&&rs(e.length)&&!!it[En(e)]};var ds=Ji(Un),ps=Ji((function(e,t){return e<=t}));function ys(e){if(!e)return[];if(Va(e))return ls(e)?fr(e):Ri(e);if(at&&e[at])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[at]());var t=vo(e);return(t==x?or:t==T?ur:Hs)(e)}function ms(e){return e?(e=bs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=ms(e),r=t%1;return t==t?r?t-r:t:0}function gs(e){return e?cn(vs(e),0,p):0}function bs(e){if("number"==typeof e)return e;if(fs(e))return d;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=ye.test(e);return r||ve.test(e)?ut(e.slice(2),r?2:8):pe.test(e)?d:+e}function ws(e){return Oi(e,Bs(e))}function _s(e){return null==e?"":fi(e)}var $s=Ci((function(e,t){if(Ao(t)||Va(t))Oi(t,Cs(t),e);else for(var r in t)Ne.call(t,r)&&rn(e,r,t[r])})),xs=Ci((function(e,t){Oi(t,Bs(t),e)})),Ss=Ci((function(e,t,r,n){Oi(t,Bs(t),e,n)})),ks=Ci((function(e,t,r,n){Oi(t,Cs(t),e,n)})),As=io(un);var Es=Xn((function(e,t){e=Ee(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&$o(t[0],t[1],o)&&(i=1);++n<i;)for(var a=t[n],s=Bs(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===r||Ha(f,Pe[l])&&!Ne.call(e,l))&&(e[l]=a[l])}return e})),Ts=Xn((function(e){return e.push(r,to),xt(Ls,r,e)}));function Ms(e,t,n){var i=null==e?r:kn(e,t);return i===r?n:i}function Is(e,t){return null!=e&&go(e,t,In)}var Rs=Hi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),nu(au)),Os=Hi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]}),lo),Ps=Xn(On);function Cs(e){return Va(e)?Yr(e):jn(e)}function Bs(e){return Va(e)?Yr(e,!0):Fn(e)}var Ns=Ci((function(e,t,r){Gn(e,t,r)})),Ls=Ci((function(e,t,r,n){Gn(e,t,r,n)})),js=io((function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,(function(t){return t=_i(t,e),n||(n=t.length>1),t})),Oi(e,ao(e),r),n&&(r=ln(r,7,ro));for(var i=t.length;i--;)di(r,t[i]);return r}));var Fs=io((function(e,t){return null==e?{}:function(e,t){return Zn(e,t,(function(t,r){return Is(e,r)}))}(e,t)}));function Us(e,t){if(null==e)return{};var r=Rt(ao(e),(function(e){return[e]}));return t=lo(t),Zn(e,r,(function(e,r){return t(e,r[0])}))}var Ds=Xi(Cs),zs=Xi(Bs);function Hs(e){return null==e?[]:Wt(e,Cs(e))}var Gs=ji((function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)}));function qs(e){return Qs(_s(e).toLowerCase())}function Ks(e){return(e=_s(e))&&e.replace(be,tr).replace(Ye,"")}var Zs=ji((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Js=ji((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Vs=Li("toLowerCase");var Ws=ji((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ys=ji((function(e,t,r){return e+(r?" ":"")+Qs(t)}));var Xs=ji((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qs=Li("toUpperCase");function eu(e,t,n){return e=_s(e),(t=n?r:t)===r?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var tu=Xn((function(e,t){try{return xt(e,r,t)}catch(e){return Qa(e)?e:new Se(e)}})),ru=io((function(e,t){return kt(t,(function(t){t=Uo(t),sn(e,t,Oa(e[t],e))})),e}));function nu(e){return function(){return e}}var iu=Di(),ou=Di(!0);function au(e){return e}function su(e){return Ln("function"==typeof e?e:ln(e,1))}var uu=Xn((function(e,t){return function(r){return On(r,e,t)}})),cu=Xn((function(e,t){return function(r){return On(e,r,t)}}));function lu(e,t,r){var n=Cs(t),i=Sn(t,n);null!=r||ns(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Sn(t,Cs(t)));var o=!(ns(r)&&"chain"in r&&!r.chain),a=es(e);return kt(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=Ri(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Ot([this.value()],arguments))})})),e}function fu(){}var hu=qi(Rt),du=qi(Et),pu=qi(Bt);function yu(e){return xo(e)?Ht(Uo(e)):function(e){return function(t){return kn(t,e)}}(e)}var mu=Zi(),vu=Zi(!0);function gu(){return[]}function bu(){return!1}var wu=Gi((function(e,t){return e+t}),0),_u=Wi("ceil"),$u=Gi((function(e,t){return e/t}),1),xu=Wi("floor");var Su,ku=Gi((function(e,t){return e*t}),1),Au=Wi("round"),Eu=Gi((function(e,t){return e-t}),0);return Dr.after=function(e,t){if("function"!=typeof t)throw new Ie(n);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Dr.ary=Ia,Dr.assign=$s,Dr.assignIn=xs,Dr.assignInWith=Ss,Dr.assignWith=ks,Dr.at=As,Dr.before=Ra,Dr.bind=Oa,Dr.bindAll=ru,Dr.bindKey=Pa,Dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Za(e)?e:[e]},Dr.chain=ya,Dr.chunk=function(e,t,n){t=(n?$o(e,t,n):t===r)?1:br(vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=$e(mt(i/t));o<i;)s[a++]=oi(e,o,o+=t);return s},Dr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=$e(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Ot(Za(r)?Ri(r):[r],bn(t,1))},Dr.cond=function(e){var t=null==e?0:e.length,r=lo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ie(n);return[r(e[0]),e[1]]})):[],Xn((function(r){for(var n=-1;++n<t;){var i=e[n];if(xt(i[0],this,r))return xt(i[1],this,r)}}))},Dr.conforms=function(e){return function(e){var t=Cs(e);return function(r){return fn(r,e,t)}}(ln(e,1))},Dr.constant=nu,Dr.countBy=ga,Dr.create=function(e,t){var r=zr(e);return null==t?r:an(r,t)},Dr.curry=function e(t,n,i){var o=Qi(t,8,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Dr.curryRight=function e(t,n,i){var o=Qi(t,a,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Dr.debounce=Ca,Dr.defaults=Es,Dr.defaultsDeep=Ts,Dr.defer=Ba,Dr.delay=Na,Dr.difference=Ho,Dr.differenceBy=Go,Dr.differenceWith=qo,Dr.drop=function(e,t,n){var i=null==e?0:e.length;return i?oi(e,(t=n||t===r?1:vs(t))<0?0:t,i):[]},Dr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?oi(e,0,(t=i-(t=n||t===r?1:vs(t)))<0?0:t):[]},Dr.dropRightWhile=function(e,t){return e&&e.length?yi(e,lo(t,3),!0,!0):[]},Dr.dropWhile=function(e,t){return e&&e.length?yi(e,lo(t,3),!0):[]},Dr.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&$o(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:vs(i))<0&&(i+=o),i=n>i?0:gs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Dr.filter=function(e,t){return(Za(e)?Tt:gn)(e,lo(t,3))},Dr.flatMap=function(e,t){return bn(Aa(e,t),1)},Dr.flatMapDeep=function(e,t){return bn(Aa(e,t),f)},Dr.flatMapDepth=function(e,t,n){return n=n===r?1:vs(n),bn(Aa(e,t),n)},Dr.flatten=Jo,Dr.flattenDeep=function(e){return(null==e?0:e.length)?bn(e,f):[]},Dr.flattenDepth=function(e,t){return(null==e?0:e.length)?bn(e,t=t===r?1:vs(t)):[]},Dr.flip=function(e){return Qi(e,512)},Dr.flow=iu,Dr.flowRight=ou,Dr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Dr.functions=function(e){return null==e?[]:Sn(e,Cs(e))},Dr.functionsIn=function(e){return null==e?[]:Sn(e,Bs(e))},Dr.groupBy=xa,Dr.initial=function(e){return(null==e?0:e.length)?oi(e,0,-1):[]},Dr.intersection=Wo,Dr.intersectionBy=Yo,Dr.intersectionWith=Xo,Dr.invert=Rs,Dr.invertBy=Os,Dr.invokeMap=Sa,Dr.iteratee=su,Dr.keyBy=ka,Dr.keys=Cs,Dr.keysIn=Bs,Dr.map=Aa,Dr.mapKeys=function(e,t){var r={};return t=lo(t,3),$n(e,(function(e,n,i){sn(r,t(e,n,i),e)})),r},Dr.mapValues=function(e,t){var r={};return t=lo(t,3),$n(e,(function(e,n,i){sn(r,n,t(e,n,i))})),r},Dr.matches=function(e){return zn(ln(e,1))},Dr.matchesProperty=function(e,t){return Hn(e,ln(t,1))},Dr.memoize=La,Dr.merge=Ns,Dr.mergeWith=Ls,Dr.method=uu,Dr.methodOf=cu,Dr.mixin=lu,Dr.negate=ja,Dr.nthArg=function(e){return e=vs(e),Xn((function(t){return qn(t,e)}))},Dr.omit=js,Dr.omitBy=function(e,t){return Us(e,ja(lo(t)))},Dr.once=function(e){return Ra(2,e)},Dr.orderBy=function(e,t,n,i){return null==e?[]:(Za(t)||(t=null==t?[]:[t]),Za(n=i?r:n)||(n=null==n?[]:[n]),Kn(e,t,n))},Dr.over=hu,Dr.overArgs=Fa,Dr.overEvery=du,Dr.overSome=pu,Dr.partial=Ua,Dr.partialRight=Da,Dr.partition=Ea,Dr.pick=Fs,Dr.pickBy=Us,Dr.property=yu,Dr.propertyOf=function(e){return function(t){return null==e?r:kn(e,t)}},Dr.pull=ea,Dr.pullAll=ta,Dr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Jn(e,t,lo(r,2)):e},Dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Jn(e,t,r,n):e},Dr.pullAt=ra,Dr.range=mu,Dr.rangeRight=vu,Dr.rearg=za,Dr.reject=function(e,t){return(Za(e)?Tt:gn)(e,ja(lo(t,3)))},Dr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=lo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Vn(e,i),r},Dr.rest=function(e,t){if("function"!=typeof e)throw new Ie(n);return Xn(e,t=t===r?t:vs(t))},Dr.reverse=na,Dr.sampleSize=function(e,t,n){return t=(n?$o(e,t,n):t===r)?1:vs(t),(Za(e)?Qr:ei)(e,t)},Dr.set=function(e,t,r){return null==e?e:ti(e,t,r)},Dr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ti(e,t,n,i)},Dr.shuffle=function(e){return(Za(e)?en:ii)(e)},Dr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&$o(e,t,n)?(t=0,n=i):(t=null==t?0:vs(t),n=n===r?i:vs(n)),oi(e,t,n)):[]},Dr.sortBy=Ta,Dr.sortedUniq=function(e){return e&&e.length?ci(e):[]},Dr.sortedUniqBy=function(e,t){return e&&e.length?ci(e,lo(t,2)):[]},Dr.split=function(e,t,n){return n&&"number"!=typeof n&&$o(e,t,n)&&(t=n=r),(n=n===r?p:n>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=fi(t))&&ir(e)?xi(fr(e),0,n):e.split(t,n):[]},Dr.spread=function(e,t){if("function"!=typeof e)throw new Ie(n);return t=null==t?0:br(vs(t),0),Xn((function(r){var n=r[t],i=xi(r,0,t);return n&&Ot(i,n),xt(e,this,i)}))},Dr.tail=function(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]},Dr.take=function(e,t,n){return e&&e.length?oi(e,0,(t=n||t===r?1:vs(t))<0?0:t):[]},Dr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?oi(e,(t=i-(t=n||t===r?1:vs(t)))<0?0:t,i):[]},Dr.takeRightWhile=function(e,t){return e&&e.length?yi(e,lo(t,3),!1,!0):[]},Dr.takeWhile=function(e,t){return e&&e.length?yi(e,lo(t,3)):[]},Dr.tap=function(e,t){return t(e),e},Dr.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new Ie(n);return ns(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Ca(e,t,{leading:i,maxWait:t,trailing:o})},Dr.thru=ma,Dr.toArray=ys,Dr.toPairs=Ds,Dr.toPairsIn=zs,Dr.toPath=function(e){return Za(e)?Rt(e,Uo):fs(e)?[e]:Ri(Fo(_s(e)))},Dr.toPlainObject=ws,Dr.transform=function(e,t,r){var n=Za(e),i=n||Ya(e)||hs(e);if(t=lo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ns(e)&&es(o)?zr(Ze(e)):{}}return(i?kt:$n)(e,(function(e,n,i){return t(r,e,n,i)})),r},Dr.unary=function(e){return Ia(e,1)},Dr.union=ia,Dr.unionBy=oa,Dr.unionWith=aa,Dr.uniq=function(e){return e&&e.length?hi(e):[]},Dr.uniqBy=function(e,t){return e&&e.length?hi(e,lo(t,2)):[]},Dr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?hi(e,r,t):[]},Dr.unset=function(e,t){return null==e||di(e,t)},Dr.unzip=sa,Dr.unzipWith=ua,Dr.update=function(e,t,r){return null==e?e:pi(e,t,wi(r))},Dr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:pi(e,t,wi(n),i)},Dr.values=Hs,Dr.valuesIn=function(e){return null==e?[]:Wt(e,Bs(e))},Dr.without=ca,Dr.words=eu,Dr.wrap=function(e,t){return Ua(wi(t),e)},Dr.xor=la,Dr.xorBy=fa,Dr.xorWith=ha,Dr.zip=da,Dr.zipObject=function(e,t){return gi(e||[],t||[],rn)},Dr.zipObjectDeep=function(e,t){return gi(e||[],t||[],ti)},Dr.zipWith=pa,Dr.entries=Ds,Dr.entriesIn=zs,Dr.extend=xs,Dr.extendWith=Ss,lu(Dr,Dr),Dr.add=wu,Dr.attempt=tu,Dr.camelCase=Gs,Dr.capitalize=qs,Dr.ceil=_u,Dr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=bs(n))==n?n:0),t!==r&&(t=(t=bs(t))==t?t:0),cn(bs(e),t,n)},Dr.clone=function(e){return ln(e,4)},Dr.cloneDeep=function(e){return ln(e,5)},Dr.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:r)},Dr.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:r)},Dr.conformsTo=function(e,t){return null==t||fn(e,t,Cs(t))},Dr.deburr=Ks,Dr.defaultTo=function(e,t){return null==e||e!=e?t:e},Dr.divide=$u,Dr.endsWith=function(e,t,n){e=_s(e),t=fi(t);var i=e.length,o=n=n===r?i:cn(vs(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Dr.eq=Ha,Dr.escape=function(e){return(e=_s(e))&&V.test(e)?e.replace(Z,rr):e},Dr.escapeRegExp=function(e){return(e=_s(e))&&ne.test(e)?e.replace(re,"\\$&"):e},Dr.every=function(e,t,n){var i=Za(e)?Et:mn;return n&&$o(e,t,n)&&(t=r),i(e,lo(t,3))},Dr.find=ba,Dr.findIndex=Ko,Dr.findKey=function(e,t){return Lt(e,lo(t,3),$n)},Dr.findLast=wa,Dr.findLastIndex=Zo,Dr.findLastKey=function(e,t){return Lt(e,lo(t,3),xn)},Dr.floor=xu,Dr.forEach=_a,Dr.forEachRight=$a,Dr.forIn=function(e,t){return null==e?e:wn(e,lo(t,3),Bs)},Dr.forInRight=function(e,t){return null==e?e:_n(e,lo(t,3),Bs)},Dr.forOwn=function(e,t){return e&&$n(e,lo(t,3))},Dr.forOwnRight=function(e,t){return e&&xn(e,lo(t,3))},Dr.get=Ms,Dr.gt=Ga,Dr.gte=qa,Dr.has=function(e,t){return null!=e&&go(e,t,Mn)},Dr.hasIn=Is,Dr.head=Vo,Dr.identity=au,Dr.includes=function(e,t,r,n){e=Va(e)?e:Hs(e),r=r&&!n?vs(r):0;var i=e.length;return r<0&&(r=br(i+r,0)),ls(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ft(e,t,r)>-1},Dr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:vs(r);return i<0&&(i=br(n+i,0)),Ft(e,t,i)},Dr.inRange=function(e,t,n){return t=ms(t),n===r?(n=t,t=0):n=ms(n),function(e,t,r){return e>=wr(t,r)&&e<br(t,r)}(e=bs(e),t,n)},Dr.invoke=Ps,Dr.isArguments=Ka,Dr.isArray=Za,Dr.isArrayBuffer=Ja,Dr.isArrayLike=Va,Dr.isArrayLikeObject=Wa,Dr.isBoolean=function(e){return!0===e||!1===e||is(e)&&En(e)==g},Dr.isBuffer=Ya,Dr.isDate=Xa,Dr.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Dr.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&(Za(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||hs(e)||Ka(e)))return!e.length;var t=vo(e);if(t==x||t==T)return!e.size;if(Ao(e))return!jn(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0},Dr.isEqual=function(e,t){return Cn(e,t)},Dr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Cn(e,t,r,n):!!i},Dr.isError=Qa,Dr.isFinite=function(e){return"number"==typeof e&&mr(e)},Dr.isFunction=es,Dr.isInteger=ts,Dr.isLength=rs,Dr.isMap=os,Dr.isMatch=function(e,t){return e===t||Bn(e,t,ho(t))},Dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Bn(e,t,ho(t),n)},Dr.isNaN=function(e){return as(e)&&e!=+e},Dr.isNative=function(e){if(ko(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Dr.isNil=function(e){return null==e},Dr.isNull=function(e){return null===e},Dr.isNumber=as,Dr.isObject=ns,Dr.isObjectLike=is,Dr.isPlainObject=ss,Dr.isRegExp=us,Dr.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Dr.isSet=cs,Dr.isString=ls,Dr.isSymbol=fs,Dr.isTypedArray=hs,Dr.isUndefined=function(e){return e===r},Dr.isWeakMap=function(e){return is(e)&&vo(e)==R},Dr.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==En(e)},Dr.join=function(e,t){return null==e?"":vr.call(e,t)},Dr.kebabCase=Zs,Dr.last=Qo,Dr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=vs(n))<0?br(i+o,0):wr(o,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):jt(e,Dt,o,!0)},Dr.lowerCase=Js,Dr.lowerFirst=Vs,Dr.lt=ds,Dr.lte=ps,Dr.max=function(e){return e&&e.length?vn(e,au,Tn):r},Dr.maxBy=function(e,t){return e&&e.length?vn(e,lo(t,2),Tn):r},Dr.mean=function(e){return zt(e,au)},Dr.meanBy=function(e,t){return zt(e,lo(t,2))},Dr.min=function(e){return e&&e.length?vn(e,au,Un):r},Dr.minBy=function(e,t){return e&&e.length?vn(e,lo(t,2),Un):r},Dr.stubArray=gu,Dr.stubFalse=bu,Dr.stubObject=function(){return{}},Dr.stubString=function(){return""},Dr.stubTrue=function(){return!0},Dr.multiply=ku,Dr.nth=function(e,t){return e&&e.length?qn(e,vs(t)):r},Dr.noConflict=function(){return ft._===this&&(ft._=De),this},Dr.noop=fu,Dr.now=Ma,Dr.pad=function(e,t,r){e=_s(e);var n=(t=vs(t))?lr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Ki(Nt(i),r)+e+Ki(mt(i),r)},Dr.padEnd=function(e,t,r){e=_s(e);var n=(t=vs(t))?lr(e):0;return t&&n<t?e+Ki(t-n,r):e},Dr.padStart=function(e,t,r){e=_s(e);var n=(t=vs(t))?lr(e):0;return t&&n<t?Ki(t-n,r)+e:e},Dr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),$r(_s(e).replace(ie,""),t||0)},Dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&$o(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=ms(e),t===r?(t=e,e=0):t=ms(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=xr();return wr(e+o*(t-e+st("1e-"+((o+"").length-1))),t)}return Wn(e,t)},Dr.reduce=function(e,t,r){var n=Za(e)?Pt:qt,i=arguments.length<3;return n(e,lo(t,4),r,i,pn)},Dr.reduceRight=function(e,t,r){var n=Za(e)?Ct:qt,i=arguments.length<3;return n(e,lo(t,4),r,i,yn)},Dr.repeat=function(e,t,n){return t=(n?$o(e,t,n):t===r)?1:vs(t),Yn(_s(e),t)},Dr.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dr.result=function(e,t,n){var i=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=r);++i<o;){var a=null==e?r:e[Uo(t[i])];a===r&&(i=o,a=n),e=es(a)?a.call(e):a}return e},Dr.round=Au,Dr.runInContext=e,Dr.sample=function(e){return(Za(e)?Xr:Qn)(e)},Dr.size=function(e){if(null==e)return 0;if(Va(e))return ls(e)?lr(e):e.length;var t=vo(e);return t==x||t==T?e.size:jn(e).length},Dr.snakeCase=Ws,Dr.some=function(e,t,n){var i=Za(e)?Bt:ai;return n&&$o(e,t,n)&&(t=r),i(e,lo(t,3))},Dr.sortedIndex=function(e,t){return si(e,t)},Dr.sortedIndexBy=function(e,t,r){return ui(e,t,lo(r,2))},Dr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=si(e,t);if(n<r&&Ha(e[n],t))return n}return-1},Dr.sortedLastIndex=function(e,t){return si(e,t,!0)},Dr.sortedLastIndexBy=function(e,t,r){return ui(e,t,lo(r,2),!0)},Dr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=si(e,t,!0)-1;if(Ha(e[r],t))return r}return-1},Dr.startCase=Ys,Dr.startsWith=function(e,t,r){return e=_s(e),r=null==r?0:cn(vs(r),0,e.length),t=fi(t),e.slice(r,r+t.length)==t},Dr.subtract=Eu,Dr.sum=function(e){return e&&e.length?Kt(e,au):0},Dr.sumBy=function(e,t){return e&&e.length?Kt(e,lo(t,2)):0},Dr.template=function(e,t,n){var i=Dr.templateSettings;n&&$o(e,t,n)&&(t=r),e=_s(e),t=Ss({},t,i,eo);var o,a,s=Ss({},t.imports,i.imports,eo),u=Cs(s),c=Wt(s,u),l=0,f=t.interpolate||we,h="__p += '",d=Te((t.escape||we).source+"|"+f.source+"|"+(f===X?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(d,(function(t,r,n,i,s,u){return n||(n=i),h+=e.slice(l,u).replace(_e,nr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var y=Ne.call(t,"variable")&&t.variable;if(y){if(le.test(y))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(H,""):h).replace(G,"$1").replace(q,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=tu((function(){return ke(u,p+"return "+h).apply(r,c)}));if(m.source=h,Qa(m))throw m;return m},Dr.times=function(e,t){if((e=vs(e))<1||e>h)return[];var r=p,n=wr(e,p);t=lo(t),e-=p;for(var i=Zt(n,t);++r<e;)t(r);return i},Dr.toFinite=ms,Dr.toInteger=vs,Dr.toLength=gs,Dr.toLower=function(e){return _s(e).toLowerCase()},Dr.toNumber=bs,Dr.toSafeInteger=function(e){return e?cn(vs(e),-9007199254740991,h):0===e?e:0},Dr.toString=_s,Dr.toUpper=function(e){return _s(e).toUpperCase()},Dr.trim=function(e,t,n){if((e=_s(e))&&(n||t===r))return Jt(e);if(!e||!(t=fi(t)))return e;var i=fr(e),o=fr(t);return xi(i,Xt(i,o),Qt(i,o)+1).join("")},Dr.trimEnd=function(e,t,n){if((e=_s(e))&&(n||t===r))return e.slice(0,hr(e)+1);if(!e||!(t=fi(t)))return e;var i=fr(e);return xi(i,0,Qt(i,fr(t))+1).join("")},Dr.trimStart=function(e,t,n){if((e=_s(e))&&(n||t===r))return e.replace(ie,"");if(!e||!(t=fi(t)))return e;var i=fr(e);return xi(i,Xt(i,fr(t))).join("")},Dr.truncate=function(e,t){var n=30,i="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,i="omission"in t?fi(t.omission):i}var a=(e=_s(e)).length;if(ir(e)){var s=fr(e);a=s.length}if(n>=a)return e;var u=n-lr(i);if(u<1)return i;var c=s?xi(s,0,u).join(""):e.slice(0,u);if(o===r)return c+i;if(s&&(u+=c.length-u),us(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Te(o.source,_s(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===r?u:h)}}else if(e.indexOf(fi(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Dr.unescape=function(e){return(e=_s(e))&&J.test(e)?e.replace(K,dr):e},Dr.uniqueId=function(e){var t=++Le;return _s(e)+t},Dr.upperCase=Xs,Dr.upperFirst=Qs,Dr.each=_a,Dr.eachRight=$a,Dr.first=Vo,lu(Dr,(Su={},$n(Dr,(function(e,t){Ne.call(Dr.prototype,t)||(Su[t]=e)})),Su),{chain:!1}),Dr.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dr[e].placeholder=Dr})),kt(["drop","take"],(function(e,t){qr.prototype[e]=function(n){n=n===r?1:br(vs(n),0);var i=this.__filtered__&&!t?new qr(this):this.clone();return i.__filtered__?i.__takeCount__=wr(n,i.__takeCount__):i.__views__.push({size:wr(n,p),type:e+(i.__dir__<0?"Right":"")}),i},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),kt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(au)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Xn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return On(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(ja(lo(e)))},qr.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(p)},$n(qr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Dr[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(Dr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof qr,c=s[0],l=u||Za(t),f=function(e){var t=o.apply(Dr,Ot([e],s));return i&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,y=u&&!d;if(!a&&l){t=y?t:new qr(this);var m=e.apply(t,s);return m.__actions__.push({func:ma,args:[f],thisArg:r}),new Gr(m,h)}return p&&y?e.apply(this,s):(m=this.thru(f),p?i?m.value()[0]:m.value():m)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Dr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Za(i)?i:[],e)}return this[r]((function(r){return t.apply(Za(r)?r:[],e)}))}})),$n(qr.prototype,(function(e,t){var r=Dr[t];if(r){var n=r.name+"";Ne.call(Or,n)||(Or[n]=[]),Or[n].push({name:t,func:r})}})),Or[zi(r,2).name]=[{name:"wrapper",func:r}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Za(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wr(t,e+a);break;case"takeRight":e=br(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=n?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=wr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return mi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var y=-1,m=e[c+=t];++y<f;){var v=l[y],g=v.iteratee,b=v.type,w=g(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[h++]=m}return p},Dr.prototype.at=va,Dr.prototype.chain=function(){return ya(this)},Dr.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},Dr.prototype.next=function(){this.__values__===r&&(this.__values__=ys(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Dr.prototype.plant=function(e){for(var t,n=this;n instanceof Hr;){var i=zo(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:ma,args:[na],thisArg:r}),new Gr(t,this.__chain__)}return this.thru(na)},Dr.prototype.toJSON=Dr.prototype.valueOf=Dr.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Dr.prototype.first=Dr.prototype.head,at&&(Dr.prototype[at]=function(){return this}),Dr}();dt?((dt.exports=pr)._=pr,ht._=pr):ft._=pr}).call(commonjsGlobal$1)}(lodash,lodash.exports);var PlaylistsApi$1=function(e){_inherits(m,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y=_createSuper$p(m);function m(e,t,r,n,i){var o;return _classCallCheck$1(this,m),_defineProperty$3(_assertThisInitialized(o=y.call(this,e)),"storage",void 0),_defineProperty$3(_assertThisInitialized(o),"entityManager",void 0),_defineProperty$3(_assertThisInitialized(o),"auth",void 0),_defineProperty$3(_assertThisInitialized(o),"logger",void 0),_defineProperty$3(_assertThisInitialized(o),"trackUploadHelper",void 0),o.storage=t,o.entityManager=r,o.auth=n,o.logger=i,o.trackUploadHelper=new TrackUploadHelper(e),o.logger=i.createPrefixedLogger("[playlists-api]"),o}return _createClass$1(m,[{key:"createPlaylist",value:(p=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("createPlaylist",CreatePlaylistSchema)(t);case 2:if(n=e.sent,i=n.userId,o=n.coverArtFile,a=n.metadata,s=n.onProgress,u=n.trackIds,e.t0=o,!e.t0){e.next=13;break}return e.next=12,retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.storage.uploadFile({file:o,onProgress:s,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){p.logger.info("Retrying uploadPlaylistCoverArt",e)}));case 12:e.t0=e.sent;case 13:return c=e.t0,e.next=16,this.trackUploadHelper.generateId("playlist");case 16:return l=e.sent,e.next=19,this.entityManager.getCurrentBlock();case 19:return f=e.sent,h=_objectSpread$k(_objectSpread$k({},a),{},{playlistContents:{trackIds:(null!=u?u:[]).map((function(e){return{track:e,time:f.timestamp}}))},playlistImageSizesMultihash:null==c?void 0:c.id}),e.next=23,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:l,action:Action.CREATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(h)}),auth:this.auth},r));case 23:return d=e.sent,e.abrupt("return",_objectSpread$k(_objectSpread$k({},d),{},{playlistId:encodeHashId(l)}));case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"uploadPlaylist",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("uploadPlaylist",createUploadPlaylistSchema())(t);case 2:return n=e.sent,e.next=5,this.uploadPlaylistInternal(n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"publishPlaylist",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("publishPlaylist",PublishPlaylistSchema)(t);case 2:return e.next=4,this.fetchAndUpdatePlaylist({userId:t.userId,playlistId:t.playlistId,updateMetadata:function(e){return _objectSpread$k(_objectSpread$k({},e),{},{isPrivate:!1})}},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"addTrackToPlaylist",value:(f=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("addTrackToPlaylist",AddTrackToPlaylistSchema)(t);case 2:return e.next=4,this.entityManager.getCurrentBlock();case 4:return n=e.sent,e.next=7,this.fetchAndUpdatePlaylist({userId:t.userId,playlistId:t.playlistId,updateMetadata:function(e){var r;return _objectSpread$k(_objectSpread$k({},e),{},{playlistContents:[].concat(_toConsumableArray(null!==(r=e.playlistContents)&&void 0!==r?r:[]),[{trackId:t.trackId,timestamp:n.timestamp}])})}},r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"removeTrackFromPlaylist",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("removeTrackFromPlaylist",RemoveTrackFromPlaylistSchema)(t);case 2:return n=e.sent,i=n.trackIndex,e.next=6,this.fetchAndUpdatePlaylist({userId:t.userId,playlistId:t.playlistId,updateMetadata:function(e){if(!e.playlistContents||e.playlistContents.length<=i)throw new Error("No track exists at index ".concat(i));return e.playlistContents.splice(i,1),_objectSpread$k(_objectSpread$k({},e),{},{playlistContents:e.playlistContents})}},r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"updatePlaylist",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("updatePlaylist",createUpdatePlaylistSchema())(t);case 2:return n=e.sent,e.next=5,this.updatePlaylistInternal(n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"deletePlaylist",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("deletePlaylist",DeletePlaylistSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.playlistId,e.next=7,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:o,action:Action.DELETE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"favoritePlaylist",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("favoritePlaylist",FavoritePlaylistSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.playlistId,a=n.metadata,e.next=8,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:o,action:Action.SAVE,metadata:a&&JSON.stringify(snakecaseKeys(a)),auth:this.auth},r));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"unfavoritePlaylist",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unfavoritePlaylist",UnfavoritePlaylistSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.playlistId,e.next=7,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:o,action:Action.UNSAVE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"repostPlaylist",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("respostPlaylist",RepostPlaylistSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.playlistId,a=n.metadata,e.next=8,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:o,action:Action.REPOST,metadata:a&&JSON.stringify(snakecaseKeys(a)),auth:this.auth},r));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"unrepostPlaylist",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unrepostPlaylist",UnrepostPlaylistSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.playlistId,e.next=7,this.entityManager.manageEntity(_objectSpread$k({userId:i,entityType:EntityType.PLAYLIST,entityId:o,action:Action.UNREPOST,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"combineMetadata",value:function(e,t){var r=e;return r.mood||(r.mood=t.mood),t.tags&&(r.tags?r.tags=_toConsumableArray(new Set([].concat(_toConsumableArray(r.tags.split(",")),_toConsumableArray(t.tags.split(","))))).join(","):r.tags=t.tags),e}},{key:"fetchAndUpdatePlaylist",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.userId,o=t.playlistId,a=t.updateMetadata,e.next=3,this.getPlaylist({playlistId:o,userId:i});case 3:if(s=e.sent,u=null===(n=s.data)||void 0===n?void 0:n[0]){e.next=7;break}throw new Error("Could not fetch playlist: ".concat(o));case 7:return c=Object.keys(createUpdatePlaylistMetadataSchema().shape),e.next=10,this.updatePlaylist({userId:i,playlistId:o,metadata:a(lodash.exports.pick(u,c))},r);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"uploadPlaylistInternal",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,i=t.coverArtFile,o=t.trackFiles,a=t.onProgress,s=t.metadata,u=t.trackMetadatas,e.next=3,Promise.all([retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.storage.uploadFile({file:i,onProgress:a,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){g.logger.info("Retrying uploadPlaylistCoverArt",e)}))].concat(_toConsumableArray(o.map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.storage.uploadFile({file:t,onProgress:a,template:"audio"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){g.logger.info("Retrying uploadTrackAudio",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 3:return c=e.sent,l=_toArray(c),f=l[0],h=l.slice(1),e.next=9,Promise.all(u.map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t,i){var o,a,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.combineMetadata(g.trackUploadHelper.transformTrackUploadMetadata(t,n),s),a=h[i]){e.next=4;break}throw new Error("Failed to upload track: ".concat(o.title));case 4:return u=g.trackUploadHelper.populateTrackMetadataWithUploadResponse(o,a,f),e.next=7,g.trackUploadHelper.generateId("track");case 7:return c=e.sent,e.next=10,g.entityManager.manageEntity(_objectSpread$k({userId:n,entityType:EntityType.TRACK,entityId:c,action:Action.CREATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(u)}),auth:g.auth},r));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 9:return d=e.sent,e.next=12,this.trackUploadHelper.generateId("playlist");case 12:return p=e.sent,e.next=15,this.entityManager.getCurrentBlock();case 15:return y=e.sent,m=_objectSpread$k(_objectSpread$k({},s),{},{isPrivate:!1,playlistContents:{trackIds:d.map((function(e){return{track:e,time:y.timestamp}}))},playlistImageSizesMultihash:f.id}),e.next=19,this.entityManager.manageEntity(_objectSpread$k({userId:n,entityType:EntityType.PLAYLIST,entityId:p,action:Action.CREATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(m)}),auth:this.auth},r));case 19:return v=e.sent,e.abrupt("return",_objectSpread$k(_objectSpread$k({},v),{},{playlistId:encodeHashId(p)}));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"updatePlaylistInternal",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,i=t.playlistId,o=t.coverArtFile,a=t.onProgress,s=t.metadata,e.t0=o,!e.t0){e.next=6;break}return e.next=5,retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.storage.uploadFile({file:o,onProgress:a,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){l.logger.info("Retrying uploadPlaylistCoverArt",e)}));case 5:e.t0=e.sent;case 6:return u=e.t0,c=_objectSpread$k(_objectSpread$k(_objectSpread$k({},s),s.playlistContents?{playlistContents:{trackIds:s.playlistContents.map((function(e){var t=e.trackId,r=e.metadataTimestamp,n=e.timestamp;return{track:t,time:null!=r?r:n}}))}}:{}),u?{playlistImageSizesMultihash:u.id}:{}),e.next=10,this.entityManager.manageEntity(_objectSpread$k({userId:n,entityType:EntityType.PLAYLIST,entityId:i,action:Action.UPDATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(c)}),auth:this.auth},r));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),m}(PlaylistsApi$2);z.object({userId:z.string(),albumId:z.string()}),z.object({albumId:z.string()});var createUploadAlbumMetadataSchema=function(){return z.object({albumName:z.string(),description:z.optional(z.string().max(1e3)),genre:z.enum(Object.values(Genre)),license:z.optional(z.string()),mood:z.optional(z.enum(Object.values(Mood))),releaseDate:z.optional(z.date().max(new Date,{message:"should not be in the future"})),tags:z.optional(z.string()),upc:z.optional(z.string())}).strict()},createAlbumTrackMetadataSchema=function(){return createUploadTrackMetadataSchema().partial({genre:!0,mood:!0,tags:!0})},createUploadAlbumSchema=function(){return z.object({userId:HashId,coverArtFile:ImageFile,metadata:createUploadAlbumMetadataSchema(),onProgress:z.optional(z.function().args(z.number())),trackMetadatas:z.array(createAlbumTrackMetadataSchema()),trackFiles:z.array(AudioFile)}).strict()},createUpdateAlbumSchema=function(){return z.object({userId:HashId,albumId:HashId,coverArtFile:z.optional(ImageFile),metadata:createUploadAlbumMetadataSchema().partial(),onProgress:z.optional(z.function().args(z.number()))}).strict()},DeleteAlbumSchema=z.object({userId:HashId,albumId:HashId}).strict(),FavoriteAlbumSchema=z.object({userId:HashId,albumId:HashId,metadata:z.optional(z.object({isSaveOfRepost:z.boolean()}))}).strict(),UnfavoriteAlbumSchema=z.object({userId:HashId,albumId:HashId}).strict(),RepostAlbumSchema=z.object({userId:HashId,albumId:HashId,metadata:z.optional(z.object({isRepostOfRepost:z.boolean()}))}).strict(),UnrepostAlbumSchema=z.object({userId:HashId,albumId:HashId}).strict(),_excluded$1=["metadata"],_excluded2=["albumName"],_excluded3=["albumId","metadata"],_excluded4=["albumName"];function ownKeys$j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$j(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var AlbumsApi=function(){function e(t,r,n,i,o){_classCallCheck$1(this,e),_defineProperty$3(this,"playlistsApi",void 0),this.playlistsApi=new PlaylistsApi$1(t,r,n,i,o)}var t,r,n,i,o,a,s,u,c;return _createClass$1(e,[{key:"getAlbum",value:(c=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n=t.albumId,e.next=3,this.playlistsApi.getPlaylist({userId:r,playlistId:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getAlbumTracks",value:(u=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.albumId,e.next=3,this.playlistsApi.getPlaylistTracks({playlistId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"uploadAlbum",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("uploadAlbum",createUploadAlbumSchema())(t);case 2:return n=e.sent,i=n.metadata,o=_objectWithoutProperties(n,_excluded$1),a=i.albumName,s=_objectWithoutProperties(i,_excluded2),e.next=8,this.playlistsApi.uploadPlaylistInternal(_objectSpread$j(_objectSpread$j({},o),{},{metadata:_objectSpread$j(_objectSpread$j({},s),{},{playlistName:a,isAlbum:!0})}),r);case 8:return u=e.sent,e.abrupt("return",{blockHash:u.blockHash,blockNumber:u.blockNumber,albumId:u.playlistId});case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"updateAlbum",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("updateAlbum",createUpdateAlbumSchema())(t);case 2:return n=e.sent,i=n.albumId,o=n.metadata,a=_objectWithoutProperties(n,_excluded3),s=o.albumName,u=_objectWithoutProperties(o,_excluded4),e.next=9,this.playlistsApi.updatePlaylistInternal(_objectSpread$j(_objectSpread$j({},a),{},{playlistId:i,metadata:_objectSpread$j(_objectSpread$j({},u),{},{playlistName:s})}),r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"deleteAlbum",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("deleteAlbum",DeleteAlbumSchema)(t);case 2:return e.next=4,this.playlistsApi.deletePlaylist({userId:t.userId,playlistId:t.albumId},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"favoriteAlbum",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("favoriteAlbum",FavoriteAlbumSchema)(t);case 2:return n=e.sent,i=n.metadata,e.next=6,this.playlistsApi.favoritePlaylist({userId:t.userId,playlistId:t.albumId,metadata:i},r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"unfavoriteAlbum",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unfavoriteAlbum",UnfavoriteAlbumSchema)(t);case 2:return e.next=4,this.playlistsApi.unfavoritePlaylist({userId:t.userId,playlistId:t.albumId},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"repostAlbum",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("repostAlbum",RepostAlbumSchema)(t);case 2:return n=e.sent,i=n.metadata,e.next=6,this.playlistsApi.repostPlaylist({userId:t.userId,playlistId:t.albumId,metadata:i},r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unrepostAlbum",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unrepostAlbum",UnrepostAlbumSchema)(t);case 2:return e.next=4,this.playlistsApi.unrepostPlaylist({userId:t.userId,playlistId:t.albumId},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();function ownKeys$i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$i(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$o(e){var t=_isNativeReflectConstruct$o();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TracksApi$1=function(e){_inherits(l,e);var t,r,n,i,o,a,s,u,c=_createSuper$o(l);function l(e,t,r,n,i,o){var a;return _classCallCheck$1(this,l),_defineProperty$3(_assertThisInitialized(a=c.call(this,e)),"discoveryNodeSelectorService",void 0),_defineProperty$3(_assertThisInitialized(a),"storage",void 0),_defineProperty$3(_assertThisInitialized(a),"entityManager",void 0),_defineProperty$3(_assertThisInitialized(a),"auth",void 0),_defineProperty$3(_assertThisInitialized(a),"logger",void 0),_defineProperty$3(_assertThisInitialized(a),"trackUploadHelper",void 0),a.discoveryNodeSelectorService=t,a.storage=r,a.entityManager=n,a.auth=i,a.logger=o,a.trackUploadHelper=new TrackUploadHelper(e),a.logger=o.createPrefixedLogger("[tracks-api]"),a}return _createClass$1(l,[{key:"streamTrack",value:(u=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError$1("trackId","Required parameter params.trackId was null or undefined when calling getTrack.");case 2:return r="/tracks/{track_id}/stream".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),e.next=5,this.discoveryNodeSelectorService.getSelectedEndpoint();case 5:return n=e.sent,e.abrupt("return","".concat(n).concat(BASE_PATH$1).concat(r));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"uploadTrack",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("uploadTrack",createUploadTrackSchema())(t);case 2:return n=e.sent,i=n.userId,o=n.trackFile,a=n.coverArtFile,s=n.metadata,u=n.onProgress,c=this.trackUploadHelper.transformTrackUploadMetadata(s,i),l={},c.previewStartSeconds&&(l.previewStartSeconds=c.previewStartSeconds.toString()),e.next=13,Promise.all([retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.storage.uploadFile({file:a,onProgress:u,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){g.logger.info("Retrying uploadTrackCoverArt",e)})),retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.storage.uploadFile({file:o,onProgress:u,template:"audio",options:l});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){g.logger.info("Retrying uploadTrackAudio",e)}))]);case 13:return f=e.sent,h=_slicedToArray(f,2),d=h[0],p=h[1],y=this.trackUploadHelper.populateTrackMetadataWithUploadResponse(c,p,d),e.next=20,this.trackUploadHelper.generateId("track");case 20:return m=e.sent,e.next=23,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:m,action:Action.CREATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(y)}),auth:this.auth},r));case 23:return v=e.sent,e.abrupt("return",_objectSpread$i(_objectSpread$i({},v),{},{trackId:encodeHashId(m)}));case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"updateTrack",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p,y,m=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("updateTrack",createUpdateTrackSchema())(t);case 2:if(n=e.sent,i=n.userId,o=n.trackId,a=n.coverArtFile,s=n.metadata,u=n.onProgress,c=n.transcodePreview,l=this.trackUploadHelper.transformTrackUploadMetadata(s,i),e.t0=a,!e.t0){e.next=15;break}return e.next=14,retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.storage.uploadFile({file:a,onProgress:u,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){m.logger.info("Retrying uploadTrackCoverArt",e)}));case 14:e.t0=e.sent;case 15:if(f=e.t0,h=_objectSpread$i(_objectSpread$i({},l),f?{coverArtSizes:f.id}:{}),!c){e.next=28;break}if(h.previewStartSeconds){e.next=20;break}throw new Error("No track preview start time specified");case 20:if(h.audioUploadId){e.next=22;break}throw new Error("Missing required audio_upload_id");case 22:return d={previewStartSeconds:h.previewStartSeconds.toString()},e.next=25,retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.storage.editFile({uploadId:h.audioUploadId,data:d,auth:m.auth});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){m.logger.info("Retrying editFileV2",e)}));case 25:p=e.sent,y="320_preview|".concat(h.previewStartSeconds),h.previewCid=p.results[y];case 28:return e.next=30,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.UPDATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(h)}),auth:this.auth},r));case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"deleteTrack",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("deleteTrack",DeleteTrackSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.trackId,e.next=7,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.DELETE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"favoriteTrack",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("favoriteTrack",FavoriteTrackSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.trackId,a=n.metadata,e.next=8,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.SAVE,metadata:a&&JSON.stringify(snakecaseKeys(a)),auth:this.auth},r));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"unfavoriteTrack",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unfavoriteTrack",UnfavoriteTrackSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.trackId,e.next=7,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.UNSAVE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"repostTrack",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("respostTrack",RepostTrackSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.trackId,a=n.metadata,e.next=8,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.REPOST,metadata:a&&JSON.stringify(snakecaseKeys(a)),auth:this.auth},r));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unrepostTrack",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unrepostTrack",UnrepostTrackSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.trackId,e.next=7,this.entityManager.manageEntity(_objectSpread$i({userId:i,entityType:EntityType.TRACK,entityId:o,action:Action.UNREPOST,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),l}(TracksApi$2),UpdateProfileSchema=z.object({userId:HashId,profilePictureFile:z.optional(ImageFile),coverArtFile:z.optional(ImageFile),onProgress:z.optional(z.function().args(z.number())),metadata:z.object({name:z.optional(z.string()),bio:z.optional(z.string()),location:z.optional(z.string()),isDeactivated:z.optional(z.boolean()),artistPickTrackId:z.optional(HashId)}).strict()}).strict(),FollowUserSchema=z.object({userId:HashId,followeeUserId:HashId}).strict(),UnfollowUserSchema=z.object({userId:HashId,followeeUserId:HashId}).strict(),SubscribeToUserSchema=z.object({userId:HashId,subscribeeUserId:HashId}).strict(),UnsubscribeFromUserSchema=z.object({userId:HashId,subscribeeUserId:HashId}).strict();function ownKeys$h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$h(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$n(e){var t=_isNativeReflectConstruct$n();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var UsersApi$1=function(e){_inherits(s,e);var t,r,n,i,o,a=_createSuper$n(s);function s(e,t,r,n,i){var o;return _classCallCheck$1(this,s),_defineProperty$3(_assertThisInitialized(o=a.call(this,e)),"storage",void 0),_defineProperty$3(_assertThisInitialized(o),"entityManager",void 0),_defineProperty$3(_assertThisInitialized(o),"auth",void 0),_defineProperty$3(_assertThisInitialized(o),"logger",void 0),o.storage=t,o.entityManager=r,o.auth=n,o.logger=i,o.logger=i.createPrefixedLogger("[users-api]"),o}return _createClass$1(s,[{key:"updateProfile",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("updateProfile",UpdateProfileSchema)(t);case 2:return n=e.sent,i=n.onProgress,o=n.profilePictureFile,a=n.coverArtFile,s=n.userId,u=n.metadata,e.next=10,Promise.all([o&&retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.storage.uploadFile({file:o,onProgress:i,template:"img_square"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){p.logger.info("Retrying uploadProfilePicture",e)})),a&&retry3(_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.storage.uploadFile({file:a,onProgress:i,template:"img_backdrop"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){p.logger.info("Retrying uploadProfileCoverArt",e)}))]);case 10:return c=e.sent,l=_slicedToArray(c,2),f=l[0],h=l[1],d=_objectSpread$h(_objectSpread$h(_objectSpread$h({},u),f?{profilePicture:null==f?void 0:f.id}:{}),h?{coverPhoto:null==h?void 0:h.id}:{}),e.next=17,this.entityManager.manageEntity(_objectSpread$h({userId:s,entityType:EntityType.USER,entityId:s,action:Action.UPDATE,metadata:JSON.stringify({cid:"",data:snakecaseKeys(d)}),auth:this.auth},r));case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"followUser",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("followUser",FollowUserSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.followeeUserId,e.next=7,this.entityManager.manageEntity(_objectSpread$h({userId:i,entityType:EntityType.USER,entityId:o,action:Action.FOLLOW,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"unfollowUser",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unfollowUser",UnfollowUserSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.followeeUserId,e.next=7,this.entityManager.manageEntity(_objectSpread$h({userId:i,entityType:EntityType.USER,entityId:o,action:Action.UNFOLLOW,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"subscribeToUser",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("subscribeToUser",SubscribeToUserSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.subscribeeUserId,e.next=7,this.entityManager.manageEntity(_objectSpread$h({userId:i,entityType:EntityType.USER,entityId:o,action:Action.SUBSCRIBE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unsubscribeFromUser",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unsubscribeFromUser",UnsubscribeFromUserSchema)(t);case 2:return n=e.sent,i=n.userId,o=n.subscribeeUserId,e.next=7,this.entityManager.manageEntity(_objectSpread$h({userId:i,entityType:EntityType.USER,entityId:o,action:Action.UNSUBSCRIBE,auth:this.auth},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),s}(UsersApi$2);function _createSuper$m(e){var t=_isNativeReflectConstruct$m();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ResolveApi=function(e){_inherits(i,e);var t,r,n=_createSuper$m(i);function i(){return _classCallCheck$1(this,i),n.apply(this,arguments)}return _createClass$1(i,[{key:"resolveRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.url&&void 0!==t.url){e.next=2;break}throw new RequiredError$1("url","Required parameter params.url was null or undefined when calling resolve.");case 2:return r={},void 0!==t.url&&(r.url=t.url),n={},e.next=7,this.request({path:"/resolve",method:"GET",headers:n,query:r});case 7:return i=e.sent,e.abrupt("return",new JSONApiResponse$1(i,(function(e){return TrackResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"resolve",value:(t=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveRaw(t);case 2:return e.next=4,e.sent.value();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(BaseAPI$1),crypto$4={node:nodeCrypto$1,web:"object"===("undefined"==typeof self?"undefined":_typeof$2(self))&&"crypto"in self?self.crypto:void 0};function hexToBytes$1(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+_typeof$2(e));if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);for(var t=new Uint8Array(e.length/2),r=0;r<t.length;r++){var n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function concatBytes$1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((function(e){return e instanceof Uint8Array})))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];for(var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),o=0,a=0;o<t.length;o++){var s=t[o];i.set(s,a),a+=s.length}return i}var MD={e:"AES-GCM",i:{name:"AES-GCM",length:256}};function encrypt(e,t){return _encrypt.apply(this,arguments)}function _encrypt(){return(_encrypt=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof r&&(r=utils$N.utf8ToBytes(r)),n=utils$N.randomBytes(12),!crypto$4.web){e.next=16;break}return e.next=5,crypto$4.web.subtle.importKey("raw",t,MD.i,!0,["encrypt"]);case 5:return i=e.sent,e.next=8,crypto$4.web.subtle.encrypt({name:MD.e,iv:n},i,r);case 8:return o=e.sent,a=new Uint8Array(o),(s=new Uint8Array(n.length+a.byteLength)).set(n,0),s.set(a,n.length),e.abrupt("return",s);case 16:return u=crypto$4.node.createCipheriv("aes-256-gcm",t,n),c=u.update(r,void 0,"hex"),c+=u.final("hex"),l=hexToBytes$1(c),f=u.getAuthTag(),h=concatBytes$1(n,l,f),e.abrupt("return",h);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function decrypt(e,t){return _decrypt.apply(this,arguments)}function _decrypt(){return(_decrypt=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof r&&(r=hexToBytes$1(r)),n=r.slice(0,12),!crypto$4.web){e.next=13;break}return i=r.slice(12),e.next=6,crypto$4.web.subtle.importKey("raw",t,MD.i,!0,["decrypt"]);case 6:return o=e.sent,e.next=9,crypto$4.web.subtle.decrypt({name:MD.e,iv:n},o,i);case 9:return a=e.sent,e.abrupt("return",new Uint8Array(a));case 13:return s=r.slice(12,-16),u=r.slice(-16),(c=crypto$4.node.createDecipheriv("aes-256-gcm",t,n)).setAuthTag(u),l=c.update(s),f=Uint8Array.from(c.final()),h=concatBytes$1(l,f),e.abrupt("return",h);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var utils$N={randomBytes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(crypto$4.web)return crypto$4.web.getRandomValues(new Uint8Array(e));if(crypto$4.node){var t=crypto$4.node.randomBytes;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},bytesToUtf8:function(e){return(new TextDecoder).decode(e)},utf8ToBytes:function(e){return(new TextEncoder).encode(e)},hexToBytes:hexToBytes$1,concatBytes:concatBytes$1};function _createForOfIteratorHelper$d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$d(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$d(e,t):void 0}}function _arrayLikeToArray$d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function assertNumber(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function chain(){for(var e=function(e,t){return function(r){return e(t(r))}},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=Array.from(r).reverse().reduce((function(t,r){return t?e(t,r.encode):r.encode}),void 0),o=r.reduce((function(t,r){return t?e(t,r.decode):r.decode}),void 0);return{encode:i,decode:o}}function alphabet$1(e){return{encode:function(t){if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((function(t){if(assertNumber(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:function(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((function(t){if("string"!=typeof t)throw new Error("alphabet.decode: not string element=".concat(t));var r=e.indexOf(t);if(-1===r)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return r}))}}}function join(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof e)throw new Error("join separator should be string");return{encode:function(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");var r,n=_createForOfIteratorHelper$d(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"!=typeof i)throw new Error("join.encode: non-string input=".concat(i))}}catch(e){n.e(e)}finally{n.f()}return t.join(e)},decode:function(t){if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function padding(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(assertNumber(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode:function(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");var n,i=_createForOfIteratorHelper$d(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("string"!=typeof o)throw new Error("padding.encode: non-string input=".concat(o))}}catch(e){i.e(e)}finally{i.f()}for(;r.length*e%8;)r.push(t);return r},decode:function(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");var n,i=_createForOfIteratorHelper$d(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("string"!=typeof o)throw new Error("padding.decode: non-string input=".concat(o))}}catch(e){i.e(e)}finally{i.f()}var a=r.length;if(a*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;a>0&&r[a-1]===t;a--)if(!((a-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,a)}}}function normalize(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:function(e){return e},decode:function(t){return e(t)}}}function convertRadix(e,t,r){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(r<2)throw new Error("convertRadix: wrong to=".concat(r,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];var n=0,i=[],o=Array.from(e);for(o.forEach((function(e){if(assertNumber(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){for(var a=0,s=!0,u=n;u<o.length;u++){var c=o[u],l=t*a+c;if(!Number.isSafeInteger(l)||t*a/t!==a||l-c!=t*a)throw new Error("convertRadix: carry overflow");if(a=l%r,o[u]=Math.floor(l/r),!Number.isSafeInteger(o[u])||o[u]*r+a!==l)throw new Error("convertRadix: carry overflow");s&&(o[u]?s=!1:n=u)}if(i.push(a),s)break}for(var f=0;f<e.length-1&&0===e[f];f++)i.push(0);return i.reverse()}var gcd=function e(t,r){return r?e(r,t%r):t},radix2carry=function(e,t){return e+(t-gcd(e,t))};function convertRadix2(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(r<=0||r>32)throw new Error("convertRadix2: wrong to=".concat(r));if(radix2carry(t,r)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(r," carryBits=").concat(radix2carry(t,r)));var i,o=0,a=0,s=Math.pow(2,r)-1,u=[],c=_createForOfIteratorHelper$d(e);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(assertNumber(l),l>=Math.pow(2,t))throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(o=o<<t|l,a+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(a," from=").concat(t));for(a+=t;a>=r;a-=r)u.push((o>>a-r&s)>>>0);o&=Math.pow(2,a)-1}}catch(e){c.e(e)}finally{c.f()}if(o=o<<r-a&s,!n&&a>=t)throw new Error("Excess padding");if(!n&&o)throw new Error("Non-zero padding: ".concat(o));return n&&a>0&&u.push(o>>>0),u}function radix(e){return assertNumber(e),{encode:function(t){if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(t),Math.pow(2,8),e)},decode:function(t){if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(t,e,Math.pow(2,8)))}}}function radix2(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(assertNumber(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,e)>32||radix2carry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:function(r){if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(r),8,e,!t)},decode:function(r){if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(r,e,8,t))}}}function unsafeWrapper(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(null,r)}catch(e){}}}var base16$2=chain(radix2(4),alphabet$1("0123456789ABCDEF"),join("")),base32$5=chain(radix2(5),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));chain(radix2(5),alphabet$1("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join("")),chain(radix2(5),alphabet$1("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize((function(e){return e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")})));var base64$4=chain(radix2(6),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join("")),base64url$1=chain(radix2(6),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join("")),genBase58=function(e){return chain(radix(58),alphabet$1(e),join(""))},base58$1=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");var XMR_BLOCK_LEN=[0,2,3,5,6,7,9,10,11],base58xmr={encode:function(e){for(var t="",r=0;r<e.length;r+=8){var n=e.subarray(r,r+8);t+=base58$1.encode(n).padStart(XMR_BLOCK_LEN[n.length],"1")}return t},decode:function(e){for(var t=[],r=0;r<e.length;r+=11){for(var n=e.slice(r,r+11),i=XMR_BLOCK_LEN.indexOf(n.length),o=base58$1.decode(n),a=0;a<o.length-i;a++)if(0!==o[a])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},BECH_ALPHABET=chain(alphabet$1("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(e){for(var t=e>>25,r=(33554431&e)<<5,n=0;n<POLYMOD_GENERATORS.length;n++)1==(t>>n&1)&&(r^=POLYMOD_GENERATORS[n]);return r}function bechChecksum(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.length,i=1,o=0;o<n;o++){var a=e.charCodeAt(o);if(a<33||a>126)throw new Error("Invalid prefix (".concat(e,")"));i=bech32Polymod(i)^a>>5}i=bech32Polymod(i);for(var s=0;s<n;s++)i=bech32Polymod(i)^31&e.charCodeAt(s);var u,c=_createForOfIteratorHelper$d(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;i=bech32Polymod(i)^l}}catch(e){c.e(e)}finally{c.f()}for(var f=0;f<6;f++)i=bech32Polymod(i);return i^=r,BECH_ALPHABET.encode(convertRadix2([i%Math.pow(2,30)],30,5,!1))}function genBech32(e){var t="bech32"===e?1:734539939,r=radix2(5),n=r.decode,i=r.encode,o=unsafeWrapper(n);function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!=typeof e)throw new Error("bech32.decode input should be string, not ".concat(_typeof$2(e)));if(e.length<8||!1!==r&&e.length>r)throw new TypeError("Wrong string length: ".concat(e.length," (").concat(e,"). Expected (8..").concat(r,")"));var n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");var i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');var o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");var s=BECH_ALPHABET.decode(a).slice(0,-6),u=bechChecksum(o,s,t);if(!a.endsWith(u))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(u,'"'));return{prefix:o,words:s}}return{encode:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not ".concat(_typeof$2(e)));if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not ".concat(_typeof$2(r)));var i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError("Length ".concat(i," exceeds limit ").concat(n));return e=e.toLowerCase(),"".concat(e,"1").concat(BECH_ALPHABET.encode(r)).concat(bechChecksum(e,r,t))},decode:a,decodeToBytes:function(e){var t=a(e,!1),r=t.prefix,i=t.words;return{prefix:r,words:i,bytes:n(i)}},decodeUnsafe:unsafeWrapper(a),fromWords:n,fromWordsUnsafe:o,toWords:i}}genBech32("bech32"),genBech32("bech32m");var utf8$3={encode:function(e){return(new TextDecoder).decode(e)},decode:function(e){return(new TextEncoder).encode(e)}},hex=chain(radix2(4),alphabet$1("0123456789abcdef"),join(""),normalize((function(e){if("string"!=typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(_typeof$2(e)," with length ").concat(e.length));return e.toLowerCase()}))),CODERS={utf8:utf8$3,hex:hex,base16:base16$2,base32:base32$5,base64:base64$4,base64url:base64url$1,base58:base58$1,base58xmr:base58xmr};function createError$4(e){var t=new Error(e);return t.source="ulid",t}"Invalid encoding type. Available types: ".concat(Object.keys(CODERS).join(", "));var ENCODING="0123456789ABCDEFGHJKMNPQRSTVWXYZ",ENCODING_LEN=ENCODING.length,TIME_MAX=Math.pow(2,48)-1,TIME_LEN=10,RANDOM_LEN=16;function randomChar(e){var t=Math.floor(e()*ENCODING_LEN);return t===ENCODING_LEN&&(t=ENCODING_LEN-1),ENCODING.charAt(t)}function encodeTime(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>TIME_MAX)throw createError$4("cannot encode time greater than "+TIME_MAX);if(e<0)throw createError$4("time must be positive");if(!1===Number.isInteger(e))throw createError$4("time must be an integer");for(var r=void 0,n="";t>0;t--)r=e%ENCODING_LEN,n=ENCODING.charAt(r)+n,e=(e-r)/ENCODING_LEN;return n}function encodeRandom(e,t){for(var r="";e>0;e--)r=randomChar(t)+r;return r}function detectPrng(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var n=require("crypto");return function(){return n.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw createError$4("secure crypto unusable, insecure Math.random not allowed")}function factory$1(e){return e||(e=detectPrng()),function(t){return isNaN(t)&&(t=Date.now()),encodeTime(t,TIME_LEN)+encodeRandom(RANDOM_LEN,e)}}var ulid=factory$1();function _createSuper$l(e){var t=_isNativeReflectConstruct$l();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(e){var t=CURVE.a,r=CURVE.b,n=mod(e*e),i=mod(n*e);return mod(i+t*e+r)}var USE_ENDOMORPHISM=CURVE.a===_0n,ShaError=function(e){_inherits(r,e);var t=_createSuper$l(r);function r(e){return _classCallCheck$1(this,r),t.call(this,e)}return _createClass$1(r)}(_wrapNativeSuper(Error)),JacobianPoint=function(){function e(t,r,n){_classCallCheck$1(this,e),this.x=t,this.y=r,this.z=n}return _createClass$1(e,[{key:"equals",value:function(t){if(!(t instanceof e))throw new TypeError("JacobianPoint expected");var r=this.x,n=this.y,i=this.z,o=t.x,a=t.y,s=t.z,u=mod(i*i),c=mod(s*s),l=mod(r*c),f=mod(o*u),h=mod(mod(n*s)*c),d=mod(mod(a*i)*u);return l===f&&h===d}},{key:"negate",value:function(){return new e(this.x,mod(-this.y),this.z)}},{key:"double",value:function(){var t=this.x,r=this.y,n=this.z,i=mod(t*t),o=mod(r*r),a=mod(o*o),s=t+o,u=mod(_2n*(mod(s*s)-i-a)),c=mod(_3n*i),l=mod(c*c),f=mod(l-_2n*u);return new e(f,mod(c*(u-f)-_8n*a),mod(_2n*r*n))}},{key:"add",value:function(t){if(!(t instanceof e))throw new TypeError("JacobianPoint expected");var r=this.x,n=this.y,i=this.z,o=t.x,a=t.y,s=t.z;if(o===_0n||a===_0n)return this;if(r===_0n||n===_0n)return t;var u=mod(i*i),c=mod(s*s),l=mod(r*c),f=mod(o*u),h=mod(mod(n*s)*c),d=mod(mod(a*i)*u),p=mod(f-l),y=mod(d-h);if(p===_0n)return y===_0n?this.double():e.ZERO;var m=mod(p*p),v=mod(p*m),g=mod(l*m),b=mod(y*y-v-_2n*g);return new e(b,mod(y*(g-b)-h*v),mod(i*s*p))}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiplyUnsafe",value:function(t){var r=e.ZERO;if("bigint"==typeof t&&t===_0n)return r;var n=normalizeScalar(t);if(n===_1n)return this;if(!USE_ENDOMORPHISM){for(var i=r,o=this;n>_0n;)n&_1n&&(i=i.add(o)),o=o.double(),n>>=_1n;return i}for(var a=splitScalarEndo(n),s=a.k1neg,u=a.k1,c=a.k2neg,l=a.k2,f=r,h=r,d=this;u>_0n||l>_0n;)u&_1n&&(f=f.add(d)),l&_1n&&(h=h.add(d)),d=d.double(),u>>=_1n,l>>=_1n;return s&&(f=f.negate()),c&&(h=h.negate()),h=new e(mod(h.x*CURVE.beta),h.y,h.z),f.add(h)}},{key:"precomputeWindow",value:function(e){for(var t=USE_ENDOMORPHISM?128/e+1:256/e+1,r=[],n=this,i=n,o=0;o<t;o++){i=n,r.push(i);for(var a=1;a<Math.pow(2,e-1);a++)i=i.add(n),r.push(i);n=i.double()}return r}},{key:"wNAF",value:function(t,r){!r&&this.equals(e.BASE)&&(r=Point$3.BASE);var n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");var i=r&&pointPrecomputes.get(r);i||(i=this.precomputeWindow(n),r&&1!==n&&(i=e.normalizeZ(i),pointPrecomputes.set(r,i)));for(var o=e.ZERO,a=e.ZERO,s=1+(USE_ENDOMORPHISM?128/n:256/n),u=Math.pow(2,n-1),c=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),f=BigInt(n),h=0;h<s;h++){var d=h*u,p=Number(t&c);if(t>>=f,p>u&&(p-=l,t+=_1n),0===p){var y=i[d];h%2&&(y=y.negate()),a=a.add(y)}else{var m=i[d+Math.abs(p)-1];p<0&&(m=m.negate()),o=o.add(m)}}return{p:o,f:a}}},{key:"multiply",value:function(t,r){var n,i,o=normalizeScalar(t);if(USE_ENDOMORPHISM){var a=splitScalarEndo(o),s=a.k1neg,u=a.k1,c=a.k2neg,l=a.k2,f=this.wNAF(u,r),h=f.p,d=f.f,p=this.wNAF(l,r),y=p.p,m=p.f;s&&(h=h.negate()),c&&(y=y.negate()),y=new e(mod(y.x*CURVE.beta),y.y,y.z),n=h.add(y),i=d.add(m)}else{var v=this.wNAF(o,r);n=v.p,i=v.f}return e.normalizeZ([n,i])[0]}},{key:"toAffine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:invert(this.z),t=this.x,r=this.y,n=this.z,i=e,o=mod(i*i),a=mod(o*i),s=mod(t*o),u=mod(r*a),c=mod(n*i);if(c!==_1n)throw new Error("invZ was invalid");return new Point$3(s,u)}}],[{key:"fromAffine",value:function(t){if(!(t instanceof Point$3))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new e(t.x,t.y,_1n)}},{key:"toAffineBatch",value:function(e){var t=invertBatch(e.map((function(e){return e.z})));return e.map((function(e,r){return e.toAffine(t[r])}))}},{key:"normalizeZ",value:function(t){return e.toAffineBatch(t).map(e.fromAffine)}}]),e}();JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n),JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);var pointPrecomputes=new WeakMap,Point$3=function(){function e(t,r){_classCallCheck$1(this,e),this.x=t,this.y=r}return _createClass$1(e,[{key:"_setWindowSize",value:function(e){this._WINDOW_SIZE=e,pointPrecomputes.delete(this)}},{key:"hasEvenY",value:function(){return this.y%_2n===_0n}},{key:"toRawBytes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hexToBytes(this.toHex(e))}},{key:"toHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=numTo32bStr(this.x);if(e){var r=this.hasEvenY()?"02":"03";return"".concat(r).concat(t)}return"04".concat(t).concat(numTo32bStr(this.y))}},{key:"toHexX",value:function(){return this.toHex(!0).slice(2)}},{key:"toRawX",value:function(){return this.toRawBytes(!0).slice(1)}},{key:"assertValidity",value:function(){var e="Point is not on elliptic curve",t=this.x,r=this.y;if(!isValidFieldElement(t)||!isValidFieldElement(r))throw new Error(e);var n=mod(r*r);if(mod(n-weistrass(t))!==_0n)throw new Error(e)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"negate",value:function(){return new e(this.x,mod(-this.y))}},{key:"double",value:function(){return JacobianPoint.fromAffine(this).double().toAffine()}},{key:"add",value:function(e){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(e)).toAffine()}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiply",value:function(e){return JacobianPoint.fromAffine(this).multiply(e,this).toAffine()}},{key:"multiplyAndAddUnsafe",value:function(t,r,n){var i=JacobianPoint.fromAffine(this),o=r===_0n||r===_1n||this!==e.BASE?i.multiplyUnsafe(r):i.multiply(r),a=JacobianPoint.fromAffine(t).multiplyUnsafe(n),s=o.add(a);return s.equals(JacobianPoint.ZERO)?void 0:s.toAffine()}}],[{key:"fromCompressedHex",value:function(t){var r=32===t.length,n=bytesToNumber(r?t:t.subarray(1));if(!isValidFieldElement(n))throw new Error("Point is not on curve");var i=sqrtMod(weistrass(n)),o=(i&_1n)===_1n;r?o&&(i=mod(-i)):1==(1&t[0])!==o&&(i=mod(-i));var a=new e(n,i);return a.assertValidity(),a}},{key:"fromUncompressedHex",value:function(t){var r=new e(bytesToNumber(t.subarray(1,33)),bytesToNumber(t.subarray(33,65)));return r.assertValidity(),r}},{key:"fromHex",value:function(e){var t=ensureBytes(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error("Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ".concat(r))}},{key:"fromPrivateKey",value:function(t){return e.BASE.multiply(normalizePrivateKey(t))}},{key:"fromSignature",value:function(t,r,n){var i=truncateHash(t=ensureBytes(t)),o=normalizeSignature(r),a=o.r,s=o.s;if(0!==n&&1!==n)throw new Error("Cannot recover signature: invalid recovery bit");var u=1&n?"03":"02",c=e.fromHex(u+numTo32bStr(a)),l=CURVE.n,f=invert(a,l),h=mod(-i*f,l),d=mod(s*f,l),p=e.BASE.multiplyAndAddUnsafe(c,h,d);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}}]),e}();function sliceDER(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function parseDERInt(e){if(e.length<2||2!==e[0])throw new Error("Invalid signature integer tag: ".concat(bytesToHex(e)));var t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(r),left:e.subarray(t+2)}}function parseDERSignature(e){if(e.length<2||48!=e[0])throw new Error("Invalid signature tag: ".concat(bytesToHex(e)));if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");var t=parseDERInt(e.subarray(2)),r=t.data,n=parseDERInt(t.left),i=n.data,o=n.left;if(o.length)throw new Error("Invalid signature: left bytes after parsing: ".concat(bytesToHex(o)));return{r:r,s:i}}Point$3.BASE=new Point$3(CURVE.Gx,CURVE.Gy),Point$3.ZERO=new Point$3(_0n,_0n);var Signature$4=function(){function e(t,r){_classCallCheck$1(this,e),this.r=t,this.s=r,this.assertValidity()}return _createClass$1(e,[{key:"assertValidity",value:function(){var e=this.r,t=this.s;if(!isWithinCurveOrder(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(t))throw new Error("Invalid Signature: s must be 0 < s < n")}},{key:"hasHighS",value:function(){var e=CURVE.n>>_1n;return this.s>e}},{key:"normalizeS",value:function(){return this.hasHighS()?new e(this.r,CURVE.n-this.s):this}},{key:"toDERRawBytes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hexToBytes(this.toDERHex(e))}},{key:"toDERHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=sliceDER(numberToHexUnpadded(this.s));if(e)return t;var r=sliceDER(numberToHexUnpadded(this.r)),n=numberToHexUnpadded(r.length/2),i=numberToHexUnpadded(t.length/2),o=numberToHexUnpadded(r.length/2+t.length/2+4);return"30".concat(o,"02").concat(n).concat(r,"02").concat(i).concat(t)}},{key:"toRawBytes",value:function(){return this.toDERRawBytes()}},{key:"toHex",value:function(){return this.toDERHex()}},{key:"toCompactRawBytes",value:function(){return hexToBytes(this.toCompactHex())}},{key:"toCompactHex",value:function(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}],[{key:"fromCompact",value:function(t){var r=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!r)throw new TypeError("".concat(n,": Expected string or Uint8Array"));var i=r?bytesToHex(t):t;if(128!==i.length)throw new Error("".concat(n,": Expected 64-byte hex"));return new e(hexToNumber(i.slice(0,64)),hexToNumber(i.slice(64,128)))}},{key:"fromDER",value:function(t){var r=t instanceof Uint8Array;if("string"!=typeof t&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");var n=parseDERSignature(r?t:hexToBytes(t));return new e(n.r,n.s)}},{key:"fromHex",value:function(e){return this.fromDER(e)}}]),e}();function concatBytes(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((function(e){return e instanceof Uint8Array})))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];for(var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),o=0,a=0;o<t.length;o++){var s=t[o];i.set(s,a),a+=s.length}return i}var hexes=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function bytesToHex(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t="",r=0;r<e.length;r++)t+=hexes[e[r]];return t}var POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(_0n<=e&&e<POW_2_256))throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function numTo32b(e){var t=hexToBytes(numTo32bStr(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function numberToHexUnpadded(e){var t=e.toString(16);return 1&t.length?"0".concat(t):t}function hexToNumber(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+_typeof$2(e));return BigInt("0x".concat(e))}function hexToBytes(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+_typeof$2(e));if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);for(var t=new Uint8Array(e.length/2),r=0;r<t.length;r++){var n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function bytesToNumber(e){return hexToNumber(bytesToHex(e))}function ensureBytes(e){return e instanceof Uint8Array?Uint8Array.from(e):hexToBytes(e)}function normalizeScalar(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&isWithinCurveOrder(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CURVE.P,r=e%t;return r>=_0n?r:t+r}function pow2(e,t){for(var r=CURVE.P,n=e;t-- >_0n;)n*=n,n%=r;return n}function sqrtMod(e){var t=CURVE.P,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),u=e*e*e%t,c=u*u*e%t,l=pow2(c,_3n)*c%t,f=pow2(l,_3n)*c%t,h=pow2(f,_2n)*u%t,d=pow2(h,n)*h%t,p=pow2(d,i)*d%t,y=pow2(p,a)*p%t,m=pow2(y,s)*y%t,v=pow2(m,a)*p%t,g=pow2(v,_3n)*c%t,b=pow2(g,o)*d%t,w=pow2(b,r)*u%t;return pow2(w,_2n)}function invert(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CURVE.P;if(e===_0n||t<=_0n)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));for(var r=mod(e,t),n=t,i=_0n,o=_1n;r!==_0n;){var a=n/r,s=n%r,u=i-o*a;n=r,r=s,i=o,o=u}var c=n;if(c!==_1n)throw new Error("invert: does not exist");return mod(i,t)}function invertBatch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CURVE.P,r=new Array(e.length),n=e.reduce((function(e,n,i){return n===_0n?e:(r[i]=e,mod(e*n,t))}),_1n),i=invert(n,t);return e.reduceRight((function(e,n,i){return n===_0n?e:(r[i]=mod(e*r[i],t),mod(e*n,t))}),i),r}var divNearest=function(e,t){return(e+t/_2n)/t},ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")},_sha256Sync,_hmacSha256Sync;function splitScalarEndo(e){var t=CURVE.n,r=ENDO.a1,n=ENDO.b1,i=ENDO.a2,o=ENDO.b2,a=ENDO.POW_2_128,s=divNearest(o*e,t),u=divNearest(-n*e,t),c=mod(e-s*r-u*i,t),l=mod(-s*n-u*o,t),f=c>a,h=l>a;if(f&&(c=t-c),h&&(l=t-l),c>a||l>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:h,k2:l}}function truncateHash(e){var t=CURVE.n,r=8*e.length-256,n=bytesToNumber(e);return r>0&&(n>>=BigInt(r)),n>=t&&(n-=t),n}function isWithinCurveOrder(e){return _0n<e&&e<CURVE.n}function isValidFieldElement(e){return _0n<e&&e<CURVE.P}function normalizePrivateKey(e){var t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=hexToNumber(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=bytesToNumber(e)}if(!isWithinCurveOrder(t))throw new Error("Expected private key: 0 < key < n");return t}function normalizeSignature(e){if(e instanceof Signature$4)return e.assertValidity(),e;try{return Signature$4.fromDER(e)}catch(t){return Signature$4.fromCompact(e)}}Point$3.BASE._setWindowSize(8);var crypto$3={node:nodeCrypto$1,web:"object"===("undefined"==typeof self?"undefined":_typeof$2(self))&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$M={bytesToHex:bytesToHex,hexToBytes:hexToBytes,concatBytes:concatBytes,mod:mod,invert:invert,isValidPrivateKey:function(e){try{return normalizePrivateKey(e),!0}catch(e){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:function(e){if((e=ensureBytes(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return numTo32b(mod(bytesToNumber(e),CURVE.n-_1n)+_1n)},randomBytes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(crypto$3.web)return crypto$3.web.getRandomValues(new Uint8Array(e));if(crypto$3.node){var t=crypto$3.node.randomBytes;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:function(){return utils$M.hashToPrivateKey(utils$M.randomBytes(40))},sha256:(_sha=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i,o,a,s=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,r=new Array(t),n=0;n<t;n++)r[n]=s[n];if(!crypto$3.web){e.next=8;break}return e.next=4,crypto$3.web.subtle.digest("SHA-256",concatBytes.apply(void 0,r));case 4:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 8:if(!crypto$3.node){e.next=15;break}return o=crypto$3.node.createHash,a=o("sha256"),r.forEach((function(e){return a.update(e)})),e.abrupt("return",Uint8Array.from(a.digest()));case 15:throw new Error("The environment doesn't have sha256 function");case 16:case"end":return e.stop()}}),e)}))),function(){return _sha.apply(this,arguments)}),hmacSha256:(_hmacSha=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=l.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=l[i];if(!crypto$3.web){e.next=12;break}return e.next=4,crypto$3.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);case 4:return o=e.sent,a=concatBytes.apply(void 0,n),e.next=8,crypto$3.web.subtle.sign("HMAC",o,a);case 8:return s=e.sent,e.abrupt("return",new Uint8Array(s));case 12:if(!crypto$3.node){e.next=19;break}return u=crypto$3.node.createHmac,c=u("sha256",t),n.forEach((function(e){return c.update(e)})),e.abrupt("return",Uint8Array.from(c.digest()));case 19:throw new Error("The environment doesn't have hmac-sha256 function");case 20:case"end":return e.stop()}}),e)}))),function(e){return _hmacSha.apply(this,arguments)}),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:(_taggedHash=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=TAGGED_HASH_PREFIXES[t])){e.next=7;break}return e.next=4,utils$M.sha256(Uint8Array.from(t,(function(e){return e.charCodeAt(0)})));case 4:n=e.sent,r=concatBytes(n,n),TAGGED_HASH_PREFIXES[t]=r;case 7:for(i=s.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=s[a];return e.abrupt("return",utils$M.sha256.apply(utils$M,[r].concat(o)));case 9:case"end":return e.stop()}}),e)}))),function(e){return _taggedHash.apply(this,arguments)}),taggedHashSync:function(e){if("function"!=typeof _sha256Sync)throw new ShaError("sha256Sync is undefined, you need to set it");var t=TAGGED_HASH_PREFIXES[e];if(void 0===t){var r=_sha256Sync(Uint8Array.from(e,(function(e){return e.charCodeAt(0)})));t=concatBytes(r,r),TAGGED_HASH_PREFIXES[e]=t}for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return _sha256Sync.apply(void 0,[t].concat(i))},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Point$3.BASE,r=t===Point$3.BASE?t:new Point$3(t.x,t.y);return r._setWindowSize(e),r.multiply(_3n),r}},_taggedHash,_hmacSha,_sha,ChatPermission;Object.defineProperties(utils$M,{sha256Sync:{configurable:!1,get:function(){return _sha256Sync},set:function(e){_sha256Sync||(_sha256Sync=e)}},hmacSha256Sync:{configurable:!1,get:function(){return _hmacSha256Sync},set:function(e){_hmacSha256Sync||(_hmacSha256Sync=e)}}}),function(e){e.ALL="all",e.TIPPERS="tippers",e.FOLLOWEES="followees",e.NONE="none"}(ChatPermission||(ChatPermission={}));var ChatListenRequestSchema=z.optional(z.object({currentUserId:z.optional(z.string())})),ChatGetAllRequestSchema=z.object({currentUserId:z.optional(z.string()),limit:z.optional(z.number()),before:z.optional(z.string()),after:z.optional(z.string())}),ChatGetRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string()}),ChatGetMessagesRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string(),limit:z.optional(z.number()),before:z.optional(z.string()),after:z.optional(z.string())}),ChatGetUnreadCountRequestSchema=z.optional(z.object({currentUserId:z.optional(z.string())})),ChatGetBlockersRequestSchema=z.optional(z.object({currentUserId:z.optional(z.string())})),ChatCreateRequestSchema=z.object({currentUserId:z.optional(z.string()),userId:z.string(),invitedUserIds:z.array(z.string()).min(1)}),ChatInviteRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string(),userId:z.string(),invitedUserIds:z.array(z.string()).min(1)}),ChatMessageRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string(),messageId:z.optional(z.string()),message:z.string()}),ChatReactRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string(),messageId:z.string(),reaction:z.nullable(z.string())}),ChatReadRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string()}),ChatBlockRequestSchema=z.object({currentUserId:z.optional(z.string()),userId:z.string()}),ChatDeleteRequestSchema=z.object({currentUserId:z.optional(z.string()),chatId:z.string()}),ChatPermitRequestSchema=z.object({currentUserId:z.optional(z.string()),permit:z.nativeEnum(ChatPermission)});z.object({currentUserId:z.optional(z.string()),userIds:z.array(z.string()).min(1)});var ChatGetPermissionRequestSchema=z.object({currentUserId:z.optional(z.string()),userIds:z.array(z.string()).min(1)}),ChatUnfurlRequestSchema=z.object({urls:z.array(z.string()).min(1)}),ws=null;"undefined"!=typeof WebSocket?ws=WebSocket:"undefined"!=typeof MozWebSocket?ws=MozWebSocket:void 0!==global$1?ws=global$1.WebSocket||global$1.MozWebSocket:"undefined"!=typeof window?ws=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(ws=self.WebSocket||self.MozWebSocket);var WebSocket$1=ws;function ownKeys$g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$g(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$k(e){var t=_isNativeReflectConstruct$k();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var GENERIC_MESSAGE_ERROR="Error: this message can not be displayed",ChatsApi=function(e){_inherits(I,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M=_createSuper$k(I);function I(e,t,r,n){var i;return _classCallCheck$1(this,I),_defineProperty$3(_assertThisInitialized(i=M.call(this,e)),"auth",void 0),_defineProperty$3(_assertThisInitialized(i),"discoveryNodeSelectorService",void 0),_defineProperty$3(_assertThisInitialized(i),"logger",void 0),_defineProperty$3(_assertThisInitialized(i),"chatSecrets",{}),_defineProperty$3(_assertThisInitialized(i),"eventEmitter",void 0),_defineProperty$3(_assertThisInitialized(i),"websocket",void 0),_defineProperty$3(_assertThisInitialized(i),"listenUserId",void 0),_defineProperty$3(_assertThisInitialized(i),"addEventListener",void 0),_defineProperty$3(_assertThisInitialized(i),"removeEventListener",void 0),i.auth=t,i.discoveryNodeSelectorService=r,i.logger=n,i.eventEmitter=new EventEmitter$2,i.addEventListener=i.eventEmitter.addListener.bind(i.eventEmitter),i.removeEventListener=i.eventEmitter.removeListener.bind(i.eventEmitter),i.discoveryNodeSelectorService.addEventListener("change",(function(e){i.websocket&&(i.websocket.close(),i.createWebsocket(e).then((function(e){i.websocket=e})))})),i.logger=n.createPrefixedLogger("[chats-api]"),i}return _createClass$1(I,[{key:"listen",value:(T=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("listen",ChatListenRequestSchema)(t);case 2:return r=e.sent,this.listenUserId=null==r?void 0:r.currentUserId,e.next=6,this.discoveryNodeSelectorService.getSelectedEndpoint();case 6:if(!(n=e.sent)){e.next=13;break}return e.next=10,this.createWebsocket(n);case 10:this.websocket=e.sent,e.next=14;break;case 13:throw new Error("No services available to listen to");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"get",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("get",ChatGetRequestSchema)(t);case 2:return r=e.sent,n=r.chatId,i=r.currentUserId,e.next=7,this.getRaw(n,i);case 7:if(o=e.sent,e.t0=_objectSpread$g,e.t1=_objectSpread$g({},o),e.t2={},!o.data){e.next=17;break}return e.next=14,this.decryptLastChatMessage(o.data);case 14:e.t3=e.sent,e.next=18;break;case 17:e.t3=o.data;case 18:return e.t4=e.t3,e.t5={data:e.t4},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t5));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:(E=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("getAll",ChatGetAllRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.limit,o=r.before,a=r.after,s={timestamp:(new Date).getTime()},i&&(s.limit=i),o&&(s.before=o),a&&(s.after=a),n&&(s.current_user_id=n),e.next=15,this.signAndSendRequest({method:"GET",headers:{},path:"/comms/chats",query:s});case 15:return u=e.sent,e.next=18,u.json();case 18:return c=e.sent,e.next=21,Promise.all(c.data.map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.decryptLastChatMessage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 21:return l=e.sent,e.abrupt("return",_objectSpread$g(_objectSpread$g({},c),{},{data:l}));case 23:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"getMessages",value:(A=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,h,d,p=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("getMessages",ChatGetMessagesRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,o=r.limit,a=r.before,s=r.after,e.prev=8,e.next=11,this.getChatSecret(i);case 11:u=e.sent,e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),this.logger.error("[audius-sdk] Couldn't get chat secret",e.t0),new Error("[audius-sdk] Couldn't get chat secret");case 18:return c="/comms/chats/".concat(i,"/messages"),l={timestamp:(new Date).getTime()},o&&(l.limit=o),a&&(l.before=a),s&&(l.after=s),n&&(l.current_user_id=n),e.next=26,this.signAndSendRequest({method:"GET",headers:{},path:c,query:l});case 26:return f=e.sent,e.next=29,f.json();case 29:return h=e.sent,e.next=32,Promise.all(h.data.map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_objectSpread$g,e.t1=_objectSpread$g({},t),e.t2={},e.next=5,p.decryptString(u,base64$4.decode(t.message)).catch((function(e){return p.logger.error("[audius-sdk]: Error: Couldn't decrypt chat message",t,e),GENERIC_MESSAGE_ERROR}));case 5:return e.t3=e.sent,e.t4={message:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 32:return d=e.sent,e.abrupt("return",_objectSpread$g(_objectSpread$g({},h),{},{data:d}));case 34:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e){return A.apply(this,arguments)})},{key:"getUnreadCount",value:(k=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("getUnreadCount",ChatGetUnreadCountRequestSchema)(t);case 2:return r=e.sent,n={timestamp:(new Date).getTime()},null!=r&&r.currentUserId&&(n.current_user_id=r.currentUserId),e.next=7,this.signAndSendRequest({method:"GET",path:"/comms/chats/unread",headers:{},query:n});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"getPermissions",value:(S=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={timestamp:(new Date).getTime()},e.next=3,parseParams("getPermissions",ChatGetPermissionRequestSchema)(t);case 3:return n=e.sent,i=n.userIds,o=n.currentUserId,r.id=i,o&&(r.current_user_id=o),e.next=10,this.signAndSendRequest({method:"GET",path:"/comms/chats/permissions",headers:{},query:r});case 10:return a=e.sent,e.next=13,a.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"getBlockers",value:(x=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("getBlockers",ChatGetBlockersRequestSchema)(t);case 2:return r=e.sent,n={timestamp:(new Date).getTime()},null!=r&&r.currentUserId&&(n.current_user_id=r.currentUserId),e.next=7,this.signAndSendRequest({method:"GET",path:"/comms/chats/blockers",headers:{},query:n});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"getBlockees",value:($=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("getBlockees",ChatGetBlockersRequestSchema)(t);case 2:return r=e.sent,n={timestamp:(new Date).getTime()},null!=r&&r.currentUserId&&(n.current_user_id=r.currentUserId),e.next=7,this.signAndSendRequest({method:"GET",path:"/comms/chats/blockees",headers:{},query:n});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return $.apply(this,arguments)})},{key:"unfurl",value:(_=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unfurl",ChatUnfurlRequestSchema)(t);case 2:return r=e.sent,n=r.urls,i={content:n},e.next=7,this.request({method:"GET",path:"/comms/unfurl",query:i,headers:{}});case 7:return o=e.sent,e.next=10,o.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"create",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("create",ChatCreateRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.userId,o=r.invitedUserIds,a=[i].concat(_toConsumableArray(o)).sort().join(":"),s=utils$M.randomPrivateKey(),e.next=10,this.createInvites(i,o,s);case 10:return u=e.sent,e.next=13,this.sendRpc({current_user_id:n,method:"chat.create",params:{chat_id:a,invites:u}});case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"invite",value:(w=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("invite",ChatInviteRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,o=r.userId,a=r.invitedUserIds,e.next=9,this.getChatSecret(i);case 9:return s=e.sent,e.next=12,this.createInvites(o,a,s);case 12:return u=e.sent,e.next=15,this.sendRpc({current_user_id:n,method:"chat.invite",params:{chat_id:i,invites:u}});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"message",value:(b=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("message",ChatMessageRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,o=r.message,a=r.messageId,e.next=9,this.getChatSecret(i);case 9:return s=e.sent,e.next=12,this.encryptString(s,o);case 12:return u=e.sent,c=base64$4.encode(u),e.next=16,this.sendRpc({current_user_id:n,method:"chat.message",params:{chat_id:i,message_id:null!=a?a:ulid(),message:c}});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"react",value:(g=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("react",ChatReactRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,o=r.messageId,a=r.reaction,e.next=9,this.sendRpc({current_user_id:n,method:"chat.react",params:{chat_id:i,message_id:o,reaction:a}});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"read",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("read",ChatReadRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,e.next=7,this.sendRpc({current_user_id:n,method:"chat.read",params:{chat_id:i}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"block",value:(v=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("block",ChatBlockRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.userId,e.next=7,this.sendRpc({current_user_id:n,method:"chat.block",params:{user_id:i}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"unblock",value:(m=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("unblock",ChatBlockRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.userId,e.next=7,this.sendRpc({current_user_id:n,method:"chat.unblock",params:{user_id:i}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"delete",value:(y=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("delete",ChatDeleteRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.chatId,e.next=7,this.sendRpc({current_user_id:n,method:"chat.delete",params:{chat_id:i}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"permit",value:(p=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parseParams("permit",ChatPermitRequestSchema)(t);case 2:return r=e.sent,n=r.currentUserId,i=r.permit,e.next=7,this.sendRpc({current_user_id:n,method:"chat.permit",params:{permit:i}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"createInvites",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPublicKey(t);case 2:return i=e.sent,e.next=5,Promise.all([t].concat(_toConsumableArray(r)).map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getPublicKey(t);case 2:return r=e.sent,e.next=5,o.createInviteCode(i,r,n);case 5:return a=e.sent,e.abrupt("return",{user_id:t,invite_code:base64$4.encode(a)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return d.apply(this,arguments)})},{key:"createInviteCode",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.getSharedSecret(r);case 2:return i=e.sent,e.next=5,this.encrypt(i,n);case 5:return o=e.sent,(a=new Uint8Array(65+o.length)).set(t),a.set(o,65),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"readInviteCode",value:(f=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slice(0,65),n=t.slice(65),e.next=4,this.auth.getSharedSecret(r);case 4:return i=e.sent,e.next=7,this.decrypt(i,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"encrypt",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,encrypt(t.slice(t.length-32),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"encryptString",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.encrypt(t,(new TextEncoder).encode(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"decrypt",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,decrypt(t.slice(t.length-32),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"decryptString",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=new TextDecoder,e.next=3,this.decrypt(t,r);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.decode.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"decryptLastChatMessage",value:(u=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.prev=1,e.next=4,this.getChatSecret(t.chat_id);case 4:if(n=e.sent,!(t.last_message&&t.last_message.length>0)){e.next=9;break}return e.next=8,this.decryptString(n,base64$4.decode(t.last_message));case 8:r=e.sent;case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),this.logger.error("[audius-sdk]: Error: Couldn't decrypt last chat message",t,e.t0),r=GENERIC_MESSAGE_ERROR;case 15:return e.abrupt("return",_objectSpread$g(_objectSpread$g({},t),{},{last_message:r}));case 16:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e){return u.apply(this,arguments)})},{key:"getRaw",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/comms/chats/".concat(t),i={timestamp:(new Date).getTime()},r&&(i.current_user_id=r),e.next=5,this.signAndSendRequest({method:"GET",headers:{},path:n,query:i});case 5:return o=e.sent,e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getChatSecret",value:(a=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.chatSecrets[t]){e.next=10;break}return e.next=4,this.getRaw(t);case 4:return n=e.sent,e.next=7,this.readInviteCode(base64$4.decode(n.data.invite_code));case 7:return i=e.sent,this.chatSecrets[t]=i,e.abrupt("return",i);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getPublicKey",value:(o=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({path:"/comms/pubkey/".concat(t),method:"GET",headers:{}});case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",base64$4.decode(n.data));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getSignatureHeader",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.sign(t);case 2:return r=e.sent,n=_slicedToArray(r,2),i=n[0],o=n[1],(a=new Uint8Array(65)).set(i,0),a[64]=o,e.abrupt("return",{"x-sig":base64$4.encode(a)});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"signAndSendRequest",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="GET"===t.method?t.query?"".concat(t.path,"?").concat(this.configuration.queryParamsStringify(t.query)):t.path:t.body,e.t0=this,e.t1=_objectSpread$g,e.t2=_objectSpread$g({},t),e.t3={},e.t4=_objectSpread$g,e.t5=_objectSpread$g({},t.headers),e.next=9,this.getSignatureHeader(r);case 9:return e.t6=e.sent,e.t7=(0,e.t4)(e.t5,e.t6),e.t8={headers:e.t7},e.t9=(0,e.t1)(e.t2,e.t3,e.t8),e.next=15,e.t0.request.call(e.t0,e.t9);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"sendRpc",value:(r=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(_objectSpread$g(_objectSpread$g({},t),{},{timestamp:(new Date).getTime()})),e.next=3,this.signAndSendRequest({method:"POST",headers:{"Content-Type":"application/json"},path:"/comms/mutate",body:r});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"createWebsocket",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),n="/comms/chats/ws?timestamp=".concat(r),this.listenUserId&&(n="".concat(n,"&current_user_id=").concat(this.listenUserId)),e.next=5,this.getSignatureHeader(n);case 5:return i=e.sent,o=t.replace(/http(s?)/g,"ws$1"),a="".concat(o).concat(n,"&signature=").concat(encodeURIComponent(i["x-sig"])),(s=new WebSocket$1(a)).addEventListener("message",(function(e){var t=function(){var t=_asyncToGenerator(regenerator.mark((function t(){var r,n;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("chat.message"!==(r=JSON.parse(e.data)).rpc.method){t.next=19;break}return t.next=4,u.getChatSecret(r.rpc.params.chat_id);case 4:return n=t.sent,t.t0=u.eventEmitter,t.t1=r.rpc.params.chat_id,t.t2=r.rpc.params.message_id,t.next=10,u.decryptString(n,base64$4.decode(r.rpc.params.message)).catch((function(e){return u.logger.error("[audius-sdk]: Error: Couldn't decrypt websocket chat message",r,e),GENERIC_MESSAGE_ERROR}));case 10:t.t3=t.sent,t.t4=r.metadata.userId,t.t5=r.metadata.timestamp,t.t6=[],t.t7={message_id:t.t2,message:t.t3,sender_user_id:t.t4,created_at:t.t5,reactions:t.t6},t.t8={chatId:t.t1,message:t.t7},t.t0.emit.call(t.t0,"message",t.t8),t.next=20;break;case 19:"chat.react"===r.rpc.method&&u.eventEmitter.emit("reaction",{chatId:r.rpc.params.chat_id,messageId:r.rpc.params.message_id,reaction:{reaction:r.rpc.params.reaction,user_id:r.metadata.userId,created_at:r.metadata.timestamp}});case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()})),s.addEventListener("open",(function(){u.eventEmitter.emit("open")})),s.addEventListener("close",(function(){u.eventEmitter.emit("close")})),s.addEventListener("error",(function(e){u.eventEmitter.emit("error",e)})),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),I}(BaseAPI$1);function _createSuper$j(e){var t=_isNativeReflectConstruct$j();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ownKeys$f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$f(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createForOfIteratorHelper$c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$c(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$c(e,t):void 0}}function _arrayLikeToArray$c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BASE_PATH="/v1/full".replace(/\/+$/,""),Configuration=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck$1(this,e),_defineProperty$3(this,"configuration",void 0),this.configuration=t}return _createClass$1(e,[{key:"config",set:function(e){this.configuration=e}},{key:"basePath",get:function(){return null!=this.configuration.basePath?this.configuration.basePath:BASE_PATH}},{key:"fetchApi",get:function(){return this.configuration.fetchApi}},{key:"middleware",get:function(){return this.configuration.middleware||[]}},{key:"queryParamsStringify",get:function(){return this.configuration.queryParamsStringify||querystring}},{key:"username",get:function(){return this.configuration.username}},{key:"password",get:function(){return this.configuration.password}},{key:"apiKey",get:function(){var e=this.configuration.apiKey;if(e)return"function"==typeof e?e:function(){return e}}},{key:"accessToken",get:function(){var e=this.configuration.accessToken;if(e)return"function"==typeof e?e:_asyncToGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))}},{key:"headers",get:function(){return this.configuration.headers}},{key:"credentials",get:function(){return this.configuration.credentials}}]),e}(),DefaultConfig=new Configuration,BaseAPI=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DefaultConfig;_classCallCheck$1(this,e),_defineProperty$3(this,"configuration",void 0),_defineProperty$3(this,"middleware",void 0),_defineProperty$3(this,"fetchApi",function(){var e=_asyncToGenerator(regenerator.mark((function e(r,n){var i,o,a,s,u,c,l,f,h,d,p;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={url:r,init:n},o=_createForOfIteratorHelper$c(t.middleware),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=15;break}if(!(s=a.value).pre){e.next=13;break}return e.next=9,s.pre(_objectSpread$f({fetch:t.fetchApi},i));case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=i;case 12:i=e.t0;case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return u=void 0,e.prev=24,e.next=27,(t.configuration.fetchApi||fetch)(i.url,i.init);case 27:u=e.sent,e.next=60;break;case 30:e.prev=30,e.t2=e.catch(24),c=_createForOfIteratorHelper$c(t.middleware),e.prev=33,c.s();case 35:if((l=c.n()).done){e.next=46;break}if(!(f=l.value).onError){e.next=44;break}return e.next=40,f.onError({fetch:t.fetchApi,url:i.url,init:i.init,error:e.t2,response:u?u.clone():void 0});case 40:if(e.t3=e.sent,e.t3){e.next=43;break}e.t3=u;case 43:u=e.t3;case 44:e.next=35;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(33),c.e(e.t4);case 51:return e.prev=51,c.f(),e.finish(51);case 54:if(void 0!==u){e.next=60;break}if(!(e.t2 instanceof Error)){e.next=59;break}throw new FetchError(e.t2,"The request failed and the interceptors did not return an alternative response");case 59:throw e.t2;case 60:h=_createForOfIteratorHelper$c(t.middleware),e.prev=61,h.s();case 63:if((d=h.n()).done){e.next=74;break}if(!(p=d.value).post){e.next=72;break}return e.next=68,p.post({fetch:t.fetchApi,url:i.url,init:i.init,response:u.clone()});case 68:if(e.t5=e.sent,e.t5){e.next=71;break}e.t5=u;case 71:u=e.t5;case 72:e.next=63;break;case 74:e.next=79;break;case 76:e.prev=76,e.t6=e.catch(61),h.e(e.t6);case 79:return e.prev=79,h.f(),e.finish(79);case 82:return e.abrupt("return",u);case 83:case"end":return e.stop()}}),e,null,[[2,17,20,23],[24,30],[33,48,51,54],[61,76,79,82]])})));return function(t,r){return e.apply(this,arguments)}}()),this.configuration=r,this.middleware=r.middleware}var t,r;return _createClass$1(e,[{key:"withMiddleware",value:function(){var e,t=this.clone();return t.middleware=(e=t.middleware).concat.apply(e,arguments),t}},{key:"withPreMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{pre:e}}));return this.withMiddleware.apply(this,_toConsumableArray(n))}},{key:"withPostMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{post:e}}));return this.withMiddleware.apply(this,_toConsumableArray(n))}},{key:"request",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createFetchParams(t,r);case 2:return n=e.sent,i=n.url,o=n.init,e.next=7,this.fetchApi(i,o);case 7:if(!((a=e.sent)&&a.status>=200&&a.status<300)){e.next=10;break}return e.abrupt("return",a);case 10:throw new ResponseError(a,"Response returned an error code");case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"createFetchParams",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.configuration.basePath+t.path,void 0!==t.query&&0!==Object.keys(t.query).length&&(n+="?"+this.configuration.queryParamsStringify(t.query)),i=Object.assign({},this.configuration.headers,t.headers),Object.keys(i).forEach((function(e){return void 0===i[e]?delete i[e]:{}})),o="function"==typeof r?r:_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)}))),a={method:t.method,headers:i,body:t.body,credentials:this.configuration.credentials},e.t0=_objectSpread$f,e.t1=_objectSpread$f({},a),e.next=10,o({init:a,context:t});case 10:return e.t2=e.sent,s=(0,e.t0)(e.t1,e.t2),u=_objectSpread$f(_objectSpread$f({},s),{},{body:isFormData$1(s.body)||s.body instanceof URLSearchParams||isBlob$1(s.body)||isString$1(s.body)?s.body:JSON.stringify(s.body)}),e.abrupt("return",{url:n,init:u});case 14:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"clone",value:function(){var e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}]),e}();function isBlob$1(e){return"undefined"!=typeof Blob&&e instanceof Blob}function isFormData$1(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isString$1(e){return"string"==typeof e}var ResponseError=function(e){_inherits(r,e);var t=_createSuper$j(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"response",void 0),_defineProperty$3(_assertThisInitialized(i),"name","ResponseError"),i.response=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),FetchError=function(e){_inherits(r,e);var t=_createSuper$j(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"cause",void 0),_defineProperty$3(_assertThisInitialized(i),"name","FetchError"),i.cause=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),RequiredError=function(e){_inherits(r,e);var t=_createSuper$j(r);function r(e,n){var i;return _classCallCheck$1(this,r),_defineProperty$3(_assertThisInitialized(i=t.call(this,n)),"field",void 0),_defineProperty$3(_assertThisInitialized(i),"name","RequiredError"),i.field=e,i}return _createClass$1(r)}(_wrapNativeSuper(Error)),COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};function exists$1(e,t){var r=e[t];return null!=r}function querystring(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).sort().map((function(r){return querystringSingleKey(r,e[r],t)})).filter((function(e){return e.length>0})).join("&")}function querystringSingleKey(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=r+(r.length?"[".concat(e,"]"):e);if(t instanceof Array){var i=t.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(n),"="));return"".concat(encodeURIComponent(n),"=").concat(i)}if(t instanceof Set){var o=Array.from(t);return querystringSingleKey(e,o,r)}return t instanceof Date?"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t.toISOString())):t instanceof Object?querystring(t,n):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(String(t)))}var JSONApiResponse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};_classCallCheck$1(this,e),_defineProperty$3(this,"raw",void 0),_defineProperty$3(this,"transformer",void 0),this.raw=t,this.transformer=r}var t;return _createClass$1(e,[{key:"value",value:(t=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.raw.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.transformer.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),VoidApiResponse=function(){function e(t){_classCallCheck$1(this,e),_defineProperty$3(this,"raw",void 0),this.raw=t}var t;return _createClass$1(e,[{key:"value",value:(t=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function ActivityFullFromJSON(e){return ActivityFullFromJSONTyped(e)}function ActivityFullFromJSONTyped(e,t){return null==e?e:{timestamp:exists$1(e,"timestamp")?e.timestamp:void 0,itemType:exists$1(e,"item_type")?e.item_type:void 0,item:exists$1(e,"item")?e.item:void 0}}function FavoriteFromJSON(e){return FavoriteFromJSONTyped(e)}function FavoriteFromJSONTyped(e,t){return null==e?e:{favoriteItemId:e.favorite_item_id,favoriteType:e.favorite_type,userId:e.user_id,createdAt:e.created_at}}function PlaylistAddedTimestampFromJSON(e){return PlaylistAddedTimestampFromJSONTyped(e)}function PlaylistAddedTimestampFromJSONTyped(e,t){return null==e?e:{metadataTimestamp:e.metadata_timestamp,timestamp:e.timestamp,trackId:e.track_id}}function PlaylistArtworkFromJSON(e){return PlaylistArtworkFromJSONTyped(e)}function PlaylistArtworkFromJSONTyped(e,t){return null==e?e:{_150x150:exists$1(e,"150x150")?e["150x150"]:void 0,_480x480:exists$1(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$1(e,"1000x1000")?e["1000x1000"]:void 0}}function RepostFromJSON(e){return RepostFromJSONTyped(e)}function RepostFromJSONTyped(e,t){return null==e?e:{repostItemId:e.repost_item_id,repostType:e.repost_type,userId:e.user_id}}function CoverArtFromJSON(e){return CoverArtFromJSONTyped(e)}function CoverArtFromJSONTyped(e,t){return null==e?e:{_150x150:exists$1(e,"150x150")?e["150x150"]:void 0,_480x480:exists$1(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$1(e,"1000x1000")?e["1000x1000"]:void 0}}function DownloadMetadataFromJSON(e){return DownloadMetadataFromJSONTyped(e)}function DownloadMetadataFromJSONTyped(e,t){return null==e?e:{cid:exists$1(e,"cid")?e.cid:void 0,isDownloadable:e.is_downloadable,requiresFollow:e.requires_follow}}function FieldVisibilityFromJSON(e){return FieldVisibilityFromJSONTyped(e)}function FieldVisibilityFromJSONTyped(e,t){return null==e?e:{mood:exists$1(e,"mood")?e.mood:void 0,tags:exists$1(e,"tags")?e.tags:void 0,genre:exists$1(e,"genre")?e.genre:void 0,share:exists$1(e,"share")?e.share:void 0,playCount:exists$1(e,"play_count")?e.play_count:void 0,remixes:exists$1(e,"remixes")?e.remixes:void 0}}function CoverPhotoFromJSON(e){return CoverPhotoFromJSONTyped(e)}function CoverPhotoFromJSONTyped(e,t){return null==e?e:{_640x:exists$1(e,"640x")?e["640x"]:void 0,_2000x:exists$1(e,"2000x")?e["2000x"]:void 0}}function PlaylistLibraryFromJSON(e){return PlaylistLibraryFromJSONTyped(e)}function PlaylistLibraryFromJSONTyped(e,t){return null==e?e:{contents:exists$1(e,"contents")?e.contents:void 0}}function ProfilePictureFromJSON(e){return ProfilePictureFromJSONTyped(e)}function ProfilePictureFromJSONTyped(e,t){return null==e?e:{_150x150:exists$1(e,"150x150")?e["150x150"]:void 0,_480x480:exists$1(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$1(e,"1000x1000")?e["1000x1000"]:void 0}}function UserFullFromJSON(e){return UserFullFromJSONTyped(e)}function UserFullFromJSONTyped(e,t){return null==e?e:{albumCount:e.album_count,artistPickTrackId:exists$1(e,"artist_pick_track_id")?e.artist_pick_track_id:void 0,bio:exists$1(e,"bio")?e.bio:void 0,coverPhoto:exists$1(e,"cover_photo")?CoverPhotoFromJSON(e.cover_photo):void 0,followeeCount:e.followee_count,followerCount:e.follower_count,doesFollowCurrentUser:exists$1(e,"does_follow_current_user")?e.does_follow_current_user:void 0,handle:e.handle,id:e.id,isVerified:e.is_verified,location:exists$1(e,"location")?e.location:void 0,name:e.name,playlistCount:e.playlist_count,profilePicture:exists$1(e,"profile_picture")?ProfilePictureFromJSON(e.profile_picture):void 0,repostCount:e.repost_count,trackCount:e.track_count,isDeactivated:e.is_deactivated,isAvailable:e.is_available,ercWallet:e.erc_wallet,splWallet:e.spl_wallet,supporterCount:e.supporter_count,supportingCount:e.supporting_count,totalAudioBalance:e.total_audio_balance,balance:e.balance,associatedWalletsBalance:e.associated_wallets_balance,totalBalance:e.total_balance,waudioBalance:e.waudio_balance,associatedSolWalletsBalance:e.associated_sol_wallets_balance,blocknumber:e.blocknumber,wallet:e.wallet,createdAt:e.created_at,isStorageV2:e.is_storage_v2,creatorNodeEndpoint:exists$1(e,"creator_node_endpoint")?e.creator_node_endpoint:void 0,currentUserFolloweeFollowCount:e.current_user_followee_follow_count,doesCurrentUserFollow:e.does_current_user_follow,handleLc:e.handle_lc,updatedAt:e.updated_at,coverPhotoSizes:exists$1(e,"cover_photo_sizes")?e.cover_photo_sizes:void 0,coverPhotoCids:exists$1(e,"cover_photo_cids")?CoverPhotoFromJSON(e.cover_photo_cids):void 0,coverPhotoLegacy:exists$1(e,"cover_photo_legacy")?e.cover_photo_legacy:void 0,profilePictureSizes:exists$1(e,"profile_picture_sizes")?e.profile_picture_sizes:void 0,profilePictureCids:exists$1(e,"profile_picture_cids")?ProfilePictureFromJSON(e.profile_picture_cids):void 0,profilePictureLegacy:exists$1(e,"profile_picture_legacy")?e.profile_picture_legacy:void 0,metadataMultihash:exists$1(e,"metadata_multihash")?e.metadata_multihash:void 0,hasCollectibles:e.has_collectibles,playlistLibrary:exists$1(e,"playlist_library")?PlaylistLibraryFromJSON(e.playlist_library):void 0,allowAiAttribution:e.allow_ai_attribution}}function FullRemixFromJSON(e){return FullRemixFromJSONTyped(e)}function FullRemixFromJSONTyped(e,t){return null==e?e:{parentTrackId:e.parent_track_id,user:UserFullFromJSON(e.user),hasRemixAuthorReposted:e.has_remix_author_reposted,hasRemixAuthorSaved:e.has_remix_author_saved}}function FullRemixParentFromJSON(e){return FullRemixParentFromJSONTyped(e)}function FullRemixParentFromJSONTyped(e,t){return null==e?e:{tracks:exists$1(e,"tracks")?e.tracks.map(FullRemixFromJSON):void 0}}function PremiumContentSignatureFromJSON(e){return PremiumContentSignatureFromJSONTyped(e)}function PremiumContentSignatureFromJSONTyped(e,t){return null==e?e:{data:exists$1(e,"data")?e.data:void 0,signature:exists$1(e,"signature")?e.signature:void 0}}function StemParentFromJSON(e){return StemParentFromJSONTyped(e)}function StemParentFromJSONTyped(e,t){return null==e?e:{category:e.category,parentTrackId:e.parent_track_id}}function TrackArtworkFromJSON(e){return TrackArtworkFromJSONTyped(e)}function TrackArtworkFromJSONTyped(e,t){return null==e?e:{_150x150:exists$1(e,"150x150")?e["150x150"]:void 0,_480x480:exists$1(e,"480x480")?e["480x480"]:void 0,_1000x1000:exists$1(e,"1000x1000")?e["1000x1000"]:void 0}}function TrackSegmentFromJSON(e){return TrackSegmentFromJSONTyped(e)}function TrackSegmentFromJSONTyped(e,t){return null==e?e:{duration:e.duration,multihash:e.multihash}}function TrackFullFromJSON(e){return TrackFullFromJSONTyped(e)}function TrackFullFromJSONTyped(e,t){return null==e?e:{artwork:exists$1(e,"artwork")?TrackArtworkFromJSON(e.artwork):void 0,description:exists$1(e,"description")?e.description:void 0,genre:exists$1(e,"genre")?e.genre:void 0,id:e.id,trackCid:exists$1(e,"track_cid")?e.track_cid:void 0,previewCid:exists$1(e,"preview_cid")?e.preview_cid:void 0,mood:exists$1(e,"mood")?e.mood:void 0,releaseDate:exists$1(e,"release_date")?e.release_date:void 0,remixOf:exists$1(e,"remix_of")?FullRemixParentFromJSON(e.remix_of):void 0,repostCount:e.repost_count,favoriteCount:e.favorite_count,tags:exists$1(e,"tags")?e.tags:void 0,title:e.title,user:UserFullFromJSON(e.user),duration:e.duration,downloadable:exists$1(e,"downloadable")?e.downloadable:void 0,playCount:e.play_count,permalink:exists$1(e,"permalink")?e.permalink:void 0,isStreamable:exists$1(e,"is_streamable")?e.is_streamable:void 0,blocknumber:e.blocknumber,createDate:exists$1(e,"create_date")?e.create_date:void 0,coverArtSizes:exists$1(e,"cover_art_sizes")?e.cover_art_sizes:void 0,coverArtCids:exists$1(e,"cover_art_cids")?CoverArtFromJSON(e.cover_art_cids):void 0,createdAt:exists$1(e,"created_at")?e.created_at:void 0,creditsSplits:exists$1(e,"credits_splits")?e.credits_splits:void 0,download:exists$1(e,"download")?DownloadMetadataFromJSON(e.download):void 0,isrc:exists$1(e,"isrc")?e.isrc:void 0,license:exists$1(e,"license")?e.license:void 0,iswc:exists$1(e,"iswc")?e.iswc:void 0,fieldVisibility:exists$1(e,"field_visibility")?FieldVisibilityFromJSON(e.field_visibility):void 0,followeeReposts:e.followee_reposts.map(RepostFromJSON),hasCurrentUserReposted:e.has_current_user_reposted,isUnlisted:e.is_unlisted,hasCurrentUserSaved:e.has_current_user_saved,followeeFavorites:e.followee_favorites.map(FavoriteFromJSON),routeId:e.route_id,stemOf:exists$1(e,"stem_of")?StemParentFromJSON(e.stem_of):void 0,trackSegments:exists$1(e,"track_segments")?e.track_segments.map(TrackSegmentFromJSON):void 0,updatedAt:exists$1(e,"updated_at")?e.updated_at:void 0,userId:e.user_id,isDelete:exists$1(e,"is_delete")?e.is_delete:void 0,coverArt:exists$1(e,"cover_art")?e.cover_art:void 0,isAvailable:exists$1(e,"is_available")?e.is_available:void 0,isPremium:exists$1(e,"is_premium")?e.is_premium:void 0,premiumConditions:exists$1(e,"premium_conditions")?e.premium_conditions:void 0,premiumContentSignature:exists$1(e,"premium_content_signature")?PremiumContentSignatureFromJSON(e.premium_content_signature):void 0,aiAttributionUserId:exists$1(e,"ai_attribution_user_id")?e.ai_attribution_user_id:void 0,audioUploadId:exists$1(e,"audio_upload_id")?e.audio_upload_id:void 0,previewStartSeconds:exists$1(e,"preview_start_seconds")?e.preview_start_seconds:void 0}}function PlaylistFullWithoutTracksFromJSON(e){return PlaylistFullWithoutTracksFromJSONTyped(e)}function PlaylistFullWithoutTracksFromJSONTyped(e,t){return null==e?e:{artwork:exists$1(e,"artwork")?PlaylistArtworkFromJSON(e.artwork):void 0,description:exists$1(e,"description")?e.description:void 0,permalink:exists$1(e,"permalink")?e.permalink:void 0,id:e.id,isAlbum:e.is_album,isImageAutogenerated:e.is_image_autogenerated,playlistName:e.playlist_name,playlistContents:e.playlist_contents.map(PlaylistAddedTimestampFromJSON),repostCount:e.repost_count,favoriteCount:e.favorite_count,totalPlayCount:e.total_play_count,user:UserFullFromJSON(e.user),blocknumber:e.blocknumber,createdAt:exists$1(e,"created_at")?e.created_at:void 0,followeeReposts:e.followee_reposts.map(RepostFromJSON),followeeFavorites:e.followee_favorites.map(FavoriteFromJSON),hasCurrentUserReposted:e.has_current_user_reposted,hasCurrentUserSaved:e.has_current_user_saved,isDelete:e.is_delete,isPrivate:e.is_private,updatedAt:exists$1(e,"updated_at")?e.updated_at:void 0,addedTimestamps:e.added_timestamps.map(PlaylistAddedTimestampFromJSON),userId:e.user_id,tracks:exists$1(e,"tracks")?e.tracks.map(TrackFullFromJSON):void 0,coverArt:exists$1(e,"cover_art")?e.cover_art:void 0,coverArtSizes:exists$1(e,"cover_art_sizes")?e.cover_art_sizes:void 0,coverArtCids:exists$1(e,"cover_art_cids")?PlaylistArtworkFromJSON(e.cover_art_cids):void 0,trackCount:e.track_count}}function CollectionActivityFullFromJSON(e){return CollectionActivityFullFromJSONTyped(e)}function CollectionActivityFullFromJSONTyped(e,t){return null==e?e:{timestamp:exists$1(e,"timestamp")?e.timestamp:void 0,itemType:exists$1(e,"item_type")?e.item_type:void 0,item:exists$1(e,"item")?PlaylistFullWithoutTracksFromJSON(e.item):void 0}}function VersionMetadataFromJSON(e){return VersionMetadataFromJSONTyped(e)}function VersionMetadataFromJSONTyped(e,t){return null==e?e:{service:e.service,version:e.version}}function CollectionLibraryResponseFullFromJSON(e){return CollectionLibraryResponseFullFromJSONTyped(e)}function CollectionLibraryResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(CollectionActivityFullFromJSON):void 0}}function FollowingResponseFromJSON(e){return FollowingResponseFromJSONTyped(e)}function FollowingResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function FollowingResponseFullFromJSON(e){return FollowingResponseFullFromJSONTyped(e)}function FollowingResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function UserSubscribersFromJSON(e){return UserSubscribersFromJSONTyped(e)}function UserSubscribersFromJSONTyped(e,t){return null==e?e:{userId:e.user_id,subscriberIds:exists$1(e,"subscriber_ids")?e.subscriber_ids:void 0}}function FullBulkSubscribersResponseFromJSON(e){return FullBulkSubscribersResponseFromJSONTyped(e)}function FullBulkSubscribersResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserSubscribersFromJSON):void 0}}function FullFollowersResponseFromJSON(e){return FullFollowersResponseFromJSONTyped(e)}function FullFollowersResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function FullSupporterFromJSON(e){return FullSupporterFromJSONTyped(e)}function FullSupporterFromJSONTyped(e,t){return null==e?e:{rank:e.rank,amount:e.amount,sender:UserFullFromJSON(e.sender)}}function FullGetSupporterFromJSON(e){return FullGetSupporterFromJSONTyped(e)}function FullGetSupporterFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?FullSupporterFromJSON(e.data):void 0}}function FullGetSupportersFromJSON(e){return FullGetSupportersFromJSONTyped(e)}function FullGetSupportersFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(FullSupporterFromJSON):void 0}}function FullSupportingFromJSON(e){return FullSupportingFromJSONTyped(e)}function FullSupportingFromJSONTyped(e,t){return null==e?e:{rank:e.rank,amount:e.amount,receiver:UserFullFromJSON(e.receiver)}}function FullGetSupportingFromJSON(e){return FullGetSupportingFromJSONTyped(e)}function FullGetSupportingFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?FullSupportingFromJSON(e.data):void 0}}function PlaylistFullFromJSON(e){return PlaylistFullFromJSONTyped(e)}function PlaylistFullFromJSONTyped(e,t){return null==e?e:{artwork:exists$1(e,"artwork")?PlaylistArtworkFromJSON(e.artwork):void 0,description:exists$1(e,"description")?e.description:void 0,permalink:exists$1(e,"permalink")?e.permalink:void 0,id:e.id,isAlbum:e.is_album,isImageAutogenerated:e.is_image_autogenerated,playlistName:e.playlist_name,playlistContents:e.playlist_contents.map(PlaylistAddedTimestampFromJSON),repostCount:e.repost_count,favoriteCount:e.favorite_count,totalPlayCount:e.total_play_count,user:UserFullFromJSON(e.user),blocknumber:e.blocknumber,createdAt:exists$1(e,"created_at")?e.created_at:void 0,followeeReposts:e.followee_reposts.map(RepostFromJSON),followeeFavorites:e.followee_favorites.map(FavoriteFromJSON),hasCurrentUserReposted:e.has_current_user_reposted,hasCurrentUserSaved:e.has_current_user_saved,isDelete:e.is_delete,isPrivate:e.is_private,updatedAt:exists$1(e,"updated_at")?e.updated_at:void 0,addedTimestamps:e.added_timestamps.map(PlaylistAddedTimestampFromJSON),userId:e.user_id,tracks:e.tracks.map(TrackFullFromJSON),coverArt:exists$1(e,"cover_art")?e.cover_art:void 0,coverArtSizes:exists$1(e,"cover_art_sizes")?e.cover_art_sizes:void 0,coverArtCids:exists$1(e,"cover_art_cids")?PlaylistArtworkFromJSON(e.cover_art_cids):void 0,trackCount:e.track_count}}function FullPlaylistResponseFromJSON(e){return FullPlaylistResponseFromJSONTyped(e)}function FullPlaylistResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(PlaylistFullFromJSON):void 0}}function FullPlaylistTracksResponseFromJSON(e){return FullPlaylistTracksResponseFromJSONTyped(e)}function FullPlaylistTracksResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TrackFullFromJSON):void 0}}function FullRepostsFromJSON(e){return FullRepostsFromJSONTyped(e)}function FullRepostsFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(ActivityFullFromJSON):void 0}}function FullSubscribersResponseFromJSON(e){return FullSubscribersResponseFromJSONTyped(e)}function FullSubscribersResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function SupporterReferenceFromJSON(e){return SupporterReferenceFromJSONTyped(e)}function SupporterReferenceFromJSONTyped(e,t){return null==e?e:{userId:e.user_id}}function FullTipFromJSON(e){return FullTipFromJSONTyped(e)}function FullTipFromJSONTyped(e,t){return null==e?e:{amount:e.amount,sender:UserFullFromJSON(e.sender),receiver:UserFullFromJSON(e.receiver),createdAt:e.created_at,slot:e.slot,followeeSupporters:e.followee_supporters.map(SupporterReferenceFromJSON),txSignature:e.tx_signature}}function FullTrackResponseFromJSON(e){return FullTrackResponseFromJSONTyped(e)}function FullTrackResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?TrackFullFromJSON(e.data):void 0}}function FullTracksFromJSON(e){return FullTracksFromJSONTyped(e)}function FullTracksFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TrackFullFromJSON):void 0}}function FullTracksResponseFromJSON(e){return FullTracksResponseFromJSONTyped(e)}function FullTracksResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TrackFullFromJSON):void 0}}function FullTrendingPlaylistsResponseFromJSON(e){return FullTrendingPlaylistsResponseFromJSONTyped(e)}function FullTrendingPlaylistsResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(PlaylistFullFromJSON):void 0}}function FullUserResponseFromJSON(e){return FullUserResponseFromJSONTyped(e)}function FullUserResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function GetTipsResponseFromJSON(e){return GetTipsResponseFromJSONTyped(e)}function GetTipsResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(FullTipFromJSON):void 0}}function HistoryResponseFullFromJSON(e){return HistoryResponseFullFromJSONTyped(e)}function HistoryResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(ActivityFullFromJSON):void 0}}function RelatedArtistResponseFullFromJSON(e){return RelatedArtistResponseFullFromJSONTyped(e)}function RelatedArtistResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function RemixesResponseFromJSON(e){return RemixesResponseFromJSONTyped(e)}function RemixesResponseFromJSONTyped(e,t){return null==e?e:{count:e.count,tracks:exists$1(e,"tracks")?e.tracks.map(TrackFullFromJSON):void 0}}function RemixesResponseFullFromJSON(e){return RemixesResponseFullFromJSONTyped(e)}function RemixesResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?RemixesResponseFromJSON(e.data):void 0}}function RemixingResponseFromJSON(e){return RemixingResponseFromJSONTyped(e)}function RemixingResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TrackFullFromJSON):void 0}}function SearchModelFromJSON(e){return SearchModelFromJSONTyped(e)}function SearchModelFromJSONTyped(e,t){return null==e?e:{users:e.users.map(UserFullFromJSON),followedUsers:exists$1(e,"followed_users")?e.followed_users.map(UserFullFromJSON):void 0,tracks:e.tracks.map(TrackFullFromJSON),savedTracks:exists$1(e,"saved_tracks")?e.saved_tracks.map(TrackFullFromJSON):void 0,playlists:e.playlists.map(PlaylistFullFromJSON),savedPlaylists:exists$1(e,"saved_playlists")?e.saved_playlists.map(PlaylistFullFromJSON):void 0,albums:e.albums.map(PlaylistFullFromJSON),savedAlbums:exists$1(e,"saved_albums")?e.saved_albums.map(PlaylistFullFromJSON):void 0}}function SearchAutocompleteResponseFromJSON(e){return SearchAutocompleteResponseFromJSONTyped(e)}function SearchAutocompleteResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?SearchModelFromJSON(e.data):void 0}}function SearchFullResponseFromJSON(e){return SearchFullResponseFromJSONTyped(e)}function SearchFullResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?SearchModelFromJSON(e.data):void 0}}function StemFullFromJSON(e){return StemFullFromJSONTyped(e)}function StemFullFromJSONTyped(e,t){return null==e?e:{id:e.id,parentId:e.parent_id,category:e.category,cid:e.cid,userId:e.user_id,blocknumber:e.blocknumber}}function StemsResponseFromJSON(e){return StemsResponseFromJSONTyped(e)}function StemsResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(StemFullFromJSON):void 0}}function TopGenreUsersResponseFullFromJSON(e){return TopGenreUsersResponseFullFromJSONTyped(e)}function TopGenreUsersResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function TopUsersResponseFullFromJSON(e){return TopUsersResponseFullFromJSONTyped(e)}function TopUsersResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function TrackActivityFullFromJSON(e){return TrackActivityFullFromJSONTyped(e)}function TrackActivityFullFromJSONTyped(e,t){return null==e?e:{timestamp:exists$1(e,"timestamp")?e.timestamp:void 0,itemType:exists$1(e,"item_type")?e.item_type:void 0,item:exists$1(e,"item")?TrackFullFromJSON(e.item):void 0}}function TrackFavoritesResponseFullFromJSON(e){return TrackFavoritesResponseFullFromJSONTyped(e)}function TrackFavoritesResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function TrackIdFromJSON(e){return TrackIdFromJSONTyped(e)}function TrackIdFromJSONTyped(e,t){return null==e?e:{id:e.id}}function TrackLibraryResponseFullFromJSON(e){return TrackLibraryResponseFullFromJSONTyped(e)}function TrackLibraryResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TrackActivityFullFromJSON):void 0}}function TrackRepostsResponseFullFromJSON(e){return TrackRepostsResponseFullFromJSONTyped(e)}function TrackRepostsResponseFullFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(UserFullFromJSON):void 0}}function TransactionDetailsFromJSON(e){return TransactionDetailsFromJSONTyped(e)}function TransactionDetailsFromJSONTyped(e,t){return null==e?e:{transactionDate:e.transaction_date,transactionType:e.transaction_type,method:e.method,signature:e.signature,userBank:e.user_bank,change:e.change,balance:e.balance,metadata:e.metadata}}function TransactionHistoryCountResponseFromJSON(e){return TransactionHistoryCountResponseFromJSONTyped(e)}function TransactionHistoryCountResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data:void 0}}function TransactionHistoryResponseFromJSON(e){return TransactionHistoryResponseFromJSONTyped(e)}function TransactionHistoryResponseFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?e.data.map(TransactionDetailsFromJSON):void 0}}function TrendingTimesIdsFromJSON(e){return TrendingTimesIdsFromJSONTyped(e)}function TrendingTimesIdsFromJSONTyped(e,t){return null==e?e:{week:exists$1(e,"week")?e.week.map(TrackIdFromJSON):void 0,month:exists$1(e,"month")?e.month.map(TrackIdFromJSON):void 0,year:exists$1(e,"year")?e.year.map(TrackIdFromJSON):void 0}}function TrendingIdsResponseFromJSON(e){return TrendingIdsResponseFromJSONTyped(e)}function TrendingIdsResponseFromJSONTyped(e,t){return null==e?e:{data:exists$1(e,"data")?TrendingTimesIdsFromJSON(e.data):void 0}}function UserReplicaSetFromJSON(e){return UserReplicaSetFromJSONTyped(e)}function UserReplicaSetFromJSONTyped(e,t){return null==e?e:{userId:e.user_id,wallet:e.wallet,primary:exists$1(e,"primary")?e.primary:void 0,secondary1:exists$1(e,"secondary1")?e.secondary1:void 0,secondary2:exists$1(e,"secondary2")?e.secondary2:void 0,primarySpID:exists$1(e,"primarySpID")?e.primarySpID:void 0,secondary1SpID:exists$1(e,"secondary1SpID")?e.secondary1SpID:void 0,secondary2SpID:exists$1(e,"secondary2SpID")?e.secondary2SpID:void 0}}function UsersByContentNodeFromJSON(e){return UsersByContentNodeFromJSONTyped(e)}function UsersByContentNodeFromJSONTyped(e,t){return null==e?e:{latestChainBlock:e.latest_chain_block,latestIndexedBlock:e.latest_indexed_block,latestChainSlotPlays:e.latest_chain_slot_plays,latestIndexedSlotPlays:e.latest_indexed_slot_plays,signature:e.signature,timestamp:e.timestamp,version:VersionMetadataFromJSON(e.version),data:exists$1(e,"data")?UserReplicaSetFromJSON(e.data):void 0}}function _createSuper$i(e){var t=_isNativeReflectConstruct$i();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PlaylistsApi=function(e){_inherits(m,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y=_createSuper$i(m);function m(){return _classCallCheck$1(this,m),y.apply(this,arguments)}return _createClass$1(m,[{key:"getPlaylistRaw",value:(p=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError("playlistId","Required parameter params.playlistId was null or undefined when calling getPlaylist.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/playlists/{playlist_id}".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullPlaylistResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getPlaylist",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylistRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getPlaylistByHandleAndSlugRaw",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError("handle","Required parameter params.handle was null or undefined when calling getPlaylistByHandleAndSlug.");case 2:if(null!==t.slug&&void 0!==t.slug){e.next=4;break}throw new RequiredError("slug","Required parameter params.slug was null or undefined when calling getPlaylistByHandleAndSlug.");case 4:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/playlists/by_permalink/{handle}/{slug}".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))).replace("{".concat("slug","}"),encodeURIComponent(String(t.slug))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullPlaylistResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getPlaylistByHandleAndSlug",value:(f=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylistByHandleAndSlugRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getPlaylistTracksRaw",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError("playlistId","Required parameter params.playlistId was null or undefined when calling getPlaylistTracks.");case 2:return n={},i={},e.next=6,this.request({path:"/playlists/{playlist_id}/tracks".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullPlaylistTracksResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getPlaylistTracks",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylistTracksRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getTrendingPlaylistsRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.time&&(n.time=t.time),i={},e.next=8,this.request({path:"/playlists/trending",method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTrendingPlaylistsResponseFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getTrendingPlaylists",value:(s=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTrendingPlaylistsRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getTrendingPlaylistsWithVersionRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.version&&void 0!==t.version){e.next=2;break}throw new RequiredError("version","Required parameter params.version was null or undefined when calling getTrendingPlaylistsWithVersion.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.time&&(n.time=t.time),i={},e.next=10,this.request({path:"/playlists/trending/{version}".replace("{".concat("version","}"),encodeURIComponent(String(t.version))),method:"GET",headers:i,query:n},r);case 10:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTrendingPlaylistsResponseFromJSON(e)})));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getTrendingPlaylistsWithVersion",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrendingPlaylistsWithVersionRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getUsersFromPlaylistFavoritesRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError("playlistId","Required parameter params.playlistId was null or undefined when calling getUsersFromPlaylistFavorites.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/playlists/{playlist_id}/favorites".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FollowingResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getUsersFromPlaylistFavorites",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersFromPlaylistFavoritesRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getUsersFromPlaylistRepostsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.playlistId&&void 0!==t.playlistId){e.next=2;break}throw new RequiredError("playlistId","Required parameter params.playlistId was null or undefined when calling getUsersFromPlaylistReposts.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/playlists/{playlist_id}/reposts".replace("{".concat("playlist_id","}"),encodeURIComponent(String(t.playlistId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FollowingResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getUsersFromPlaylistReposts",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersFromPlaylistRepostsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),m}(BaseAPI);function _createSuper$h(e){var t=_isNativeReflectConstruct$h();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ReactionsApi=function(e){_inherits(i,e);var t,r,n=_createSuper$h(i);function i(){return _classCallCheck$1(this,i),n.apply(this,arguments)}return _createClass$1(i,[{key:"bulkGetReactionsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.reactedToIds&&void 0!==t.reactedToIds){e.next=2;break}throw new RequiredError("reactedToIds","Required parameter params.reactedToIds was null or undefined when calling bulkGetReactions.");case 2:return n={},void 0!==t.type&&(n.type=t.type),t.reactedToIds&&(n.reacted_to_ids=t.reactedToIds.join(COLLECTION_FORMATS.csv)),i={},e.next=8,this.request({path:"/reactions",method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new VoidApiResponse(o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"bulkGetReactions",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bulkGetReactionsRaw(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(BaseAPI);function _createSuper$g(e){var t=_isNativeReflectConstruct$g();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var SearchApi=function(e){_inherits(a,e);var t,r,n,i,o=_createSuper$g(a);function a(){return _classCallCheck$1(this,a),o.apply(this,arguments)}return _createClass$1(a,[{key:"searchRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.query&&void 0!==t.query){e.next=2;break}throw new RequiredError("query","Required parameter params.query was null or undefined when calling search.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.kind&&(n.kind=t.kind),i={},e.next=11,this.request({path:"/search/full",method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return SearchFullResponseFromJSON(e)})));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"search",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"searchAutocompleteRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.query&&void 0!==t.query){e.next=2;break}throw new RequiredError("query","Required parameter params.query was null or undefined when calling searchAutocomplete.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.kind&&(n.kind=t.kind),i={},e.next=11,this.request({path:"/search/autocomplete",method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return SearchAutocompleteResponseFromJSON(e)})));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"searchAutocomplete",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchAutocompleteRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(BaseAPI);function _createSuper$f(e){var t=_isNativeReflectConstruct$f();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TipsApi=function(e){_inherits(i,e);var t,r,n=_createSuper$f(i);function i(){return _classCallCheck$1(this,i),n.apply(this,arguments)}return _createClass$1(i,[{key:"getTipsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.receiverMinFollowers&&(n.receiver_min_followers=t.receiverMinFollowers),void 0!==t.receiverIsVerified&&(n.receiver_is_verified=t.receiverIsVerified),void 0!==t.currentUserFollows&&(n.current_user_follows=t.currentUserFollows),void 0!==t.uniqueBy&&(n.unique_by=t.uniqueBy),void 0!==t.minSlot&&(n.min_slot=t.minSlot),void 0!==t.maxSlot&&(n.max_slot=t.maxSlot),t.txSignatures&&(n.tx_signatures=t.txSignatures.join(COLLECTION_FORMATS.csv)),i={},e.next=14,this.request({path:"/tips",method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return GetTipsResponseFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getTips",value:(t=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTipsRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(BaseAPI);function _createSuper$e(e){var t=_isNativeReflectConstruct$e();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TracksApi=function(e){_inherits(G,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I,R,O,P,C,B,N,L,j,F,U,D,z,H=_createSuper$e(G);function G(){return _classCallCheck$1(this,G),H.apply(this,arguments)}return _createClass$1(G,[{key:"bestNewReleasesRaw",value:(z=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n={},e.next=4,this.request({path:"/tracks/best_new_releases",method:"GET",headers:n,query:r},t);case 4:return i=e.sent,e.abrupt("return",new JSONApiResponse(i,(function(e){return FullTracksResponseFromJSON(e)})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{key:"bestNewReleases",value:(D=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bestNewReleasesRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"getBulkTracksRaw",value:(U=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.userId&&(n.user_id=t.userId),t.permalink&&(n.permalink=t.permalink),t.id&&(n.id=t.id),i={},e.next=7,this.request({path:"/tracks",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return U.apply(this,arguments)})},{key:"getBulkTracks",value:(F=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getBulkTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return F.apply(this,arguments)})},{key:"getFeelingLuckyTracksRaw",value:(j=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.withUsers&&(n.with_users=t.withUsers),void 0!==t.minFollowers&&(n.min_followers=t.minFollowers),i={},e.next=8,this.request({path:"/tracks/feeling_lucky",method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return j.apply(this,arguments)})},{key:"getFeelingLuckyTracks",value:(L=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getFeelingLuckyTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"getMostLovedTracksRaw",value:(N=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.withUsers&&(n.with_users=t.withUsers),i={},e.next=7,this.request({path:"/tracks/most_loved",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"getMostLovedTracks",value:(B=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getMostLovedTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return B.apply(this,arguments)})},{key:"getPremiumTrackSignaturesRaw",value:(C=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.userId&&void 0!==t.userId){e.next=2;break}throw new RequiredError("userId","Required parameter params.userId was null or undefined when calling getPremiumTrackSignatures.");case 2:return n={},t.trackIds&&(n.track_ids=t.trackIds),t.tokenIds&&(n.token_ids=t.tokenIds),i={},e.next=8,this.request({path:"/tracks/{user_id}/nft-gated-signatures".replace("{".concat("user_id","}"),encodeURIComponent(String(t.userId))),method:"GET",headers:i,query:n},r);case 8:return o=e.sent,e.abrupt("return",new VoidApiResponse(o));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"getPremiumTrackSignatures",value:(P=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPremiumTrackSignaturesRaw(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)})},{key:"getRecommendedTracksRaw",value:(O=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.limit&&(n.limit=t.limit),void 0!==t.genre&&(n.genre=t.genre),void 0!==t.time&&(n.time=t.time),t.exclusionList&&(n.exclusion_list=t.exclusionList),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/recommended",method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"getRecommendedTracks",value:(R=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getRecommendedTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)})},{key:"getRecommendedTracksWithVersionRaw",value:(I=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.version&&void 0!==t.version){e.next=2;break}throw new RequiredError("version","Required parameter params.version was null or undefined when calling getRecommendedTracksWithVersion.");case 2:return n={},void 0!==t.limit&&(n.limit=t.limit),void 0!==t.genre&&(n.genre=t.genre),void 0!==t.time&&(n.time=t.time),t.exclusionList&&(n.exclusion_list=t.exclusionList),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=11,this.request({path:"/tracks/recommended/{version}".replace("{".concat("version","}"),encodeURIComponent(String(t.version))),method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"getRecommendedTracksWithVersion",value:(M=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRecommendedTracksWithVersionRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"getRemixableTracksRaw",value:(T=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.withUsers&&(n.with_users=t.withUsers),i={},e.next=7,this.request({path:"/tracks/remixables",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTrackResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"getRemixableTracks",value:(E=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getRemixableTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"getTrackRaw",value:(A=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getTrack.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.handle&&(n.handle=t.handle),void 0!==t.urlTitle&&(n.url_title=t.urlTitle),void 0!==t.showUnlisted&&(n.show_unlisted=t.showUnlisted),i={},e.next=10,this.request({path:"/tracks/{track_id}".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 10:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTrackResponseFromJSON(e)})));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"getTrack",value:(k=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"getTrackRemixParentsRaw",value:(S=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getTrackRemixParents.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/{track_id}/remixing".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return RemixingResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"getTrackRemixParents",value:(x=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackRemixParentsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"getTrackRemixesRaw",value:($=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getTrackRemixes.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/{track_id}/remixes".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return RemixesResponseFullFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return $.apply(this,arguments)})},{key:"getTrackRemixes",value:(_=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackRemixesRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"getTrackStemsRaw",value:(w=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getTrackStems.");case 2:return n={},i={},e.next=6,this.request({path:"/tracks/{track_id}/stems".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 6:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return StemsResponseFromJSON(e)})));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"getTrackStems",value:(b=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackStemsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"getTrendingTrackIDsRaw",value:(g=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.genre&&(n.genre=t.genre),i={},e.next=5,this.request({path:"/tracks/trending/ids",method:"GET",headers:i,query:n},r);case 5:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrendingIdsResponseFromJSON(e)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"getTrendingTrackIDs",value:(v=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTrendingTrackIDsRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"getTrendingTracksRaw",value:(m=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.genre&&(n.genre=t.genre),void 0!==t.time&&(n.time=t.time),i={},e.next=9,this.request({path:"/tracks/trending",method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getTrendingTracks",value:(y=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTrendingTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"getTrendingTracksIDsWithVersionRaw",value:(p=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.version&&void 0!==t.version){e.next=2;break}throw new RequiredError("version","Required parameter params.version was null or undefined when calling getTrendingTracksIDsWithVersion.");case 2:return n={},void 0!==t.genre&&(n.genre=t.genre),i={},e.next=7,this.request({path:"/tracks/trending/ids/{version}".replace("{".concat("version","}"),encodeURIComponent(String(t.version))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrendingIdsResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getTrendingTracksIDsWithVersion",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrendingTracksIDsWithVersionRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getTrendingTracksWithVersionRaw",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.version&&void 0!==t.version){e.next=2;break}throw new RequiredError("version","Required parameter params.version was null or undefined when calling getTrendingTracksWithVersion.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.genre&&(n.genre=t.genre),void 0!==t.time&&(n.time=t.time),i={},e.next=11,this.request({path:"/tracks/trending/{version}".replace("{".concat("version","}"),encodeURIComponent(String(t.version))),method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getTrendingTracksWithVersion",value:(f=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrendingTracksWithVersionRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getUnderTheRadarTracksRaw",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.filter&&(n.filter=t.filter),void 0!==t.tracksOnly&&(n.tracks_only=t.tracksOnly),void 0!==t.withUsers&&(n.with_users=t.withUsers),i={},e.next=10,this.request({path:"/tracks/under_the_radar",method:"GET",headers:i,query:n},r);case 10:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getUnderTheRadarTracks",value:(c=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getUnderTheRadarTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getUndergroundTrendingTracksRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/tracks/trending/underground",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getUndergroundTrendingTracks",value:(s=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getUndergroundTrendingTracksRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getUndergroundTrendingTracksWithVersionRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.version&&void 0!==t.version){e.next=2;break}throw new RequiredError("version","Required parameter params.version was null or undefined when calling getUndergroundTrendingTracksWithVersion.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/trending/underground/{version}".replace("{".concat("version","}"),encodeURIComponent(String(t.version))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getUndergroundTrendingTracksWithVersion",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUndergroundTrendingTracksWithVersionRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getUsersFromFavoritesRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getUsersFromFavorites.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/{track_id}/favorites".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrackFavoritesResponseFullFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getUsersFromFavorites",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersFromFavoritesRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getUsersFromRepostsRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.trackId&&void 0!==t.trackId){e.next=2;break}throw new RequiredError("trackId","Required parameter params.trackId was null or undefined when calling getUsersFromReposts.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/tracks/{track_id}/reposts".replace("{".concat("track_id","}"),encodeURIComponent(String(t.trackId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrackRepostsResponseFullFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getUsersFromReposts",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersFromRepostsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),G}(BaseAPI);function _createSuper$d(e){var t=_isNativeReflectConstruct$d();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var TransactionsApi=function(e){_inherits(a,e);var t,r,n,i,o=_createSuper$d(a);function a(){return _classCallCheck$1(this,a),o.apply(this,arguments)}return _createClass$1(a,[{key:"getAudioTransactionHistoryRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.encodedDataMessage&&void 0!==t.encodedDataMessage){e.next=2;break}throw new RequiredError("encodedDataMessage","Required parameter params.encodedDataMessage was null or undefined when calling getAudioTransactionHistory.");case 2:if(null!==t.encodedDataSignature&&void 0!==t.encodedDataSignature){e.next=4;break}throw new RequiredError("encodedDataSignature","Required parameter params.encodedDataSignature was null or undefined when calling getAudioTransactionHistory.");case 4:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),i={},void 0!==t.encodedDataMessage&&null!==t.encodedDataMessage&&(i["Encoded-Data-Message"]=String(t.encodedDataMessage)),void 0!==t.encodedDataSignature&&null!==t.encodedDataSignature&&(i["Encoded-Data-Signature"]=String(t.encodedDataSignature)),e.next=14,this.request({path:"/transactions",method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TransactionHistoryResponseFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getAudioTransactionHistory",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAudioTransactionHistoryRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getAudioTransactionHistoryCountRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.encodedDataMessage&&void 0!==t.encodedDataMessage){e.next=2;break}throw new RequiredError("encodedDataMessage","Required parameter params.encodedDataMessage was null or undefined when calling getAudioTransactionHistoryCount.");case 2:if(null!==t.encodedDataSignature&&void 0!==t.encodedDataSignature){e.next=4;break}throw new RequiredError("encodedDataSignature","Required parameter params.encodedDataSignature was null or undefined when calling getAudioTransactionHistoryCount.");case 4:return n={},i={},void 0!==t.encodedDataMessage&&null!==t.encodedDataMessage&&(i["Encoded-Data-Message"]=String(t.encodedDataMessage)),void 0!==t.encodedDataSignature&&null!==t.encodedDataSignature&&(i["Encoded-Data-Signature"]=String(t.encodedDataSignature)),e.next=10,this.request({path:"/transactions/count",method:"GET",headers:i,query:n},r);case 10:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TransactionHistoryCountResponseFromJSON(e)})));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getAudioTransactionHistoryCount",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAudioTransactionHistoryCountRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(BaseAPI);function _createSuper$c(e){var t=_isNativeReflectConstruct$c();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var UsersApi=function(e){_inherits(re,e);var t,r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I,R,O,P,C,B,N,L,j,F,U,D,z,H,G,q,K,Z,J,V,W,Y,X,Q,ee,te=_createSuper$c(re);function re(){return _classCallCheck$1(this,re),te.apply(this,arguments)}return _createClass$1(re,[{key:"bulkGetSubscribersRaw",value:(ee=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.ids&&void 0!==t.ids){e.next=2;break}throw new RequiredError("ids","Required parameter params.ids was null or undefined when calling bulkGetSubscribers.");case 2:return n={},t.ids&&(n.ids=t.ids.join(COLLECTION_FORMATS.csv)),i={},e.next=7,this.request({path:"/users/subscribers",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullBulkSubscribersResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return ee.apply(this,arguments)})},{key:"bulkGetSubscribers",value:(Q=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bulkGetSubscribersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return Q.apply(this,arguments)})},{key:"bulkGetSubscribersViaJSONRequestRaw",value:(X=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.ids&&void 0!==t.ids){e.next=2;break}throw new RequiredError("ids","Required parameter params.ids was null or undefined when calling bulkGetSubscribersViaJSONRequest.");case 2:return n={},t.ids&&(n.ids=t.ids.join(COLLECTION_FORMATS.csv)),i={},e.next=7,this.request({path:"/users/subscribers",method:"POST",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullBulkSubscribersResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return X.apply(this,arguments)})},{key:"bulkGetSubscribersViaJSONRequest",value:(Y=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bulkGetSubscribersViaJSONRequestRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return Y.apply(this,arguments)})},{key:"getAIAttributedTracksByUserHandleRaw",value:(W=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError("handle","Required parameter params.handle was null or undefined when calling getAIAttributedTracksByUserHandle.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sort&&(n.sort=t.sort),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.filterTracks&&(n.filter_tracks=t.filterTracks),i={},e.next=14,this.request({path:"/users/handle/{handle}/tracks/ai_attributed".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return W.apply(this,arguments)})},{key:"getAIAttributedTracksByUserHandle",value:(V=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAIAttributedTracksByUserHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return V.apply(this,arguments)})},{key:"getFavoritesRaw",value:(J=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getFavorites.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),i={},e.next=12,this.request({path:"/users/{id}/favorites/tracks".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 12:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrackLibraryResponseFullFromJSON(e)})));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return J.apply(this,arguments)})},{key:"getFavorites",value:(Z=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavoritesRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return Z.apply(this,arguments)})},{key:"getFollowersRaw",value:(K=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getFollowers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/followers".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullFollowersResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return K.apply(this,arguments)})},{key:"getFollowers",value:(q=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFollowersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return q.apply(this,arguments)})},{key:"getFollowingRaw",value:(G=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getFollowing.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/following".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FollowingResponseFullFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return G.apply(this,arguments)})},{key:"getFollowing",value:(H=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFollowingRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return H.apply(this,arguments)})},{key:"getPurchasesRaw",value:(z=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getPurchases.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),i={},e.next=11,this.request({path:"/users/{id}/purchases".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new VoidApiResponse(o));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return z.apply(this,arguments)})},{key:"getPurchases",value:(D=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPurchasesRaw(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return D.apply(this,arguments)})},{key:"getRelatedUsersRaw",value:(U=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getRelatedUsers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/related".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return RelatedArtistResponseFullFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return U.apply(this,arguments)})},{key:"getRelatedUsers",value:(F=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRelatedUsersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return F.apply(this,arguments)})},{key:"getRepostsRaw",value:(j=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getReposts.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/reposts".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullRepostsFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return j.apply(this,arguments)})},{key:"getReposts",value:(L=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRepostsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return L.apply(this,arguments)})},{key:"getRepostsByHandleRaw",value:(N=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError("handle","Required parameter params.handle was null or undefined when calling getRepostsByHandle.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/handle/{handle}/reposts".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullRepostsFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"getRepostsByHandle",value:(B=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRepostsByHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"getSalesRaw",value:(C=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSales.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),i={},e.next=11,this.request({path:"/users/{id}/sales".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 11:return o=e.sent,e.abrupt("return",new VoidApiResponse(o));case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"getSales",value:(P=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSalesRaw(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)})},{key:"getSubscribersRaw",value:(O=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSubscribers.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/subscribers".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullSubscribersResponseFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"getSubscribers",value:(R=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSubscribersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return R.apply(this,arguments)})},{key:"getSupporterRaw",value:(I=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSupporter.");case 2:if(null!==t.supporterUserId&&void 0!==t.supporterUserId){e.next=4;break}throw new RequiredError("supporterUserId","Required parameter params.supporterUserId was null or undefined when calling getSupporter.");case 4:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/supporters/{supporter_user_id}".replace("{".concat("id","}"),encodeURIComponent(String(t.id))).replace("{".concat("supporter_user_id","}"),encodeURIComponent(String(t.supporterUserId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullGetSupporterFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"getSupporter",value:(M=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupporterRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return M.apply(this,arguments)})},{key:"getSupportersRaw",value:(T=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSupporters.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/supporters".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullGetSupportersFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"getSupporters",value:(E=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportersRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"getSupportingRaw",value:(A=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSupporting.");case 2:if(null!==t.supportedUserId&&void 0!==t.supportedUserId){e.next=4;break}throw new RequiredError("supportedUserId","Required parameter params.supportedUserId was null or undefined when calling getSupporting.");case 4:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/supporting/{supported_user_id}".replace("{".concat("id","}"),encodeURIComponent(String(t.id))).replace("{".concat("supported_user_id","}"),encodeURIComponent(String(t.supportedUserId))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullGetSupportingFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"getSupporting",value:(k=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportingRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"getSupportingsRaw",value:(S=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getSupportings.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=9,this.request({path:"/users/{id}/supporting".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 9:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullGetSupportingFromJSON(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"getSupportings",value:(x=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportingsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"getTopUsersRaw",value:($=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/users/top",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TopUsersResponseFullFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return $.apply(this,arguments)})},{key:"getTopUsers",value:(_=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTopUsersRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"getTopUsersInGenreRaw",value:(w=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),t.genre&&(n.genre=t.genre),i={},e.next=7,this.request({path:"/users/genre/top",method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TopGenreUsersResponseFullFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"getTopUsersInGenre",value:(b=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,e.next=4,this.getTopUsersInGenreRaw(t,r);case 4:return n=e.sent,e.next=7,n.value();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getTracksByUserRaw",value:(g=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getTracksByUser.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sort&&(n.sort=t.sort),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.filterTracks&&(n.filter_tracks=t.filterTracks),i={},e.next=14,this.request({path:"/users/{id}/tracks".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"getTracksByUser",value:(v=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTracksByUserRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getTracksByUserHandleRaw",value:(m=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError("handle","Required parameter params.handle was null or undefined when calling getTracksByUserHandle.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.sort&&(n.sort=t.sort),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.filterTracks&&(n.filter_tracks=t.filterTracks),i={},e.next=14,this.request({path:"/users/handle/{handle}/tracks".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 14:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullTracksFromJSON(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getTracksByUserHandle",value:(y=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTracksByUserHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"getUserRaw",value:(p=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUser.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/users/{id}".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullUserResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getUser",value:(d=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getUserByHandleRaw",value:(h=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.handle&&void 0!==t.handle){e.next=2;break}throw new RequiredError("handle","Required parameter params.handle was null or undefined when calling getUserByHandle.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/users/handle/{handle}".replace("{".concat("handle","}"),encodeURIComponent(String(t.handle))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return FullUserResponseFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"getUserByHandle",value:(f=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserByHandleRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getUserLibraryAlbumsRaw",value:(l=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUserLibraryAlbums.");case 2:if(null!==t.encodedDataMessage&&void 0!==t.encodedDataMessage){e.next=4;break}throw new RequiredError("encodedDataMessage","Required parameter params.encodedDataMessage was null or undefined when calling getUserLibraryAlbums.");case 4:if(null!==t.encodedDataSignature&&void 0!==t.encodedDataSignature){e.next=6;break}throw new RequiredError("encodedDataSignature","Required parameter params.encodedDataSignature was null or undefined when calling getUserLibraryAlbums.");case 6:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.type&&(n.type=t.type),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),i={},void 0!==t.encodedDataMessage&&null!==t.encodedDataMessage&&(i["Encoded-Data-Message"]=String(t.encodedDataMessage)),void 0!==t.encodedDataSignature&&null!==t.encodedDataSignature&&(i["Encoded-Data-Signature"]=String(t.encodedDataSignature)),e.next=19,this.request({path:"/users/{id}/library/albums".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 19:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return CollectionLibraryResponseFullFromJSON(e)})));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getUserLibraryAlbums",value:(c=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserLibraryAlbumsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getUserLibraryPlaylistsRaw",value:(u=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUserLibraryPlaylists.");case 2:if(null!==t.encodedDataMessage&&void 0!==t.encodedDataMessage){e.next=4;break}throw new RequiredError("encodedDataMessage","Required parameter params.encodedDataMessage was null or undefined when calling getUserLibraryPlaylists.");case 4:if(null!==t.encodedDataSignature&&void 0!==t.encodedDataSignature){e.next=6;break}throw new RequiredError("encodedDataSignature","Required parameter params.encodedDataSignature was null or undefined when calling getUserLibraryPlaylists.");case 6:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.type&&(n.type=t.type),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),i={},void 0!==t.encodedDataMessage&&null!==t.encodedDataMessage&&(i["Encoded-Data-Message"]=String(t.encodedDataMessage)),void 0!==t.encodedDataSignature&&null!==t.encodedDataSignature&&(i["Encoded-Data-Signature"]=String(t.encodedDataSignature)),e.next=19,this.request({path:"/users/{id}/library/playlists".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 19:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return CollectionLibraryResponseFullFromJSON(e)})));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getUserLibraryPlaylists",value:(s=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserLibraryPlaylistsRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getUserLibraryTracksRaw",value:(a=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUserLibraryTracks.");case 2:if(null!==t.encodedDataMessage&&void 0!==t.encodedDataMessage){e.next=4;break}throw new RequiredError("encodedDataMessage","Required parameter params.encodedDataMessage was null or undefined when calling getUserLibraryTracks.");case 4:if(null!==t.encodedDataSignature&&void 0!==t.encodedDataSignature){e.next=6;break}throw new RequiredError("encodedDataSignature","Required parameter params.encodedDataSignature was null or undefined when calling getUserLibraryTracks.");case 6:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),void 0!==t.type&&(n.type=t.type),i={},void 0!==t.encodedDataMessage&&null!==t.encodedDataMessage&&(i["Encoded-Data-Message"]=String(t.encodedDataMessage)),void 0!==t.encodedDataSignature&&null!==t.encodedDataSignature&&(i["Encoded-Data-Signature"]=String(t.encodedDataSignature)),e.next=19,this.request({path:"/users/{id}/library/tracks".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 19:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return TrackLibraryResponseFullFromJSON(e)})));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getUserLibraryTracks",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserLibraryTracksRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getUserReplicaSetRaw",value:(i=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUserReplicaSet.");case 2:return n={},void 0!==t.userId&&(n.user_id=t.userId),i={},e.next=7,this.request({path:"/users/{id}/replica_set".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 7:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return UsersByContentNodeFromJSON(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getUserReplicaSet",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserReplicaSetRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getUsersTrackHistoryRaw",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.id&&void 0!==t.id){e.next=2;break}throw new RequiredError("id","Required parameter params.id was null or undefined when calling getUsersTrackHistory.");case 2:return n={},void 0!==t.offset&&(n.offset=t.offset),void 0!==t.limit&&(n.limit=t.limit),void 0!==t.userId&&(n.user_id=t.userId),void 0!==t.query&&(n.query=t.query),void 0!==t.sortMethod&&(n.sort_method=t.sortMethod),void 0!==t.sortDirection&&(n.sort_direction=t.sortDirection),i={},e.next=12,this.request({path:"/users/{id}/history/tracks".replace("{".concat("id","}"),encodeURIComponent(String(t.id))),method:"GET",headers:i,query:n},r);case 12:return o=e.sent,e.abrupt("return",new JSONApiResponse(o,(function(e){return HistoryResponseFullFromJSON(e)})));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getUsersTrackHistory",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersTrackHistoryRaw(t,r);case 2:return n=e.sent,e.next=5,n.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),re}(BaseAPI),browserPonyfill$1={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:commonjsGlobal$1,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var $=[301,302,303,307,308];_.redirect=function(e,t){if(-1===$.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,o){var a=new b(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new _(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(browserPonyfill$1,browserPonyfill$1.exports);var fetch$1=getDefaultExportFromCjs$1(browserPonyfill$1.exports),appName,addAppNameMiddleware=function(e){var t,r=e.appName,n=e.services;return appName=r,{pre:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(appName){e.next=21;break}return a=[n.discoveryNodeSelector.createMiddleware()],s=new Configuration$1({fetchApi:fetch$1,middleware:a}),u=new DeveloperAppsApi(s,n.entityManager,n.auth),e.t1=u,e.next=7,n.auth.getAddress();case 7:return e.t2=e.sent,e.t3={address:e.t2},e.next=11,e.t1.getDeveloperApp.call(e.t1,e.t3);case 11:if(e.t4=o=e.sent.data,e.t0=null===e.t4,e.t0){e.next=15;break}e.t0=void 0===o;case 15:if(!e.t0){e.next=19;break}e.t5=void 0,e.next=20;break;case 19:e.t5=o.name;case 20:appName=e.t5;case 21:return e.abrupt("return",{url:t.url+(t.url.includes("?")?"&":"?")+querystring$1({app_name:null!==(r=appName)&&void 0!==r?r:""}),init:null!==(i=t.init)&&void 0!==i?i:{}});case 22:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}},DECISION_TREE_STATE;!function(e){e.CHECK_SHORT_CIRCUIT="Check Short Circuit",e.GET_ALL_SERVICES="Get All Services",e.FILTER_TO_WHITELIST="Filter To Whitelist",e.FILTER_FROM_BLACKLIST="Filter From Blacklist",e.FILTER_OUT_KNOWN_UNHEALTHY="Filter Out Known Unhealthy",e.GET_SELECTION_ROUND="Get Selection Round",e.NO_SERVICES_LEFT_TO_TRY="No Services Left To Try",e.SELECTED_FROM_BACKUP="Selected From Backup",e.FAILED_AND_RESETTING="Failed Everything -- Resetting",e.ROUND_FAILED_RETRY="Round Failed Retry",e.MADE_A_SELECTION="Made A Selection",e.RACED_AND_FOUND_BEST="Raced And Found Best"}(DECISION_TREE_STATE||(DECISION_TREE_STATE={}));var semver$1={exports:{}};!function(e,t){var r;t=e.exports=f,r="object"===_typeof$2(browser$1$1)&&browser$1$1.env&&browser$1$1.env.NODE_DEBUG&&/\bsemver\b/i.test(browser$1$1.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],a=t.tokens={},s=0;function u(e){a[e]=s++}u("NUMERICIDENTIFIER"),o[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",u("NUMERICIDENTIFIERLOOSE"),o[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",u("NONNUMERICIDENTIFIER"),o[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",u("MAINVERSION"),o[a.MAINVERSION]="("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")",u("MAINVERSIONLOOSE"),o[a.MAINVERSIONLOOSE]="("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")",u("PRERELEASEIDENTIFIER"),o[a.PRERELEASEIDENTIFIER]="(?:"+o[a.NUMERICIDENTIFIER]+"|"+o[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASEIDENTIFIERLOOSE"),o[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[a.NUMERICIDENTIFIERLOOSE]+"|"+o[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASE"),o[a.PRERELEASE]="(?:-("+o[a.PRERELEASEIDENTIFIER]+"(?:\\."+o[a.PRERELEASEIDENTIFIER]+")*))",u("PRERELEASELOOSE"),o[a.PRERELEASELOOSE]="(?:-?("+o[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[a.PRERELEASEIDENTIFIERLOOSE]+")*))",u("BUILDIDENTIFIER"),o[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",u("BUILD"),o[a.BUILD]="(?:\\+("+o[a.BUILDIDENTIFIER]+"(?:\\."+o[a.BUILDIDENTIFIER]+")*))",u("FULL"),u("FULLPLAIN"),o[a.FULLPLAIN]="v?"+o[a.MAINVERSION]+o[a.PRERELEASE]+"?"+o[a.BUILD]+"?",o[a.FULL]="^"+o[a.FULLPLAIN]+"$",u("LOOSEPLAIN"),o[a.LOOSEPLAIN]="[v=\\s]*"+o[a.MAINVERSIONLOOSE]+o[a.PRERELEASELOOSE]+"?"+o[a.BUILD]+"?",u("LOOSE"),o[a.LOOSE]="^"+o[a.LOOSEPLAIN]+"$",u("GTLT"),o[a.GTLT]="((?:<|>)?=?)",u("XRANGEIDENTIFIERLOOSE"),o[a.XRANGEIDENTIFIERLOOSE]=o[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",u("XRANGEIDENTIFIER"),o[a.XRANGEIDENTIFIER]=o[a.NUMERICIDENTIFIER]+"|x|X|\\*",u("XRANGEPLAIN"),o[a.XRANGEPLAIN]="[v=\\s]*("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:"+o[a.PRERELEASE]+")?"+o[a.BUILD]+"?)?)?",u("XRANGEPLAINLOOSE"),o[a.XRANGEPLAINLOOSE]="[v=\\s]*("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:"+o[a.PRERELEASELOOSE]+")?"+o[a.BUILD]+"?)?)?",u("XRANGE"),o[a.XRANGE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAIN]+"$",u("XRANGELOOSE"),o[a.XRANGELOOSE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAINLOOSE]+"$",u("COERCE"),o[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",u("COERCERTL"),i[a.COERCERTL]=new RegExp(o[a.COERCE],"g"),u("LONETILDE"),o[a.LONETILDE]="(?:~>?)",u("TILDETRIM"),o[a.TILDETRIM]="(\\s*)"+o[a.LONETILDE]+"\\s+",i[a.TILDETRIM]=new RegExp(o[a.TILDETRIM],"g");u("TILDE"),o[a.TILDE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAIN]+"$",u("TILDELOOSE"),o[a.TILDELOOSE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAINLOOSE]+"$",u("LONECARET"),o[a.LONECARET]="(?:\\^)",u("CARETTRIM"),o[a.CARETTRIM]="(\\s*)"+o[a.LONECARET]+"\\s+",i[a.CARETTRIM]=new RegExp(o[a.CARETTRIM],"g");u("CARET"),o[a.CARET]="^"+o[a.LONECARET]+o[a.XRANGEPLAIN]+"$",u("CARETLOOSE"),o[a.CARETLOOSE]="^"+o[a.LONECARET]+o[a.XRANGEPLAINLOOSE]+"$",u("COMPARATORLOOSE"),o[a.COMPARATORLOOSE]="^"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+")$|^$",u("COMPARATOR"),o[a.COMPARATOR]="^"+o[a.GTLT]+"\\s*("+o[a.FULLPLAIN]+")$|^$",u("COMPARATORTRIM"),o[a.COMPARATORTRIM]="(\\s*)"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+"|"+o[a.XRANGEPLAIN]+")",i[a.COMPARATORTRIM]=new RegExp(o[a.COMPARATORTRIM],"g");u("HYPHENRANGE"),o[a.HYPHENRANGE]="^\\s*("+o[a.XRANGEPLAIN]+")\\s+-\\s+("+o[a.XRANGEPLAIN]+")\\s*$",u("HYPHENRANGELOOSE"),o[a.HYPHENRANGELOOSE]="^\\s*("+o[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+o[a.XRANGEPLAINLOOSE]+")\\s*$",u("STAR"),o[a.STAR]="(<|>)?=?\\s*\\*";for(var c=0;c<s;c++)r(c,o[c]),i[c]||(i[c]=new RegExp(o[c]));function l(e,t){if(t&&"object"===_typeof$2(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof f)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[a.LOOSE]:i[a.FULL]).test(e))return null;try{return new f(e,t)}catch(e){return null}}function f(e,t){if(t&&"object"===_typeof$2(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof f){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof f))return new f(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=l,t.valid=function(e,t){var r=l(e,t);return r?r.version:null},t.clean=function(e,t){var r=l(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof f||(e=new f(e,this.options)),this.compareMain(e)||this.comparePre(e)},f.prototype.compareMain=function(e){return e instanceof f||(e=new f(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)},f.prototype.comparePre=function(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return d(n,i)}while(++t)},f.prototype.compareBuild=function(e){e instanceof f||(e=new f(e,this.options));var t=0;do{var n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return d(n,i)}while(++t)},f.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new f(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(v(e,t))return null;var r=l(e),n=l(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var a in r)if(("major"===a||"minor"===a||"patch"===a)&&r[a]!==n[a])return i+a;return o},t.compareIdentifiers=d;var h=/^[0-9]+$/;function d(e,t){var r=h.test(e),n=h.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function p(e,t,r){return new f(e,r).compare(new f(t,r))}function y(e,t,r){return p(e,t,r)>0}function m(e,t,r){return p(e,t,r)<0}function v(e,t,r){return 0===p(e,t,r)}function g(e,t,r){return 0!==p(e,t,r)}function b(e,t,r){return p(e,t,r)>=0}function w(e,t,r){return p(e,t,r)<=0}function _(e,t,r,n){switch(t){case"===":return"object"===_typeof$2(e)&&(e=e.version),"object"===_typeof$2(r)&&(r=r.version),e===r;case"!==":return"object"===_typeof$2(e)&&(e=e.version),"object"===_typeof$2(r)&&(r=r.version),e!==r;case"":case"=":case"==":return v(e,r,n);case"!=":return g(e,r,n);case">":return y(e,r,n);case">=":return b(e,r,n);case"<":return m(e,r,n);case"<=":return w(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function $(e,t){if(t&&"object"===_typeof$2(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof $){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof $))return new $(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===x?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return d(t,e)},t.major=function(e,t){return new f(e,t).major},t.minor=function(e,t){return new f(e,t).minor},t.patch=function(e,t){return new f(e,t).patch},t.compare=p,t.compareLoose=function(e,t){return p(e,t,!0)},t.compareBuild=function(e,t,r){var n=new f(e,r),i=new f(t,r);return n.compare(i)||n.compareBuild(i)},t.rcompare=function(e,t,r){return p(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compareBuild(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.compareBuild(n,e,r)}))},t.gt=y,t.lt=m,t.eq=v,t.neq=g,t.gte=b,t.lte=w,t.cmp=_,t.Comparator=$;var x={};function S(e,t){if(t&&"object"===_typeof$2(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof S)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new S(e.raw,t);if(e instanceof $)return new S(e.value,t);if(!(this instanceof S))return new S(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function k(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every((function(e){return i.intersects(e,t)})),i=n.pop();return r}function A(e){return!e||"x"===e.toLowerCase()||"*"===e}function E(e,t,r,n,i,o,a,s,u,c,l,f,h){return((t=A(r)?"":A(n)?">="+r+".0.0":A(i)?">="+r+"."+n+".0":">="+t)+" "+(s=A(u)?"":A(c)?"<"+(+u+1)+".0.0":A(l)?"<"+u+"."+(+c+1)+".0":f?"<="+u+"."+c+"."+l+"-"+f:"<="+s)).trim()}function T(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==x&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function M(e,t,r){try{t=new S(t,r)}catch(e){return!1}return t.test(e)}function I(e,t,r,n){var i,o,a,s,u;switch(e=new f(e,n),t=new S(t,n),r){case">":i=y,o=w,a=m,s=">",u=">=";break;case"<":i=m,o=b,a=y,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],h=null,d=null;if(l.forEach((function(e){e.semver===x&&(e=new $(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,n)?h=e:a(e.semver,d.semver,n)&&(d=e)})),h.operator===s||h.operator===u)return!1;if((!d.operator||d.operator===s)&&o(e,d.semver))return!1;if(d.operator===u&&a(e,d.semver))return!1}return!0}$.prototype.parse=function(e){var t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new f(r[2],this.options.loose):this.semver=x},$.prototype.toString=function(){return this.value},$.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===x||e===x)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return _(e,this.operator,this.semver,this.options)},$.prototype.intersects=function(e,t){if(!(e instanceof $))throw new TypeError("a Comparator is required");var r;if(t&&"object"===_typeof$2(t)||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new S(e.value,t),M(this.value,r,t));if(""===e.operator)return""===e.value||(r=new S(this.value,t),M(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=_(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=_(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&a||s||u},t.Range=S,S.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},S.prototype.toString=function(){return this.range},S.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[a.HYPHENRANGELOOSE]:i[a.HYPHENRANGE];e=e.replace(n,E),r("hyphen replace",e),e=e.replace(i[a.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,i[a.COMPARATORTRIM]),e=(e=(e=e.replace(i[a.TILDETRIM],"$1~")).replace(i[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=t?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[a.CARETLOOSE]:i[a.CARET];return e.replace(n,(function(t,n,i,o,a){var s;return r("caret",e,t,n,i,o,a),A(n)?s="":A(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":A(o)?s="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),s="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+a+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+a+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[a.TILDELOOSE]:i[a.TILDE];return e.replace(n,(function(t,n,i,o,a){var s;return r("tilde",e,t,n,i,o,a),A(n)?s="":A(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":A(o)?s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":a?(r("replaceTilde pr",a),s=">="+n+"."+i+"."+o+"-"+a+" <"+n+"."+(+i+1)+".0"):s=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[a.XRANGELOOSE]:i[a.XRANGE];return e.replace(n,(function(n,i,o,a,s,u){r("xRange",e,n,i,o,a,s,u);var c=A(o),l=c||A(a),f=l||A(s),h=f;return"="===i&&h&&(i=""),u=t.includePrerelease?"-0":"",c?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&h?(l&&(a=0),s=0,">"===i?(i=">=",l?(o=+o+1,a=0,s=0):(a=+a+1,s=0)):"<="===i&&(i="<",l?o=+o+1:a=+a+1),n=i+o+"."+a+"."+s+u):l?n=">="+o+".0.0"+u+" <"+(+o+1)+".0.0"+u:f&&(n=">="+o+"."+a+".0"+u+" <"+o+"."+(+a+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[a.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new $(e,this.options)}),this)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Range is required");return this.set.some((function(r){return k(r,t)&&e.set.some((function(e){return k(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new S(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},S.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1},t.satisfies=M,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new S(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new f(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new S(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new f(n=e,r)))})),n},t.minVersion=function(e,t){e=new S(e,t);var r=new f("0.0.0");if(e.test(r))return r;if(r=new f("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new f(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new S(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return I(e,t,"<",r)},t.gtr=function(e,t,r){return I(e,t,">",r)},t.outside=I,t.prerelease=function(e,t){var r=l(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new S(e,r),t=new S(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof f)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=i[a.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i[a.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;i[a.COERCERTL].lastIndex=-1}else r=e.match(i[a.COERCE]);if(null===r)return null;return l(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}}(semver$1,semver$1.exports);var semver=semver$1.exports;function baseClamp$2(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}var _baseClamp=baseClamp$2;function copyArray$2(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _copyArray=copyArray$2,nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom$1(e,t){return e+nativeFloor(nativeRandom()*(t-e+1))}var _baseRandom=baseRandom$1,baseRandom=_baseRandom;function shuffleSelf$2(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var o=baseRandom(r,i),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var _shuffleSelf=shuffleSelf$2,baseClamp$1=_baseClamp,copyArray$1=_copyArray,shuffleSelf$1=_shuffleSelf;function arraySampleSize$1(e,t){return shuffleSelf$1(copyArray$1(e),baseClamp$1(t,0,e.length))}var _arraySampleSize=arraySampleSize$1;function arrayMap$1(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var _arrayMap=arrayMap$1,arrayMap=_arrayMap;function baseValues$1(e,t){return arrayMap(t,(function(t){return e[t]}))}var _baseValues=baseValues$1;function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _baseTimes=baseTimes$1,freeGlobal$1="object"==_typeof$2(commonjsGlobal$1)&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==("undefined"==typeof self?"undefined":_typeof$2(self))&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,_Symbol2=root$3.Symbol,_Symbol$2=_Symbol2,_Symbol$1=_Symbol$2,objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=_Symbol$1?_Symbol$1.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$a.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var n=!0}catch(e){}var i=nativeObjectToString$1.call(e);return n&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),i}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,_Symbol=_Symbol$2,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag$5(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$5;function isObjectLike$6(e){return null!=e&&"object"==_typeof$2(e)}var isObjectLike_1=isObjectLike$6,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$1="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$5(e)&&baseGetTag$4(e)==argsTag$1}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$4(e)&&hasOwnProperty$9.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$4,isArray$5=Array.isArray,isArray_1=isArray$5,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;!function(e,t){var r=_root,n=stubFalse_1,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;e.exports=s}(isBuffer$3,isBuffer$3.exports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(e,t){var r=_typeof$2(e);return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$3=_baseGetTag,isLength$1=isLength_1,isObjectLike$3=isObjectLike_1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike$3(e)&&isLength$1(e.length)&&!!typedArrayTags[baseGetTag$3(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(e){return function(t){return e(t)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};!function(e,t){var r=_freeGlobal,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&r.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$4=isArray_1,isBuffer$2=isBuffer$3.exports,isIndex$1=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function arrayLikeKeys$2(e,t){var r=isArray$4(e),n=!r&&isArguments$3(e),i=!r&&!n&&isBuffer$2(e),o=!r&&!n&&!i&&isTypedArray$3(e),a=r||n||i||o,s=a?baseTimes(e.length,String):[],u=s.length;for(var c in e)!t&&!hasOwnProperty$8.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex$1(c,u))||s.push(c);return s}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$7=Object.prototype;function isPrototype$3(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$7)}var _isPrototype=isPrototype$3;function overArg$2(e,t){return function(r){return e(t(r))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$2(e))return nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$7.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys$1;function isObject$a(e){var t=_typeof$2(e);return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject$a,baseGetTag$2=_baseGetTag,isObject$9=isObject_1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(e){if(!isObject$9(e))return!1;var t=baseGetTag$2(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$4,isFunction$3=isFunction_1,isLength=isLength_1;function isArrayLike$4(e){return null!=e&&isLength(e.length)&&!isFunction$3(e)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$1(e){return isArrayLike$3(e)?arrayLikeKeys$1(e):baseKeys(e)}var keys_1=keys$1,baseValues=_baseValues,keys=keys_1;function values$1(e){return null==e?[]:baseValues(e,keys(e))}var values_1=values$1,baseClamp=_baseClamp,shuffleSelf=_shuffleSelf,values=values_1;function baseSampleSize$1(e,t){var r=values(e);return shuffleSelf(r,baseClamp(t,0,r.length))}var _baseSampleSize=baseSampleSize$1;function eq$4(e,t){return e===t||e!=e&&t!=t}var eq_1=eq$4,eq$3=eq_1,isArrayLike$2=isArrayLike_1,isIndex=_isIndex,isObject$8=isObject_1;function isIterateeCall$2(e,t,r){if(!isObject$8(r))return!1;var n=_typeof$2(t);return!!("number"==n?isArrayLike$2(r)&&isIndex(t,r.length):"string"==n&&t in r)&&eq$3(r[t],e)}var _isIterateeCall=isIterateeCall$2,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}var _baseTrim=baseTrim$1,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(e){return"symbol"==_typeof$2(e)||isObjectLike$2(e)&&baseGetTag$1(e)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$7=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject$7(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject$7(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(e){return e?(e=toNumber(e))===INFINITY||e===-INFINITY?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}var toFinite_1=toFinite$1,toFinite=toFinite_1;function toInteger$1(e){var t=toFinite(e),r=t%1;return t==t?r?t-r:t:0}var toInteger_1=toInteger$1,arraySampleSize=_arraySampleSize,baseSampleSize=_baseSampleSize,isArray$3=isArray_1,isIterateeCall$1=_isIterateeCall,toInteger=toInteger_1;function sampleSize(e,t,r){return t=(r?isIterateeCall$1(e,t,r):void 0===t)?1:toInteger(t),(isArray$3(e)?arraySampleSize:baseSampleSize)(e,t)}var sampleSize_1=sampleSize,HealthCheckStatus;!function(e){e.UNHEALTHY="unhealthy",e.BEHIND="behind",e.HEALTHY="healthy"}(HealthCheckStatus||(HealthCheckStatus={}));var DEFAULT_LOG_LEVEL="warn",DEFAULT_LOG_PREFIX="[audius-sdk]",logLevels=["debug","info","warn","error"],Logger$1=function(){function e(t){var r,n;_classCallCheck$1(this,e),_defineProperty$3(this,"logLevel",void 0),_defineProperty$3(this,"logPrefix","[audius-sdk]"),this.logLevel=null!==(r=null==t?void 0:t.logLevel)&&void 0!==r?r:DEFAULT_LOG_LEVEL,this.logPrefix=null!==(n=null==t?void 0:t.logPrefix)&&void 0!==n?n:DEFAULT_LOG_PREFIX}return _createClass$1(e,[{key:"createPrefixedLogger",value:function(t){return new e({logLevel:this.logLevel,logPrefix:"".concat(this.logPrefix).concat(t)})}},{key:"debug",value:function(){var e;if(!(logLevels.indexOf(this.logLevel)>logLevels.indexOf("debug"))){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).debug.apply(e,[this.logPrefix].concat(r))}}},{key:"info",value:function(){var e;if(!(logLevels.indexOf(this.logLevel)>logLevels.indexOf("info"))){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[this.logPrefix].concat(r))}}},{key:"warn",value:function(){var e;if(!(logLevels.indexOf(this.logLevel)>logLevels.indexOf("warn"))){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).warn.apply(e,[this.logPrefix].concat(r))}}},{key:"error",value:function(){var e;if(!(logLevels.indexOf(this.logLevel)>logLevels.indexOf("error"))){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).error.apply(e,[this.logPrefix].concat(r))}}}]),e}(),DISCOVERY_SERVICE_NAME="discovery-node",defaultDiscoveryNodeSelectorConfig={initialSelectedNode:null,blocklist:null,allowlist:null,maxConcurrentRequests:6,requestTimeout:3e4,unhealthyTTL:36e5,backupsTTL:12e4,healthCheckThresholds:{minVersion:servicesConfig.minVersion,maxSlotDiffPlays:null,maxBlockDiff:15},bootstrapServices:servicesConfig.discoveryNodes,logger:new Logger$1};function ownKeys$e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$e(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var isFullFlaskResponse=function(e){return void 0!==e.version},isCommsResponse=function(e){return void 0!==e.health},isIndexerHealthy=function(e){var t=e.data,r=e.maxBlockDiff;return void 0===t.block_difference||null===t.block_difference||t.block_difference<=r},isApiIndexerHealthy=function(e){var t=e.data,r=e.maxBlockDiff;return null===t.latest_chain_block||null===t.latest_indexed_block||void 0===t.latest_chain_block||void 0===t.latest_indexed_block||t.latest_chain_block-t.latest_indexed_block<=r},isSolanaIndexerHealthy=function(e){var t,r,n,i,o,a,s,u,c=e.data,l=e.maxSlotDiffPlays;return!(null!==(t=c.plays)&&void 0!==t&&t.is_unhealthy||null!==(r=c.rewards_manager)&&void 0!==r&&r.is_unhealthy||null!==(n=c.spl_audio_info)&&void 0!==n&&n.is_unhealthy||null!==(i=c.user_bank)&&void 0!==i&&i.is_unhealthy||null!==(o=c.plays)&&void 0!==o&&null!==(a=o.tx_info)&&void 0!==a&&a.slot_diff&&null!==l&&!((null===(s=c.plays)||void 0===s||null===(u=s.tx_info)||void 0===u?void 0:u.slot_diff)<=l))},isApiSolanaIndexerHealthy=function(e){var t=e.data,r=e.maxSlotDiffPlays;return!r||!t.latest_chain_slot_plays||!t.latest_indexed_slot_plays||t.latest_chain_slot_plays-t.latest_indexed_slot_plays<=r},parseApiHealthStatusReason=function(e){var t=e.data,r=e.healthCheckThresholds,n=r.minVersion,i=r.maxBlockDiff,o=r.maxSlotDiffPlays;if(isFullFlaskResponse(t)){var a;if((null===(a=t.version)||void 0===a?void 0:a.service)!==DISCOVERY_SERVICE_NAME)return{health:HealthCheckStatus.UNHEALTHY,reason:"name"};if(n){if(!t.version.version)return{health:HealthCheckStatus.UNHEALTHY,reason:"version"};if(semver.lt(t.version.version,n))return{health:HealthCheckStatus.BEHIND,reason:"version"}}if(!isApiIndexerHealthy({data:t,maxBlockDiff:i}))return{health:HealthCheckStatus.BEHIND,reason:"block diff"};if(!isApiSolanaIndexerHealthy({data:t,maxSlotDiffPlays:o}))return{health:HealthCheckStatus.BEHIND,reason:"slot diff"}}else isCommsResponse(t);return{health:HealthCheckStatus.HEALTHY}},getHealthCheckData=function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/health_check"),i=null,o=null,e.next=5,fetch$1(n,r);case 5:if((a=e.sent).ok){e.next=8;break}throw new Error(a.statusText);case 8:return e.next=10,a.json();case 10:if(s=e.sent,i=s.data,o=s.comms,i){e.next=15;break}throw new Error("data");case 15:if(o){e.next=17;break}throw new Error("comms");case 17:return e.abrupt("return",{data:i,comms:o});case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),parseHealthStatusReason=function(e){var t=e.data,r=e.comms,n=e.healthCheckThresholds,i=n.minVersion,o=n.maxBlockDiff,a=n.maxSlotDiffPlays;if(null===t)return{health:HealthCheckStatus.UNHEALTHY,reason:"data"};if(t.service!==DISCOVERY_SERVICE_NAME)return{health:HealthCheckStatus.UNHEALTHY,reason:"name"};if(null==r||!r.healthy)return{health:HealthCheckStatus.UNHEALTHY,reason:"comms"};if(i){if(!t.version)return{health:HealthCheckStatus.UNHEALTHY,reason:"version"};if(semver.lt(t.version,i))return{health:HealthCheckStatus.BEHIND,reason:"version"}}return isIndexerHealthy({data:t,maxBlockDiff:o})?isSolanaIndexerHealthy({data:t,maxSlotDiffPlays:a})?{health:HealthCheckStatus.HEALTHY}:{health:HealthCheckStatus.BEHIND,reason:"slot diff"}:{health:HealthCheckStatus.BEHIND,reason:"block diff"}},getDiscoveryNodeHealthCheck=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.endpoint,n=t.healthCheckThresholds,i=t.fetchOptions,o=t.timeoutMs,a=[],void 0!==o&&(s=new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),o)})),a.push(s)),e.prev=3,e.next=6,Promise.race([getHealthCheckData(r,i)].concat(a));case 6:return u=e.sent,c=u.data,l=u.comms,f=parseHealthStatusReason({data:c,comms:l,healthCheckThresholds:n}),e.abrupt("return",_objectSpread$e(_objectSpread$e({},f),{},{data:c}));case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",{health:HealthCheckStatus.UNHEALTHY,reason:null===e.t0||void 0===e.t0?void 0:e.t0.message,data:null});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),promiseAny=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Promise.any){e.next=2;break}return e.abrupt("return",Promise.any(t));case 2:return e.next=4,Promise.all(_toConsumableArray(t).map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){Promise.resolve(t).then(r,e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.reject(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_global="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;if(!_global)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!_global.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');var AbortController=_global.AbortController;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1,eq$2=eq_1;function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(eq$2(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$3(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$2(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var r=this.__data__,n=assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,root$2=_root,coreJsData$1=root$2["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$1(e){if(null!=e){try{return funcToString$2.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource$1,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$6=isObject_1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$5=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$6=objectProto$5.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject$6(e)||isMasked(e))&&(isFunction$2(e)?reIsNative:reIsHostCtor).test(toSource(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return null==e?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$3(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var _getNative=getNative$3,getNative$2=_getNative,root$1=_root,Map$3=getNative$2(root$1,"Map"),_Map=Map$3,getNative$1=_getNative,nativeCreate$4=getNative$1(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var r=t[e];return r===HASH_UNDEFINED$1?void 0:r}return hasOwnProperty$5.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty$4.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$9(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$9.prototype.clear=hashClear,Hash$9.prototype.delete=hashDelete,Hash$9.prototype.get=hashGet,Hash$9.prototype.has=hashHas,Hash$9.prototype.set=hashSet;var _Hash=Hash$9,Hash$8=_Hash,ListCache$2=_ListCache,Map$2=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash$8,map:new(Map$2||ListCache$2),string:new Hash$8}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=_typeof$2(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var r=getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$1.prototype.clear=mapCacheClear,MapCache$1.prototype.delete=mapCacheDelete,MapCache$1.prototype.get=mapCacheGet,MapCache$1.prototype.has=mapCacheHas,MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,ListCache$1=_ListCache,Map$1=_Map,MapCache=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof ListCache$1){var n=r.__data__;if(!Map$1||n.length<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$1.prototype.clear=stackClear,Stack$1.prototype.delete=stackDelete,Stack$1.prototype.get=stackGet,Stack$1.prototype.has=stackHas,Stack$1.prototype.set=stackSet;var _Stack=Stack$1,getNative=_getNative,defineProperty$3=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty=defineProperty$3,defineProperty$2=_defineProperty;function baseAssignValue$3(e,t,r){"__proto__"==t&&defineProperty$2?defineProperty$2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _baseAssignValue=baseAssignValue$3,baseAssignValue$2=_baseAssignValue,eq$1=eq_1;function assignMergeValue$2(e,t,r){(void 0!==r&&!eq$1(e[t],r)||void 0===r&&!(t in e))&&baseAssignValue$2(e,t,r)}var _assignMergeValue=assignMergeValue$2;function createBaseFor$1(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,_cloneBuffer={exports:{}};!function(e,t){var r=_root,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(_cloneBuffer,_cloneBuffer.exports);var root=_root,Uint8Array$2=root.Uint8Array,_Uint8Array=Uint8Array$2,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$1(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}var _cloneArrayBuffer=cloneArrayBuffer$1,cloneArrayBuffer=_cloneArrayBuffer;function cloneTypedArray$1(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$1,isObject$5=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function e(){}return function(t){if(!isObject$5(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_baseCreate=baseCreate$1,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype$1=_isPrototype;function initCloneObject$1(e){return"function"!=typeof e.constructor||isPrototype$1(e)?{}:baseCreate(getPrototype$1(e))}var _initCloneObject=initCloneObject$1,isArrayLike$1=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(e){return isObjectLike$1(e)&&isArrayLike$1(e)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag)return!1;var t=getPrototype(e);if(null===t)return!0;var r=hasOwnProperty$3.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&funcToString.call(r)==objectCtorString}var isPlainObject_1=isPlainObject$1;function safeGet$2(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _safeGet=safeGet$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function assignValue$1(e,t,r){var n=e[t];hasOwnProperty$2.call(e,t)&&eq(n,r)&&(void 0!==r||t in e)||baseAssignValue$1(e,t,r)}var _assignValue=assignValue$1,assignValue=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$1(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?baseAssignValue(r,s,u):assignValue(r,s,u)}return r}var _copyObject=copyObject$1;function nativeKeysIn$1(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn$1,isObject$4=isObject_1,isPrototype=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$4(e))return nativeKeysIn(e);var t=isPrototype(e),r=[];for(var n in e)("constructor"!=n||!t&&hasOwnProperty$1.call(e,n))&&r.push(n);return r}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$2(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$2,copyObject=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(e){return copyObject(e,keysIn$1(e))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBuffer.exports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments$2=isArguments_1,isArray$2=isArray_1,isArrayLikeObject=isArrayLikeObject_1,isBuffer$1=isBuffer$3.exports,isFunction$1=isFunction_1,isObject$3=isObject_1,isPlainObject=isPlainObject_1,isTypedArray$2=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(e,t,r,n,i,o,a){var s=safeGet$1(e,r),u=safeGet$1(t,r),c=a.get(u);if(c)assignMergeValue$1(e,r,c);else{var l=o?o(s,u,r+"",e,t,a):void 0,f=void 0===l;if(f){var h=isArray$2(u),d=!h&&isBuffer$1(u),p=!h&&!d&&isTypedArray$2(u);l=u,h||d||p?isArray$2(s)?l=s:isArrayLikeObject(s)?l=copyArray(s):d?(f=!1,l=cloneBuffer(u,!0)):p?(f=!1,l=cloneTypedArray(u,!0)):l=[]:isPlainObject(u)||isArguments$2(u)?(l=s,isArguments$2(s)?l=toPlainObject(s):isObject$3(s)&&!isFunction$1(s)||(l=initCloneObject(u))):f=!1}f&&(a.set(u,l),i(l,u,n,o,a),a.delete(u)),assignMergeValue$1(e,r,l)}}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$2=isObject_1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$1(e,t,r,n,i){e!==t&&baseFor(t,(function(o,a){if(i||(i=new Stack),isObject$2(o))baseMergeDeep(e,t,a,r,baseMerge$1,n,i);else{var s=n?n(safeGet(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),assignMergeValue(e,a,s)}}),keysIn)}var _baseMerge=baseMerge$1;function identity$5(e){return e}var identity_1=identity$5;function apply$1(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$1(e,t,r){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=nativeMax(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),apply(e,this,s)}}var _overRest=overRest$1;function constant$1(e){return function(){return e}}var constant_1=constant$1,constant=constant_1,defineProperty$1=_defineProperty,identity$4=identity_1,baseSetToString$1=defineProperty$1?function(e,t){return defineProperty$1(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$4,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(e){var t=0,r=0;return function(){var n=nativeNow(),i=HOT_SPAN-(n-r);if(r=n,i>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$3=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(e,t){return setToString(overRest(e,t,identity$3),e+"")}var _baseRest=baseRest$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(e){return baseRest((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&isIterateeCall(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,mergeWith=createAssigner((function(e,t,r,n){baseMerge(e,t,r,n)})),mergeWith_1=mergeWith,mergeConfigWithDefaults=function(e,t){return mergeWith_1({},t,e,(function(e,t){if(Array.isArray(t))return t}))},getPathFromUrl=function(e){var t=e.match(/^([a-z]+:\/\/)?(?:www\.)?([^/]+)?(.*)$/);if(null!=t&&t[3])return t[3];throw new Error("Invalid URL, couldn't get path.")},DiscoveryNodeSelector=function(){function e(t){var r,n;_classCallCheck$1(this,e),_defineProperty$3(this,"services",void 0),_defineProperty$3(this,"selectedNode",void 0),_defineProperty$3(this,"config",void 0),_defineProperty$3(this,"_isBehind",void 0),_defineProperty$3(this,"unhealthyServices",void 0),_defineProperty$3(this,"backupServices",void 0),_defineProperty$3(this,"unhealthyCleanupTimeout",null),_defineProperty$3(this,"backupCleanupTimeout",null),_defineProperty$3(this,"reselectLock",!1),_defineProperty$3(this,"eventEmitter",void 0),_defineProperty$3(this,"addEventListener",void 0),_defineProperty$3(this,"removeEventListener",void 0),_defineProperty$3(this,"logger",void 0),this.config=mergeConfigWithDefaults(t,defaultDiscoveryNodeSelectorConfig),this.services=this.config.bootstrapServices,this._isBehind=!1,this.unhealthyServices=new Set([]),this.backupServices={},this.selectedNode=!this.config.initialSelectedNode||this.config.allowlist&&(null===(r=this.config.allowlist)||void 0===r||!r.has(this.config.initialSelectedNode))||null!==(n=this.config.blocklist)&&void 0!==n&&n.has(this.config.initialSelectedNode)?null:this.config.initialSelectedNode,this.eventEmitter=new EventEmitter$2,this.eventEmitter.setMaxListeners(1e3),this.addEventListener=this.eventEmitter.addListener.bind(this.eventEmitter),this.removeEventListener=this.eventEmitter.removeListener.bind(this.eventEmitter),this.logger=this.config.logger.createPrefixedLogger("[discovery-node-selector]")}var t,r,n,i,o,a;return _createClass$1(e,[{key:"isBehind",get:function(){return this._isBehind},set:function(e){e&&!this._isBehind?this.logger.warn("using behind discovery node",this.selectedNode):!e&&this._isBehind&&this.logger.info("discovery node no longer behind",this.selectedNode),this._isBehind=e}},{key:"updateConfig",value:function(e){var t;(this.config=mergeConfigWithDefaults(e,this.config),this.selectedNode)&&((e.healthCheckThresholds||e.allowlist&&!e.allowlist.has(this.selectedNode)||null!==(t=e.blocklist)&&void 0!==t&&t.has(this.selectedNode))&&(this.selectedNode=null))}},{key:"createMiddleware",value:function(){var e,t,r,n=this;return{pre:(r=_asyncToGenerator(regenerator.mark((function e(t){var r,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.url).startsWith("http")){e.next=6;break}return e.next=4,n.getSelectedEndpoint();case 4:i=e.sent,r="".concat(i).concat(t.url);case 6:return e.abrupt("return",{url:r,init:t.init});case 7:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),post:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,i,o,a,s,u,c,l,f,h,d,p,y;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.response,e.next=3,n.getSelectedEndpoint();case 3:if(i=e.sent){e.next=9;break}return e.next=7,n.select(i);case 7:case 19:e.next=24;break;case 9:if(!r.ok){e.next=21;break}return c=r.clone(),e.next=13,c.json();case 13:return l=e.sent,f=parseApiHealthStatusReason({data:l,healthCheckThresholds:n.config.healthCheckThresholds}),h=f.health,d=f.reason,p=isFullFlaskResponse(l)?(null!==(o=l.latest_chain_block)&&void 0!==o?o:0)-(null!==(a=l.latest_indexed_block)&&void 0!==a?a:0):0,y=isFullFlaskResponse(l)&&null!==(s=null===(u=l.version)||void 0===u?void 0:u.version)&&void 0!==s?s:"",e.next=19,n.reselectIfNecessary({endpoint:i,health:h,reason:d,data:{block_difference:p,version:y}});case 21:return e.next=23,n.reselectAndRetry({context:t,endpoint:i});case 23:return e.abrupt("return",e.sent);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onError:(e=_asyncToGenerator(regenerator.mark((function e(t){var r,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getSelectedEndpoint();case 2:if(r=e.sent,i=t.response,r){e.next=9;break}return e.next=7,n.select(r);case 7:e.next=12;break;case 9:return e.next=11,n.reselectAndRetry({context:t,endpoint:r});case 11:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}}},{key:"getSelectedEndpoint",value:(a=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.selectedNode){e.next=2;break}return e.abrupt("return",this.selectedNode);case 2:return e.next=4,this.select(null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getServices",value:function(){return this.services}},{key:"select",value:(o=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.reselectLock){e.next=3;break}return e.next=3,new Promise((function(e){c.eventEmitter.once("reselectAttemptComplete",(function(){e()}))}));case 3:if(t===this.selectedNode||null==this.selectedNode){e.next=5;break}return e.abrupt("return",this.selectedNode);case 5:this.reselectLock=!0,e.prev=6,this.logger.debug("Selecting new discovery node..."),r=[],n=_toConsumableArray(this.services),r.push({stage:DECISION_TREE_STATE.GET_ALL_SERVICES,val:n}),this.config.allowlist&&(n=n.filter((function(e){var t;return null===(t=c.config.allowlist)||void 0===t?void 0:t.has(e)})),r.push({stage:DECISION_TREE_STATE.FILTER_TO_WHITELIST,val:n})),this.config.blocklist&&(n=n.filter((function(e){var t;return!(null!==(t=c.config.blocklist)&&void 0!==t&&t.has(e))})),r.push({stage:DECISION_TREE_STATE.FILTER_FROM_BLACKLIST,val:n})),i=null,o=0;case 15:if(null!==i){e.next=44;break}if(a=n.filter((function(e){return!c.unhealthyServices.has(e)})),r.push({stage:DECISION_TREE_STATE.FILTER_OUT_KNOWN_UNHEALTHY,val:a}),0!==a.length){e.next=35;break}if(r.push({stage:DECISION_TREE_STATE.NO_SERVICES_LEFT_TO_TRY}),!(Object.keys(this.backupServices).length>0)){e.next=30;break}return e.next=23,this.selectFromBackups();case 23:return s=e.sent,r.push({stage:DECISION_TREE_STATE.SELECTED_FROM_BACKUP,val:s}),this.selectedNode=s,this.isBehind=!0,e.abrupt("return",s);case 30:return this.unhealthyServices=new Set([]),this.backupServices={},r.push({stage:DECISION_TREE_STATE.FAILED_AND_RESETTING}),this.logger.error("Failed to select discovery node",r),e.abrupt("return",null);case 35:return u=sampleSize_1(a,this.config.maxConcurrentRequests),r.push({stage:DECISION_TREE_STATE.GET_SELECTION_ROUND,val:u}),e.next=39,this.anyHealthyEndpoint(u);case 39:i=e.sent,o+=u.length,i||(r.push({stage:DECISION_TREE_STATE.ROUND_FAILED_RETRY}),this.logger.debug("No healthy services found. Attempting another round...",{attemptedServicesCount:o})),e.next=15;break;case 44:return this.triggerCleanup(),r.push({stage:DECISION_TREE_STATE.MADE_A_SELECTION,val:i}),i&&(this.selectedNode=i,this.eventEmitter.emit("change",i)),this.logger.info("Selected discprov ".concat(i),r,{attemptedServicesCount:o}),this.isBehind=!1,e.abrupt("return",this.selectedNode);case 50:return e.prev=50,this.reselectLock=!1,this.eventEmitter.emit("reselectAttemptComplete"),e.finish(50);case 54:case"end":return e.stop()}}),e,this,[[6,,50,54]])}))),function(e){return o.apply(this,arguments)})},{key:"anyHealthyEndpoint",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new AbortController,n=t.map(function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var n,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getDiscoveryNodeHealthCheck({endpoint:t,fetchOptions:{signal:r.signal},timeoutMs:i.config.requestTimeout,healthCheckThresholds:i.config.healthCheckThresholds});case 2:if(n=e.sent,o=n.health,a=n.data,s=n.reason,o===HealthCheckStatus.HEALTHY){e.next=11;break}throw null!=s&&s.toLowerCase().includes("aborted")?i.logger.debug("health_check",t,o,s):o===HealthCheckStatus.UNHEALTHY?(i.unhealthyServices.add(t),i.logger.debug("health_check",t,o,s)):o===HealthCheckStatus.BEHIND&&(i.unhealthyServices.add(t),a&&(i.backupServices[t]={endpoint:t,block_difference:a.block_difference,version:a.version}),i.logger.debug("health_check",t,o,s)),new Error("".concat(t," ").concat(o,": ").concat(s));case 11:return i.logger.debug("health_check",t,o),r.abort(),null!=a&&null!==(u=a.network)&&void 0!==u&&u.discovery_nodes&&a.network.discovery_nodes.length>0?i.services=a.network.discovery_nodes:i.logger.warn("Couldn't load new service list from healthy service",t),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.prev=2,e.next=5,promiseAny(n);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),this.logger.error("No healthy nodes",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return i.apply(this,arguments)})},{key:"reselectIfNecessary",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.endpoint,n=t.health,i=t.reason,o=t.data,n!==HealthCheckStatus.HEALTHY){e.next=6;break}return this.isBehind=!1,e.abrupt("return",r);case 6:if(!this.isBehind||!HealthCheckStatus.BEHIND){e.next=10;break}return e.abrupt("return",r);case 10:return n!==HealthCheckStatus.UNHEALTHY&&o?n===HealthCheckStatus.BEHIND&&(this.backupServices[r]={endpoint:r,block_difference:o.block_difference,version:o.version}):this.unhealthyServices.add(r),this.logger.warn("api_health_check failed, reselecting",r,n,i),e.next=14,this.select(r);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"triggerCleanup",value:function(){var e=this;this.unhealthyCleanupTimeout&&clearTimeout(this.unhealthyCleanupTimeout),this.backupCleanupTimeout&&clearTimeout(this.backupCleanupTimeout),this.unhealthyCleanupTimeout=setTimeout((function(){e.unhealthyServices=new Set([])}),this.config.unhealthyTTL),this.backupCleanupTimeout=setTimeout((function(){e.backupServices={}}),this.config.backupsTTL)}},{key:"selectFromBackups",value:(r=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i,o=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object.values(this.backupServices).sort((function(e,t){var r=semver.rcompare(e.version,t.version);return 0===r?e.block_difference-t.block_difference:r})),n=r.find((function(e){return e.block_difference<=o.config.healthCheckThresholds.maxBlockDiff})),i=r[0],n||!i){e.next=5;break}return e.abrupt("return",i.endpoint);case 5:return e.abrupt("return",null!==(t=null==n?void 0:n.endpoint)&&void 0!==t?t:null);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"reselectAndRetry",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.context,o=t.endpoint,this.logger.warn("request failed",o,i),e.next=4,getDiscoveryNodeHealthCheck({endpoint:o,healthCheckThresholds:this.config.healthCheckThresholds});case 4:return a=e.sent,s=a.health,u=a.data,c=a.reason,e.next=10,this.reselectIfNecessary({endpoint:o,health:s,reason:c,data:{block_difference:null!==(r=null==u?void 0:u.block_difference)&&void 0!==r?r:0,version:null!==(n=null==u?void 0:u.version)&&void 0!==n?n:""}});case 10:if(!(l=e.sent)||l===o){e.next=22;break}return e.prev=12,f=getPathFromUrl(i.url),e.next=16,i.fetch("".concat(l).concat(f),i.init);case 16:return e.abrupt("return",e.sent);case 19:e.prev=19,e.t0=e.catch(12),this.logger.error("Retry on new node failed",l);case 22:return e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e,this,[[12,19]])}))),function(e){return t.apply(this,arguments)})}]),e}(),_Buffer=safeBuffer.exports.Buffer;function base$6(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return _Buffer.alloc(0);for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=a*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}for(var d=o-i;d!==o&&0===c[d];)d++;var p=_Buffer.allocUnsafe(n+(o-d));p.fill(0,0,n);for(var y=n;d!==o;)p[y++]=c[d++];return p}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=_Buffer.from(t)),!_Buffer.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var f=t[i],h=0,d=u-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var y=s.repeat(r);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}var src$a=base$6,basex=src$a,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET),Web3;Web3="undefined"!=typeof window&&window&&window.Web3?window.Web3:require$$0__default.default;var LibsWeb3=Web3,axios$2={exports:{}},bind$4=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},bind$3=bind$4,toString$2=Object.prototype.toString;function isArray$1(e){return"[object Array]"===toString$2.call(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString$2.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject$1(e){return null!==e&&"object"===_typeof$2(e)}function isDate(e){return"[object Date]"===toString$2.call(e)}function isFile(e){return"[object File]"===toString$2.call(e)}function isBlob(e){return"[object Blob]"===toString$2.call(e)}function isFunction(e){return"[object Function]"===toString$2.call(e)}function isStream(e){return isObject$1(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach$2(e,t){if(null!=e)if("object"!==_typeof$2(e)&&(e=[e]),isArray$1(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function merge$1(){var e={};function t(t,r){"object"===_typeof$2(e[r])&&"object"===_typeof$2(t)?e[r]=merge$1(e[r],t):e[r]=t}for(var r=0,n=arguments.length;r<n;r++)forEach$2(arguments[r],t);return e}function deepMerge(){var e={};function t(t,r){"object"===_typeof$2(e[r])&&"object"===_typeof$2(t)?e[r]=deepMerge(e[r],t):"object"===_typeof$2(t)?e[r]=deepMerge({},t):e[r]=t}for(var r=0,n=arguments.length;r<n;r++)forEach$2(arguments[r],t);return e}function extend(e,t,r){return forEach$2(t,(function(t,n){e[n]=r&&"function"==typeof t?bind$3(t,r):t})),e}var utils$L={isArray:isArray$1,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject$1,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach$2,merge:merge$1,deepMerge:deepMerge,extend:extend,trim:trim},utils$K=utils$L;function encode$b(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(utils$K.isURLSearchParams(t))n=t.toString();else{var i=[];utils$K.forEach(t,(function(e,t){null!=e&&(utils$K.isArray(e)?t+="[]":e=[e],utils$K.forEach(e,(function(e){utils$K.isDate(e)?e=e.toISOString():utils$K.isObject(e)&&(e=JSON.stringify(e)),i.push(encode$b(t)+"="+encode$b(e))})))})),n=i.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},utils$J=utils$L;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager$1.prototype.forEach=function(e){utils$J.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var InterceptorManager_1=InterceptorManager$1,utils$I=utils$L,transformData$1=function(e,t,r){return utils$I.forEach(r,(function(r){e=r(e,t)})),e},isCancel$1=function(e){return!(!e||!e.__CANCEL__)},utils$H=utils$L,normalizeHeaderName$1=function(e,t){utils$H.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},enhanceError$1=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},enhanceError=enhanceError$1,createError$3=function(e,t,r,n,i){var o=new Error(e);return enhanceError(o,t,r,n,i)},createError$2=createError$3,settle$1=function(e,t,r){var n=r.config.validateStatus;!n||n(r.status)?e(r):t(createError$2("Request failed with status code "+r.status,r.config,null,r.request,r))},isAbsoluteURL$1=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs$1=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},utils$G=utils$L,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(e){var t,r,n,i={};return e?(utils$G.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=utils$G.trim(e.substr(0,n)).toLowerCase(),r=utils$G.trim(e.substr(n+1)),t){if(i[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i},utils$F=utils$L,isURLSameOrigin$1=utils$F.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=utils$F.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},utils$E=utils$L,cookies=utils$E.isStandardBrowserEnv()?{write:function(e,t,r,n,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),utils$E.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),utils$E.isString(n)&&a.push("path="+n),utils$E.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},utils$D=utils$L,settle=settle$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError$1=createError$3,xhr=function(e){return new Promise((function(t,r){var n=e.data,i=e.headers;utils$D.isFormData(n)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";i.Authorization="Basic "+btoa(a+":"+s)}var u=buildFullPath(e.baseURL,e.url);if(o.open(e.method.toUpperCase(),buildURL$1(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in o?parseHeaders(o.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:n,config:e,request:o};settle(t,r,i),o=null}},o.onabort=function(){o&&(r(createError$1("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){r(createError$1("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(createError$1(t,e,"ECONNABORTED",o)),o=null},utils$D.isStandardBrowserEnv()){var c=cookies,l=(e.withCredentials||isURLSameOrigin(u))&&e.xsrfCookieName?c.read(e.xsrfCookieName):void 0;l&&(i[e.xsrfHeaderName]=l)}if("setRequestHeader"in o&&utils$D.forEach(i,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),utils$D.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),r(e),o=null)})),void 0===n&&(n=null),o.send(n)}))},utils$C=utils$L,normalizeHeaderName=normalizeHeaderName$1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils$C.isUndefined(e)&&utils$C.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||void 0!==browser$1$1&&"[object process]"===Object.prototype.toString.call(browser$1$1))&&(e=xhr),e}var defaults$2={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils$C.isFormData(e)||utils$C.isArrayBuffer(e)||utils$C.isBuffer(e)||utils$C.isStream(e)||utils$C.isFile(e)||utils$C.isBlob(e)?e:utils$C.isArrayBufferView(e)?e.buffer:utils$C.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils$C.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$C.forEach(["delete","get","head"],(function(e){defaults$2.headers[e]={}})),utils$C.forEach(["post","put","patch"],(function(e){defaults$2.headers[e]=utils$C.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults$2,utils$B=utils$L,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1;function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest$1=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils$B.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$B.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||defaults$1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData(t.data,t.headers,e.transformResponse),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},utils$A=utils$L,mergeConfig$2=function(e,t){t=t||{};var r={},n=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];utils$A.forEach(n,(function(e){void 0!==t[e]&&(r[e]=t[e])})),utils$A.forEach(i,(function(n){utils$A.isObject(t[n])?r[n]=utils$A.deepMerge(e[n],t[n]):void 0!==t[n]?r[n]=t[n]:utils$A.isObject(e[n])?r[n]=utils$A.deepMerge(e[n]):void 0!==e[n]&&(r[n]=e[n])})),utils$A.forEach(o,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var a=n.concat(i).concat(o),s=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return utils$A.forEach(s,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r},utils$z=utils$L,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=mergeConfig$1(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[dispatchRequest,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},Axios$1.prototype.getUri=function(e){return e=mergeConfig$1(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},utils$z.forEach(["delete","get","head","options"],(function(e){Axios$1.prototype[e]=function(t,r){return this.request(utils$z.merge(r||{},{method:e,url:t}))}})),utils$z.forEach(["post","put","patch"],(function(e){Axios$1.prototype[e]=function(t,r,n){return this.request(utils$z.merge(n||{},{method:e,url:t,data:r}))}}));var Axios_1=Axios$1;function Cancel$1(e){this.message=e}Cancel$1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel$1.prototype.__CANCEL__=!0;var Cancel_1=Cancel$1,Cancel=Cancel_1;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new Cancel(e),t(r.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken((function(t){e=t})),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}},utils$y=utils$L,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(e){var t=new Axios(e),r=bind$2(Axios.prototype.request,t);return utils$y.extend(r,Axios.prototype,t),utils$y.extend(r,t),r}var axios$1=createInstance(defaults);axios$1.Axios=Axios,axios$1.create=function(e){return createInstance(mergeConfig(axios$1.defaults,e))},axios$1.Cancel=Cancel_1,axios$1.CancelToken=CancelToken_1,axios$1.isCancel=isCancel$1,axios$1.all=function(e){return Promise.all(e)},axios$1.spread=spread,axios$2.exports=axios$1,axios$2.exports.default=axios$1;var axios=axios$2.exports,util$6={},types$2={},shams$1=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof$2(Symbol.iterator))return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"===_typeof$2(origSymbol("foo"))&&("symbol"===_typeof$2(Symbol("bar"))&&hasSymbolSham())))},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(e){var t=this;if("function"!=typeof t||toStr$1.call(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r,n=slice.call(arguments,1),i=function(){if(this instanceof r){var i=t.apply(this,n.concat(slice.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(slice.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],s=0;s<o;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,r.prototype=new u,u.prototype=null}return r},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src$9=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(e){try{return $gOPD$1(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto$1=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray="undefined"==typeof Uint8Array?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":_typeof$2(JSON))?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto$1((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto$1((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet},doEval=function e(t){var r;if("%AsyncFunction%"===t)r=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===t)r=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=getProto$1(i.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$2=src$9,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if("%"===t&&"%"!==r)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var n=[];return $replace(e,rePropName,(function(e,t,r,i){n[n.length]=r?$replace(i,reEscapeChar,"$1"):t||e})),n},getBaseIntrinsic=function(e,t){var r,n=e;if(hasOwn$2(LEGACY_ALIASES,n)&&(n="%"+(r=LEGACY_ALIASES[n])[0]+"%"),hasOwn$2(INTRINSICS,n)){var i=INTRINSICS[n];if(i===needsEval&&(i=doEval(n)),void 0===i&&!t)throw new $TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $TypeError('"allowMissing" argument must be a boolean');var r=stringToPath(e),n=r.length>0?r[0]:"",i=getBaseIntrinsic("%"+n+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(n=u[0],$spliceApply(r,$concat([0,1],u)));for(var c=1,l=!0;c<r.length;c+=1){var f=r[c],h=$strSlice(f,0,1),d=$strSlice(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==f&&l||(s=!0),hasOwn$2(INTRINSICS,o="%"+(n+="."+f)+"%"))a=INTRINSICS[o];else if(null!=a){if(!(f in a)){if(!t)throw new $TypeError("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&c+1>=r.length){var p=$gOPD$1(a,f);a=(l=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:a[f]}else l=hasOwn$2(a,f),a=a[f];l&&!s&&(INTRINSICS[o]=a)}}return a},callBind$1={exports:{}};!function(e){var t=functionBind,r=getIntrinsic,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(i,n),a=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var r=o(t,i,arguments);if(a&&s){var n=a(r,"length");n.configurable&&s(r,"length",{value:1+u(0,e.length-(arguments.length-1))})}return r};var c=function(){return o(t,n,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=function(e,t){var r=GetIntrinsic$1(e,!!t);return"function"==typeof r&&$indexOf$1(e,".prototype.")>-1?callBind(r):r},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(e){return!(hasToStringTag$3&&e&&"object"===_typeof$2(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===$toString$2(e)},isLegacyArguments=function(e){return!!isStandardArguments(e)||null!==e&&"object"===_typeof$2(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==$toString$2(e)&&"[object Function]"===$toString$2(e.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch(e){}},GeneratorFunction,isGeneratorFunction=function(e){if("function"!=typeof e)return!1;if(isFnRegex.test(fnToStr.call(e)))return!0;if(!hasToStringTag$2)return"[object GeneratorFunction]"===toStr.call(e);if(!getProto)return!1;if(void 0===GeneratorFunction){var t=getGeneratorFunc();GeneratorFunction=!!t&&getProto(t)}return getProto(e)===GeneratorFunction},hasOwn$1=Object.prototype.hasOwnProperty,toString$1=Object.prototype.toString,foreach=function(e,t,r){if("[object Function]"!==toString$1.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var i=0;i<n;i++)t.call(r,e[i],i,e);else for(var o in e)hasOwn$1.call(e,o)&&t.call(r,e[o],o,e)},possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,availableTypedArrays$2=function(){for(var e=[],t=0;t<possibleNames.length;t++)"function"==typeof g$2[possibleNames[t]]&&(e[e.length]=possibleNames[t]);return e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var getOwnPropertyDescriptor=$gOPD,forEach$1=foreach,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$1="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=getOwnPropertyDescriptor,getPrototypeOf$2=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$2&&forEach$1(typedArrays$1,(function(e){var t=new g$1[e];if(Symbol.toStringTag in t){var r=getPrototypeOf$2(t),n=gOPD$1(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf$2(r);n=gOPD$1(i,Symbol.toStringTag)}toStrTags$1[e]=n.get}}));var tryTypedArrays$1=function(e){var t=!1;return forEach$1(toStrTags$1,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t},isTypedArray$1=function(e){if(!e||"object"!==_typeof$2(e))return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in e)){var t=$slice$1($toString$1(e),8,-1);return $indexOf(typedArrays$1,t)>-1}return!!gOPD$1&&tryTypedArrays$1(e)},forEach=foreach,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g="undefined"==typeof globalThis?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf$1&&forEach(typedArrays,(function(e){if("function"==typeof g[e]){var t=new g[e];if(Symbol.toStringTag in t){var r=getPrototypeOf$1(t),n=gOPD(r,Symbol.toStringTag);if(!n){var i=getPrototypeOf$1(r);n=gOPD(i,Symbol.toStringTag)}toStrTags[e]=n.get}}}));var tryTypedArrays=function(e){var t=!1;return forEach(toStrTags,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t},isTypedArray=isTypedArray$1,whichTypedArray=function(e){return!!isTypedArray(e)&&(hasToStringTag&&Symbol.toStringTag in e?tryTypedArrays(e):$slice($toString(e),8,-1))};!function(e){var t=isArguments$1,r=isGeneratorFunction,n=whichTypedArray,i=isTypedArray$1;function o(e){return e.call.bind(e)}var a="undefined"!=typeof BigInt,s="undefined"!=typeof Symbol,u=o(Object.prototype.toString),c=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(a)var h=o(BigInt.prototype.valueOf);if(s)var d=o(Symbol.prototype.valueOf);function p(e,t){if("object"!==_typeof$2(e))return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===u(e)}function m(e){return"[object Set]"===u(e)}function v(e){return"[object WeakMap]"===u(e)}function g(e){return"[object WeakSet]"===u(e)}function b(e){return"[object ArrayBuffer]"===u(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(b.working?b(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===u(e)}function $(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i,e.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"===_typeof$2(e)&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||$(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},y.working="undefined"!=typeof Map&&y(new Map),e.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),e.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),e.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},g.working="undefined"!=typeof WeakSet&&g(new WeakSet),e.isWeakSet=function(e){return g(e)},b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),e.isArrayBuffer=w,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=$;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===u(e)}function k(e){return void 0!==x&&(void 0===S.working&&(S.working=S(new x)),S.working?S(e):e instanceof x)}function A(e){return p(e,c)}function E(e){return p(e,l)}function T(e){return p(e,f)}function M(e){return a&&p(e,h)}function I(e){return s&&p(e,d)}e.isSharedArrayBuffer=k,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},e.isGeneratorObject=function(e){return"[object Generator]"===u(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},e.isNumberObject=A,e.isStringObject=E,e.isBooleanObject=T,e.isBigIntObject=M,e.isSymbolObject=I,e.isBoxedPrimitive=function(e){return A(e)||E(e)||T(e)||M(e)||I(e)},e.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))}(types$2);var isBufferBrowser=function(e){return e&&"object"===_typeof$2(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8};function _createForOfIteratorHelper$b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$b(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$b(e,t):void 0}}function _arrayLikeToArray$b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createSuper$b(e){var t=_isNativeReflectConstruct$b();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}!function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),u=i[n];n<o;u=i[++n])p(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(t,r){if(void 0!==browser$1$1&&!0===browser$1$1.noDeprecation)return t;if(void 0===browser$1$1)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(browser$1$1.throwDeprecation)throw new Error(r);browser$1$1.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n={},i=/^$/;if(browser$1$1.env.NODE_DEBUG){var o=browser$1$1.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}function a(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,t,n.depth)}function s(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function c(t,r,n){if(t.customInspect&&r&&$(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=c(t,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),_(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if($(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(g(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return l(r)}var b,x="",S=!1,k=["{","}"];(h(r)&&(S=!0,k=["[","]"]),$(r))&&(x=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(x=" "+RegExp.prototype.toString.call(r)),w(r)&&(x=" "+Date.prototype.toUTCString.call(r)),_(r)&&(x=" "+l(r)),0!==a.length||S&&0!=r.length?n<0?g(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),b=S?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(f(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))})),o}(t,r,n,s,a):a.map((function(e){return f(t,r,n,s,e,S)})),t.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(b,x,k)):k[0]+x+k[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=p(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e){return void 0===e}function g(e){return b(e)&&"[object RegExp]"===x(e)}function b(e){return"object"===_typeof$2(e)&&null!==e}function w(e){return b(e)&&"[object Date]"===x(e)}function _(e){return b(e)&&("[object Error]"===x(e)||e instanceof Error)}function $(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(i.test(t)){var r=browser$1$1.pid;n[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else n[t]=function(){};return n[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=types$2,e.isArray=h,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=y,e.isString=m,e.isSymbol=function(e){return"symbol"===_typeof$2(e)},e.isUndefined=v,e.isRegExp=g,e.types.isRegExp=g,e.isObject=b,e.isDate=w,e.types.isDate=w,e.isError=_,e.types.isNativeError=_,e.isFunction=$,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===_typeof$2(e)||void 0===e},e.isBuffer=isBufferBrowser;var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=inherits_browser$1.exports,e._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var r;if("function"!=typeof(r=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),T&&Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){browser$1$1.nextTick(o.bind(null,null,e))}),(function(e){browser$1$1.nextTick(M.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}(util$6);var getSendMethod=function(e){return"sendAsync"in e?e.sendAsync:e.send},MultiProvider=function(e){_inherits(n,e);var t,r=_createSuper$b(n);function n(e){var t,i;_classCallCheck$1(this,n);var o=("string"==typeof e?e.split(","):Array.isArray(e)?e:[e]).map((function(e){return new LibsWeb3(e).eth.currentProvider}));if(_defineProperty$3(_assertThisInitialized(i=r.call(this,null===(t=o[0])||void 0===t?void 0:t.host)),"providers",void 0),!o.every(getSendMethod))throw new Error("Some providers do not have a send method to use.");return i.providers=o,i.send=util$6.callbackify(i._send.bind(_assertThisInitialized(i))),i}return _createClass$1(n,[{key:"_send",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_createForOfIteratorHelper$b(lodash.exports.shuffle(this.providers)),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=18;break}return i=n.value,e.prev=5,o=util$6.promisify(getSendMethod(i).bind(i)),e.next=9,o(t);case 9:return a=e.sent,e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),r.e(e.t1);case 23:return e.prev=23,r.f(),e.finish(23);case 26:throw new Error("All requests failed");case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26],[5,13]])}))),function(e){return t.apply(this,arguments)})}]),n}(LibsWeb3.providers.HttpProvider),uuid=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(8|e[19],1),e[8]=e[13]=e[18]=e[23]="-";var n=e.join("");return n};function _AwaitValue(e){this.wrapped=e}function _awaitAsyncGenerator(e){return new _AwaitValue(e)}function AsyncGenerator(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof _AwaitValue;Promise.resolve(s?a.wrapped:a).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function _wrapAsyncGenerator(e){return function(){return new AsyncGenerator(e.apply(this,arguments))}}function _asyncIterator$g(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$g(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$g(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$g=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$g.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$g(e)}function batch$1(e){return _batch.apply(this,arguments)}function _batch(){return _batch=_wrapAsyncGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>1&&void 0!==l[1]?l[1]:1,n=[],r<1&&(r=1),i=!1,o=!1,e.prev=5,s=_asyncIterator$g(t);case 7:return e.next=9,_awaitAsyncGenerator(s.next());case 9:if(!(i=!(u=e.sent).done)){e.next=21;break}c=u.value,n.push(c);case 12:if(!(n.length>=r)){e.next=18;break}return e.next=15,n.slice(0,r);case 15:n=n.slice(r),e.next=12;break;case 18:i=!1,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),o=!0,a=e.t0;case 27:if(e.prev=27,e.prev=28,!i||null==s.return){e.next=32;break}return e.next=32,_awaitAsyncGenerator(s.return());case 32:if(e.prev=32,!o){e.next=35;break}throw a;case 35:return e.finish(32);case 36:return e.finish(27);case 37:if(!n.length){e.next=43;break}return e.next=40,n.slice(0,r);case 40:n=n.slice(r),e.next=37;break;case 43:case"end":return e.stop()}}),e,null,[[5,23,27,37],[28,,32,36]])}))),_batch.apply(this,arguments)}AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var itBatch=batch$1;function _asyncIterator$f(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$f(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$f(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$f=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$f.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$f(e)}var batch=itBatch;function parallelBatch(e){return _parallelBatch.apply(this,arguments)}function _parallelBatch(){return _parallelBatch=_wrapAsyncGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,h=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>1&&void 0!==h[1]?h[1]:1,n=!1,i=!1,e.prev=3,a=_asyncIterator$f(batch(t,r));case 5:return e.next=7,_awaitAsyncGenerator(a.next());case 7:if(!(n=!(s=e.sent).done)){e.next=27;break}u=s.value,c=u.map((function(e){return e().then((function(e){return{ok:!0,value:e}}),(function(e){return{ok:!1,err:e}}))})),l=0;case 11:if(!(l<c.length)){e.next=24;break}return e.next=14,_awaitAsyncGenerator(c[l]);case 14:if(!(f=e.sent).ok){e.next=20;break}return e.next=18,f.value;case 18:e.next=21;break;case 20:throw f.err;case 21:l++,e.next=11;break;case 24:n=!1,e.next=5;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(3),i=!0,o=e.t0;case 33:if(e.prev=33,e.prev=34,!n||null==a.return){e.next=38;break}return e.next=38,_awaitAsyncGenerator(a.return());case 38:if(e.prev=38,!i){e.next=41;break}throw o;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,null,[[3,29,33,43],[34,,38,42]])}))),_parallelBatch.apply(this,arguments)}var itParallelBatch=parallelBatch,isPlainObj=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype};function _createForOfIteratorHelper$a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$a(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$a(e,t):void 0}}function _arrayLikeToArray$a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var isOptionObject=isPlainObj,hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.propertyIsEnumerable,defineProperty=function(e,t,r){return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})},globalThis$1=commonjsGlobal$1,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){var n,i=_createForOfIteratorHelper$a(Object.getOwnPropertySymbols(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;propertyIsEnumerable.call(e,o)&&t.push(o)}}catch(e){i.e(e)}finally{i.f()}}return t};function clone(e){return Array.isArray(e)?cloneArray(e):isOptionObject(e)?cloneOptionObject(e):e}function cloneArray(e){var t=e.slice(0,0);return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}function cloneOptionObject(e){var t=null===Object.getPrototypeOf(e)?Object.create(null):{};return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}var mergeKeys=function(e,t,r,n){return r.forEach((function(r){void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?defineProperty(e,r,merge(e[r],t[r],n)):defineProperty(e,r,clone(t[r])))})),e},concatArrays=function(e,t,r){var n=e.slice(0,0),i=0;return[e,t].forEach((function(t){for(var o=[],a=0;a<t.length;a++)hasOwnProperty.call(t,a)&&(o.push(String(a)),defineProperty(n,i++,t===e?t[a]:clone(t[a])));n=mergeKeys(n,t,getEnumerableOwnPropertyKeys(t).filter((function(e){return!o.includes(e)})),r)})),n};function merge(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?concatArrays(e,t,r):isOptionObject(t)&&isOptionObject(e)?mergeKeys(e,t,getEnumerableOwnPropertyKeys(t),r):clone(t)}var mergeOptions=function(){for(var e=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions),t={_:{}},r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var s=a[o];if(void 0!==s){if(!isOptionObject(s))throw new TypeError("`"+s+"` is not an Option Object");t=merge(t,{_:s},e)}}return t._},equals$5=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce$5=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},encode_1$4=encode$a,MSB$5=128,REST$5=127,MSBALL$4=~REST$5,INT$4=Math.pow(2,31);function encode$a(e,t,r){t=t||[];for(var n=r=r||0;e>=INT$4;)t[r++]=255&e|MSB$5,e/=128;for(;e&MSBALL$4;)t[r++]=255&e|MSB$5,e>>>=7;return t[r]=0|e,encode$a.bytes=r-n+1,t}var decode$e=read$4,MSB$1$4=128,REST$1$4=127;function read$4(e,t){var r,n=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw read$4.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&REST$1$4)<<i:(r&REST$1$4)*Math.pow(2,i),i+=7}while(r>=MSB$1$4);return read$4.bytes=o-t,n}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$4=function(e){return e<N1$4?1:e<N2$4?2:e<N3$4?3:e<N4$4?4:e<N5$4?5:e<N6$4?6:e<N7$4?7:e<N8$4?8:e<N9$4?9:10},varint$4={encode:encode_1$4,decode:decode$e,encodingLength:length$4},_brrp_varint$4=varint$4,decode$d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_brrp_varint$4.decode(e,t);return[r,_brrp_varint$4.decode.bytes]},encodeTo$4=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint$4.encode(e,t,r),t},encodingLength$4=function(e){return _brrp_varint$4.encodingLength(e)},create$7=function(e,t){var r=t.byteLength,n=encodingLength$4(e),i=n+encodingLength$4(r),o=new Uint8Array(i+r);return encodeTo$4(e,o,0),encodeTo$4(r,o,n),o.set(t,i),new Digest$4(e,r,t,o)},decode$c=function(e){var t=coerce$5(e),r=_slicedToArray(decode$d(t),2),n=r[0],i=r[1],o=_slicedToArray(decode$d(t.subarray(i)),2),a=o[0],s=o[1],u=t.subarray(i+s);if(u.byteLength!==a)throw new Error("Incorrect length");return new Digest$4(n,a,u,t)},equals$4=function(e,t){return e===t||e.code===t.code&&e.size===t.size&&equals$5(e.bytes,t.bytes)},Digest$4=_createClass$1((function e(t,r,n,i){_classCallCheck$1(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i})),from$8=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher$3(t,r,n)},Hasher$3=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.code=r,this.encode=n}return _createClass$1(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create$7(this.code,r):r.then((function(e){return create$7(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sha$6=function(e){return function(){var t=_asyncToGenerator(regenerator.mark((function t(r){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sha256$4=from$8({name:"sha2-256",code:18,encode:sha$6("SHA-256")});from$8({name:"sha2-512",code:19,encode:sha$6("SHA-512")});var empty=new Uint8Array(0),fromHex=function(e){var t=e.match(/../g);return t?new Uint8Array(t.map((function(e){return parseInt(e,16)}))):empty},coerce$4=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},encode_1$3=encode$9,MSB$4=128,REST$4=127,MSBALL$3=~REST$4,INT$3=Math.pow(2,31);function encode$9(e,t,r){t=t||[];for(var n=r=r||0;e>=INT$3;)t[r++]=255&e|MSB$4,e/=128;for(;e&MSBALL$3;)t[r++]=255&e|MSB$4,e>>>=7;return t[r]=0|e,encode$9.bytes=r-n+1,t}var decode$b=read$3,MSB$1$3=128,REST$1$3=127;function read$3(e,t){var r,n=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw read$3.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&REST$1$3)<<i:(r&REST$1$3)*Math.pow(2,i),i+=7}while(r>=MSB$1$3);return read$3.bytes=o-t,n}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$3=function(e){return e<N1$3?1:e<N2$3?2:e<N3$3?3:e<N4$3?4:e<N5$3?5:e<N6$3?6:e<N7$3?7:e<N8$3?8:e<N9$3?9:10},varint$3={encode:encode_1$3,decode:decode$b,encodingLength:length$3},_brrp_varint$3=varint$3,encodeTo$3=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint$3.encode(e,t,r),t},encodingLength$3=function(e){return _brrp_varint$3.encodingLength(e)},create$6=function(e,t){var r=t.byteLength,n=encodingLength$3(e),i=n+encodingLength$3(r),o=new Uint8Array(i+r);return encodeTo$3(e,o,0),encodeTo$3(r,o,n),o.set(t,i),new Digest$3(e,r,t,o)},Digest$3=_createClass$1((function e(t,r,n,i){_classCallCheck$1(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i})),from$7=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher$2(t,r,n)},Hasher$2=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.code=r,this.encode=n}return _createClass$1(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create$6(this.code,r):r.then((function(e){return create$6(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}();function base$5(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$8=base$5,_brrp__multiformats_scope_baseX$4=src$8;function ownKeys$d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$d(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Encoder$4=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass$1(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder$4=function(){function e(t,r,n){if(_classCallCheck$1(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return _createClass$1(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or$4(this,e)}}]),e}(),ComposedDecoder$4=function(){function e(t){_classCallCheck$1(this,e),this.decoders=t}return _createClass$1(e,[{key:"or",value:function(e){return _or$4(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or$4=function(e,t){return new ComposedDecoder$4(_objectSpread$d(_objectSpread$d({},e.decoders||_defineProperty$3({},e.prefix,e)),t.decoders||_defineProperty$3({},t.prefix,t)))},Codec$4=function(){function e(t,r,n,i){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$4(t,r,n),this.decoder=new Decoder$4(t,r,i)}return _createClass$1(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$6=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec$4(t,r,n,i)},baseX$4=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX$4(n,r),o=i.encode,a=i.decode;return from$6({prefix:t,name:r,encode:o,decode:function(e){return coerce$4(a(e))}})},_decode2$4=function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),u=0,c=0,l=0,f=0;f<a;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},_encode$4=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},rfc4648$4=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$6({prefix:r,name:t,encode:function(e){return _encode$4(e,i,n)},decode:function(e){return _decode2$4(e,i,n,t)}})};baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var murmurHash3js={exports:{}};!function(e,t){!function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function s(e,t){return e<<t|e>>>32-t}function u(e){return e=a(e^=e>>>16,2246822507),e=a(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=d(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%4,c=e.length-r,l=t,f=0,h=3432918353,d=461845907,p=0;p<c;p+=4)f=a(f=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,h),f=a(f=s(f,15),d),l=a(l=s(l^=f,13),5)+3864292196;switch(f=0,r){case 3:f^=e[p+2]<<16;case 2:f^=e[p+1]<<8;case 1:f=a(f^=e[p],h),l^=f=a(f=s(f,15),d)}return(l=u(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,c=e.length-r,l=t,f=t,h=t,d=t,p=0,y=0,m=0,v=0,g=597399067,b=2869860233,w=951274213,_=2716044179,$=0;$<c;$+=16)p=e[$]|e[$+1]<<8|e[$+2]<<16|e[$+3]<<24,y=e[$+4]|e[$+5]<<8|e[$+6]<<16|e[$+7]<<24,m=e[$+8]|e[$+9]<<8|e[$+10]<<16|e[$+11]<<24,v=e[$+12]|e[$+13]<<8|e[$+14]<<16|e[$+15]<<24,p=s(p=a(p,g),15),l=s(l^=p=a(p,b),19),l=a(l+=f,5)+1444728091,y=s(y=a(y,b),16),f=s(f^=y=a(y,w),17),f=a(f+=h,5)+197830471,m=s(m=a(m,w),17),h=s(h^=m=a(m,_),15),h=a(h+=d,5)+2530024501,v=s(v=a(v,_),18),d=s(d^=v=a(v,g),13),d=a(d+=l,5)+850148119;switch(p=0,y=0,m=0,v=0,r){case 15:v^=e[$+14]<<16;case 14:v^=e[$+13]<<8;case 13:v=a(v^=e[$+12],_),d^=v=a(v=s(v,18),g);case 12:m^=e[$+11]<<24;case 11:m^=e[$+10]<<16;case 10:m^=e[$+9]<<8;case 9:m=a(m^=e[$+8],w),h^=m=a(m=s(m,17),_);case 8:y^=e[$+7]<<24;case 7:y^=e[$+6]<<16;case 6:y^=e[$+5]<<8;case 5:y=a(y^=e[$+4],b),f^=y=a(y=s(y,16),w);case 4:p^=e[$+3]<<24;case 3:p^=e[$+2]<<16;case 2:p^=e[$+1]<<8;case 1:p=a(p^=e[$],g),l^=p=a(p=s(p,15),b)}return l^=e.length,l+=f^=e.length,l+=h^=e.length,f+=l+=d^=e.length,h+=l,d+=l,l=u(l),l+=f=u(f),l+=h=u(h),f+=l+=d=u(d),h+=l,d+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,a=e.length-r,s=[0,t],u=[0,t],y=[0,0],m=[0,0],v=[2277735313,289559509],g=[1291169091,658871167],b=0;b<a;b+=16)y=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],m=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],y=f(y=l(y,v),31),s=c(s=f(s=d(s,y=l(y,g)),27),u),s=c(l(s,[0,5]),[0,1390208809]),m=f(m=l(m,g),33),u=c(u=f(u=d(u,m=l(m,v)),31),s),u=c(l(u,[0,5]),[0,944331445]);switch(y=[0,0],m=[0,0],r){case 15:m=d(m,h([0,e[b+14]],48));case 14:m=d(m,h([0,e[b+13]],40));case 13:m=d(m,h([0,e[b+12]],32));case 12:m=d(m,h([0,e[b+11]],24));case 11:m=d(m,h([0,e[b+10]],16));case 10:m=d(m,h([0,e[b+9]],8));case 9:m=l(m=d(m,[0,e[b+8]]),g),u=d(u,m=l(m=f(m,33),v));case 8:y=d(y,h([0,e[b+7]],56));case 7:y=d(y,h([0,e[b+6]],48));case 6:y=d(y,h([0,e[b+5]],40));case 5:y=d(y,h([0,e[b+4]],32));case 4:y=d(y,h([0,e[b+3]],24));case 3:y=d(y,h([0,e[b+2]],16));case 2:y=d(y,h([0,e[b+1]],8));case 1:y=l(y=d(y,[0,e[b]]),v),s=d(s,y=l(y=f(y,31),g))}return s=c(s=d(s,[0,e.length]),u=d(u,[0,e.length])),u=c(u,s),s=c(s=p(s),u=p(u)),u=c(u,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()}(murmurHash3js,murmurHash3js.exports);var murmurhash3jsRevisited=murmurHash3js.exports;function fromNumberTo32BitBuf(e){for(var t=new Array(4),r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}from$7({name:"murmur3-32",code:35,encode:function(e){return fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(e))}});var murmur3128=from$7({name:"murmur3-128",code:34,encode:function(e){return fromHex(murmurhash3jsRevisited.x64.hash128(e))}});function hamtHashFn(e){return _hamtHashFn.apply(this,arguments)}function _hamtHashFn(){return(_hamtHashFn=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,murmur3128.encode(t);case 2:return e.abrupt("return",e.sent.slice(0,8).reverse());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256$4,leafType:"file",cidVersion:0,progress:function(){return function(){}},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=mergeOptions.bind({ignoreUndefined:!0});return t(defaultOptions,e)};function _asyncGeneratorDelegate(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}function assign(e,t){for(var r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===_typeof$2(t)&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),assign(new n,r)}}var errCode=createError,indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}var base64$3={};!function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var r=new Array(64),n=new Array(123),i=0;i<64;)n[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,n){for(var i,o=null,a=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:a[s++]=r[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=r[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=r[i|c>>6],a[s++]=r[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[i],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var o="invalid encoding";t.decode=function(e,t,r){for(var i,a=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=n[c]))throw Error(o);switch(s){case 0:i=c,s=1;break;case 1:t[r++]=i<<2|(48&c)>>4,i=c,s=2;break;case 2:t[r++]=(15&i)<<4|(60&c)>>2,i=c,s=3;break;case 3:t[r++]=(3&i)<<6|c,s=0}}if(1===s)throw Error(o);return r-a},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this};var _float=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};!function(e){var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}}(utf8$2);var pool_1=pool;function pool(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function(e){if(0===e)return zero;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new LongBits$2(r,n)},LongBits$2.from=function(e){if("number"==typeof e)return LongBits$2.fromNumber(e);if(util$5.isString(e)){if(!util$5.Long)return LongBits$2.fromNumber(parseInt(e,10));e=util$5.Long.fromString(e)}return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero},LongBits$2.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits$2.prototype.toLong=function(e){return util$5.Long?new util$5.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)},LongBits$2.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits$2.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits$2.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits$2.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},function(e){var t=e;function r(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=aspromise,t.base64=base64$3,t.EventEmitter=eventemitter,t.float=_float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=longbits,t.isNode=Boolean(void 0!==commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),t.global=t.isNode&&commonjsGlobal$1||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||commonjsGlobal$1,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===_typeof$2(e)},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==_typeof$2(r)||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$5=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,t,r){t[r]=255&e}function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer$1.create=create$5(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};Writer$1.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var r=Writer$1.alloc(t=base64$2.length(e));base64$2.decode(e,r,0),e=r}return this.uint32(t)._push(writeBytes,t,e)},Writer$1.prototype.string=function(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$5(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,t,r){e.length<40?util$3.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$4=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create$4(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Reader$1.prototype.bool=function(){return 0!==this.uint32()},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create$4(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=minimal$1;function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,r,n,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return util.asPromise(e,a,t,r,n,i);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return a.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=service}(rpc);var roots={};!function(e){var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=minimal$1,t.rpc=rpc,t.roots=roots,t.configure=r,r()}(indexMinimal);var minimal=indexMinimal,$Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={}),Data=$root.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=$util.newBuffer([]),e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=$util.emptyArray,e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=$Writer.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&$root.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=$root.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.Data)return e;var t=new $root.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?$util.base64.decode(e.Data,t.Data=$util.newBuffer($util.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&($util.Long?(t.filesize=$util.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"===_typeof$2(e.filesize)&&(t.filesize=new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)$util.Long?(t.blocksizes[r]=$util.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"===_typeof$2(e.blocksizes[r])&&(t.blocksizes[r]=new $util.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&($util.Long?(t.hashType=$util.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"===_typeof$2(e.hashType)&&(t.hashType=new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&($util.Long?(t.fanout=$util.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"===_typeof$2(e.fanout)&&(t.fanout=new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==_typeof$2(e.mtime))throw TypeError(".Data.mtime: object expected");t.mtime=$root.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=$util.newBuffer(r.Data))),$util.Long){var n=new $util.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if($util.Long){n=new $util.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if($util.Long){n=new $util.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?$root.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?$util.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?$util.Long.prototype.toString.call(e.filesize):t.longs===Number?new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?$util.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new $util.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?$util.Long.prototype.toString.call(e.hashType):t.longs===Number?new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?$util.Long.prototype.toString.call(e.fanout):t.longs===Number?new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=$root.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e}();$root.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=$Writer.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.UnixTime)return e;var t=new $root.UnixTime;return null!=e.Seconds&&($util.Long?(t.Seconds=$util.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"===_typeof$2(e.Seconds)&&(t.Seconds=new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if($util.Long){var n=new $util.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?$util.Long.prototype.toString.call(e.Seconds):t.longs===Number?new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}(),$root.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=$Writer.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Metadata;e.pos<r;){var i=e.uint32();if(i>>>3==1)n.MimeType=e.string();else e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof $root.Metadata)return e;var t=new $root.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}();var PBData=Data,types$1=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function parseMtime(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}var UnixFS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};_classCallCheck$1(this,e);var r=t.type,n=t.data,i=t.blockSizes,o=t.hashType,a=t.fanout,s=t.mtime,u=t.mode;if(r&&!types$1.includes(r))throw errCode(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=o,this.fanout=a,this.blockSizes=i||[],this._originalMode=0,this.mode=parseMode(u),s&&(this.mtime=parseMtime(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}return _createClass$1(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;var t=parseMode(e);void 0!==t&&(this._mode=t)}},{key:"isDirectory",value:function(){return Boolean(this.type&&dirTypes.includes(this.type))}},{key:"addBlockSize",value:function(e){this.blockSizes.push(e)}},{key:"removeBlockSize",value:function(e){this.blockSizes.splice(e,1)}},{key:"fileSize",value:function(){if(this.isDirectory())return 0;var e=0;return this.blockSizes.forEach((function(t){e+=t})),this.data&&(e+=this.data.length),e}},{key:"marshal",value:function(){var e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}var t,r,n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&((t=4294963200&this._originalMode|(parseMode(this.mode)||0))!==DEFAULT_FILE_MODE||this.isDirectory()||(t=void 0),t===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(t=void 0)),null!=this.mtime){var i=parseMtime(this.mtime);i&&0===(r={Seconds:i.secs,FractionalNanoseconds:i.nsecs}).FractionalNanoseconds&&delete r.FractionalNanoseconds}var o={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return PBData.encode(o).finish()}}],[{key:"unmarshal",value:function(t){var r=PBData.decode(t),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new e({type:types$1[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}}]),e}();function base$4(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$7=base$4,_brrp__multiformats_scope_baseX$3=src$7;function ownKeys$c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$c(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Encoder$3=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass$1(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder$3=function(){function e(t,r,n){if(_classCallCheck$1(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return _createClass$1(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or$3(this,e)}}]),e}(),ComposedDecoder$3=function(){function e(t){_classCallCheck$1(this,e),this.decoders=t}return _createClass$1(e,[{key:"or",value:function(e){return _or$3(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or$3=function(e,t){return new ComposedDecoder$3(_objectSpread$c(_objectSpread$c({},e.decoders||_defineProperty$3({},e.prefix,e)),t.decoders||_defineProperty$3({},t.prefix,t)))},Codec$3=function(){function e(t,r,n,i){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$3(t,r,n),this.decoder=new Decoder$3(t,r,i)}return _createClass$1(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$5=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec$3(t,r,n,i)},baseX$3=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX$3(n,r),o=i.encode,a=i.decode;return from$5({prefix:t,name:r,encode:o,decode:function(e){return coerce$5(a(e))}})},_decode2$3=function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),u=0,c=0,l=0,f=0;f<a;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},_encode$3=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},rfc4648$3=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$5({prefix:r,name:t,encode:function(e){return _encode$3(e,i,n)},decode:function(e){return _decode2$3(e,i,n,t)}})},base58btc$3=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var base32$4=rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var CID$2=function(e,t){function r(e,t,n,i){_classCallCheck$1(this,r),this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$2,byteLength:hidden$2,code:readonly$2,version:readonly$2,multihash:readonly$2,bytes:readonly$2,_baseCache:hidden$2,asCID:hidden$2})}return _createClass$1(r,[{key:"toV0",value:function(){if(0===this.version)return this;var e=this.code,t=this.multihash;if(e!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}},{key:"toV1",value:function(){switch(this.version){case 0:var e=this.multihash,t=e.code,n=e.digest,i=create$7(t,n);return r.createV1(this.code,i);case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}},{key:"equals",value:function(e){return e&&this.code===e.code&&this.version===e.version&&equals$4(this.multihash,e.multihash)}},{key:"toString",value:function(e){var t=this.bytes,r=this.version,n=this._baseCache;return 0===r?toStringV0$2(t,n,e||base58btc$3.encoder):toStringV1$2(t,n,e||base32$4.encoder)}},{key:"toJSON",value:function(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}},{key:Symbol.toStringTag,get:function(){return"CID"}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(){return"CID("+this.toString()+")"}},{key:"toBaseEncodedString",get:function(){throw new Error("Deprecated, use .toString()")}},{key:"codec",get:function(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}},{key:"buffer",get:function(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}},{key:"multibaseName",get:function(){throw new Error('"multibaseName" property is deprecated')}},{key:"prefix",get:function(){throw new Error('"prefix" property is deprecated')}}],[{key:"isCID",value:function(e){return deprecate$2(/^0\.0/,IS_CID_DEPRECATION$2),!(!e||!e[cidSymbol$2]&&e.asCID!==e)}},{key:"asCID",value:function(e){if(e instanceof r)return e;if(null!=e&&e.asCID===e){var t=e.version,n=e.code,i=e.multihash;return new r(t,n,i,e.bytes||encodeCID$2(t,n,i.bytes))}if(null!=e&&!0===e[cidSymbol$2]){var o=e.version,a=e.multihash,s=e.code,u=decode$c(a);return r.create(o,s,u)}return null}},{key:"create",value:function(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==DAG_PB_CODE$2)throw new Error("Version 0 CID must use dag-pb (code: ".concat(DAG_PB_CODE$2,") block encoding"));return new r(e,t,n,n.bytes);case 1:return new r(e,t,n,encodeCID$2(e,t,n.bytes));default:throw new Error("Invalid version")}}},{key:"createV0",value:function(e){return r.create(0,DAG_PB_CODE$2,e)}},{key:"createV1",value:function(e,t){return r.create(1,e,t)}},{key:"decode",value:function(e){var t=_slicedToArray(r.decodeFirst(e),2),n=t[0];if(t[1].length)throw new Error("Incorrect length");return n}},{key:"decodeFirst",value:function(e){var t=r.inspectBytes(e),n=t.size-t.multihashSize,i=coerce$5(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");var o=i.subarray(t.multihashSize-t.digestSize),a=new Digest$4(t.multihashCode,t.digestSize,o,i);return[0===t.version?r.createV0(a):r.createV1(t.codec,a),e.subarray(t.size)]}},{key:"inspectBytes",value:function(e){var t=0,r=function(){var r=_slicedToArray(decode$d(e.subarray(t)),2),n=r[0],i=r[1];return t+=i,n},n=r(),i=DAG_PB_CODE$2;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));var o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}},{key:"parse",value:function(e,t){var n=_slicedToArray(parseCIDtoBytes$2(e,t),2),i=n[0],o=n[1],a=r.decode(o);return a._baseCache.set(i,e),a}}]),r}(),parseCIDtoBytes$2=function(e,t){switch(e[0]){case"Q":var r=t||base58btc$3;return[base58btc$3.prefix,r.decode("".concat(base58btc$3.prefix).concat(e))];case base58btc$3.prefix:var n=t||base58btc$3;return[base58btc$3.prefix,n.decode(e)];case base32$4.prefix:var i=t||base32$4;return[base32$4.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},toStringV0$2=function(e,t,r){var n=r.prefix;if(n!==base58btc$3.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));var i=t.get(n);if(null==i){var o=r.encode(e).slice(1);return t.set(n,o),o}return i},toStringV1$2=function(e,t,r){var n=r.prefix,i=t.get(n);if(null==i){var o=r.encode(e);return t.set(n,o),o}return i},DAG_PB_CODE$2=112,SHA_256_CODE$2=18,encodeCID$2=function(e,t,r){var n=encodingLength$4(e),i=n+encodingLength$4(t),o=new Uint8Array(i+r.byteLength);return encodeTo$4(e,o,0),encodeTo$4(t,o,n),o.set(r,i),o},cidSymbol$2=Symbol.for("@ipld/js-cid/CID"),readonly$2={writable:!1,configurable:!1,enumerable:!0},hidden$2={writable:!1,enumerable:!1,configurable:!1},version$7="0.0.0-dev",deprecate$2=function(e,t){if(!e.test(version$7))throw new Error(t);console.warn(t)},IS_CID_DEPRECATION$2="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",encode_1$2=encode$8,MSB$3=128,REST$3=127,MSBALL$2=~REST$3,INT$2=Math.pow(2,31);function encode$8(e,t,r){t=t||[];for(var n=r=r||0;e>=INT$2;)t[r++]=255&e|MSB$3,e/=128;for(;e&MSBALL$2;)t[r++]=255&e|MSB$3,e>>>=7;return t[r]=0|e,encode$8.bytes=r-n+1,t}var decode$a=read$2,MSB$1$2=128,REST$1$2=127;function read$2(e,t){var r,n=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw read$2.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&REST$1$2)<<i:(r&REST$1$2)*Math.pow(2,i),i+=7}while(r>=MSB$1$2);return read$2.bytes=o-t,n}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(e){return e<N1$2?1:e<N2$2?2:e<N3$2?3:e<N4$2?4:e<N5$2?5:e<N6$2?6:e<N7$2?7:e<N8$2?8:e<N9$2?9:10},varint$2={encode:encode_1$2,decode:decode$a,encodingLength:length$2},_brrp_varint$2=varint$2,decode$9=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_brrp_varint$2.decode(e,t);return[r,_brrp_varint$2.decode.bytes]},encodeTo$2=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint$2.encode(e,t,r),t},encodingLength$2=function(e){return _brrp_varint$2.encodingLength(e)},equals$3=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce$3=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},create$3=function(e,t){var r=t.byteLength,n=encodingLength$2(e),i=n+encodingLength$2(r),o=new Uint8Array(i+r);return encodeTo$2(e,o,0),encodeTo$2(r,o,n),o.set(t,i),new Digest$2(e,r,t,o)},decode$8=function(e){var t=coerce$3(e),r=_slicedToArray(decode$9(t),2),n=r[0],i=r[1],o=_slicedToArray(decode$9(t.subarray(i)),2),a=o[0],s=o[1],u=t.subarray(i+s);if(u.byteLength!==a)throw new Error("Incorrect length");return new Digest$2(n,a,u,t)},equals$2=function(e,t){return e===t||e.code===t.code&&e.size===t.size&&equals$3(e.bytes,t.bytes)},Digest$2=_createClass$1((function e(t,r,n,i){_classCallCheck$1(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i}));function base$3(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$6=base$3,_brrp__multiformats_scope_baseX$2=src$6;function ownKeys$b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$b(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Encoder$2=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass$1(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder$2=function(){function e(t,r,n){if(_classCallCheck$1(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return _createClass$1(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or$2(this,e)}}]),e}(),ComposedDecoder$2=function(){function e(t){_classCallCheck$1(this,e),this.decoders=t}return _createClass$1(e,[{key:"or",value:function(e){return _or$2(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or$2=function(e,t){return new ComposedDecoder$2(_objectSpread$b(_objectSpread$b({},e.decoders||_defineProperty$3({},e.prefix,e)),t.decoders||_defineProperty$3({},t.prefix,t)))},Codec$2=function(){function e(t,r,n,i){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$2(t,r,n),this.decoder=new Decoder$2(t,r,i)}return _createClass$1(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$4=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec$2(t,r,n,i)},baseX$2=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX$2(n,r),o=i.encode,a=i.decode;return from$4({prefix:t,name:r,encode:o,decode:function(e){return coerce$3(a(e))}})},_decode2$2=function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),u=0,c=0,l=0,f=0;f<a;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},_encode$2=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},rfc4648$2=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$4({prefix:r,name:t,encode:function(e){return _encode$2(e,i,n)},decode:function(e){return _decode2$2(e,i,n,t)}})},base58btc$2=baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var base32$3=rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var CID$1=function(e,t){function r(e,t,n,i){_classCallCheck$1(this,r),this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden$1,byteLength:hidden$1,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden$1,asCID:hidden$1})}return _createClass$1(r,[{key:"toV0",value:function(){if(0===this.version)return this;var e=this.code,t=this.multihash;if(e!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}},{key:"toV1",value:function(){switch(this.version){case 0:var e=this.multihash,t=e.code,n=e.digest,i=create$3(t,n);return r.createV1(this.code,i);case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}},{key:"equals",value:function(e){return e&&this.code===e.code&&this.version===e.version&&equals$2(this.multihash,e.multihash)}},{key:"toString",value:function(e){var t=this.bytes,r=this.version,n=this._baseCache;return 0===r?toStringV0$1(t,n,e||base58btc$2.encoder):toStringV1$1(t,n,e||base32$3.encoder)}},{key:"toJSON",value:function(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}},{key:Symbol.toStringTag,get:function(){return"CID"}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(){return"CID("+this.toString()+")"}},{key:"toBaseEncodedString",get:function(){throw new Error("Deprecated, use .toString()")}},{key:"codec",get:function(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}},{key:"buffer",get:function(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}},{key:"multibaseName",get:function(){throw new Error('"multibaseName" property is deprecated')}},{key:"prefix",get:function(){throw new Error('"prefix" property is deprecated')}}],[{key:"isCID",value:function(e){return deprecate$1(/^0\.0/,IS_CID_DEPRECATION$1),!(!e||!e[cidSymbol$1]&&e.asCID!==e)}},{key:"asCID",value:function(e){if(e instanceof r)return e;if(null!=e&&e.asCID===e){var t=e.version,n=e.code,i=e.multihash;return new r(t,n,i,e.bytes||encodeCID$1(t,n,i.bytes))}if(null!=e&&!0===e[cidSymbol$1]){var o=e.version,a=e.multihash,s=e.code,u=decode$8(a);return r.create(o,s,u)}return null}},{key:"create",value:function(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==DAG_PB_CODE$1)throw new Error("Version 0 CID must use dag-pb (code: ".concat(DAG_PB_CODE$1,") block encoding"));return new r(e,t,n,n.bytes);case 1:return new r(e,t,n,encodeCID$1(e,t,n.bytes));default:throw new Error("Invalid version")}}},{key:"createV0",value:function(e){return r.create(0,DAG_PB_CODE$1,e)}},{key:"createV1",value:function(e,t){return r.create(1,e,t)}},{key:"decode",value:function(e){var t=_slicedToArray(r.decodeFirst(e),2),n=t[0];if(t[1].length)throw new Error("Incorrect length");return n}},{key:"decodeFirst",value:function(e){var t=r.inspectBytes(e),n=t.size-t.multihashSize,i=coerce$3(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");var o=i.subarray(t.multihashSize-t.digestSize),a=new Digest$2(t.multihashCode,t.digestSize,o,i);return[0===t.version?r.createV0(a):r.createV1(t.codec,a),e.subarray(t.size)]}},{key:"inspectBytes",value:function(e){var t=0,r=function(){var r=_slicedToArray(decode$9(e.subarray(t)),2),n=r[0],i=r[1];return t+=i,n},n=r(),i=DAG_PB_CODE$1;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));var o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}},{key:"parse",value:function(e,t){var n=_slicedToArray(parseCIDtoBytes$1(e,t),2),i=n[0],o=n[1],a=r.decode(o);return a._baseCache.set(i,e),a}}]),r}(),parseCIDtoBytes$1=function(e,t){switch(e[0]){case"Q":var r=t||base58btc$2;return[base58btc$2.prefix,r.decode("".concat(base58btc$2.prefix).concat(e))];case base58btc$2.prefix:var n=t||base58btc$2;return[base58btc$2.prefix,n.decode(e)];case base32$3.prefix:var i=t||base32$3;return[base32$3.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},toStringV0$1=function(e,t,r){var n=r.prefix;if(n!==base58btc$2.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));var i=t.get(n);if(null==i){var o=r.encode(e).slice(1);return t.set(n,o),o}return i},toStringV1$1=function(e,t,r){var n=r.prefix,i=t.get(n);if(null==i){var o=r.encode(e);return t.set(n,o),o}return i},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$1=function(e,t,r){var n=encodingLength$2(e),i=n+encodingLength$2(t),o=new Uint8Array(i+r.byteLength);return encodeTo$2(e,o,0),encodeTo$2(t,o,n),o.set(r,i),o},cidSymbol$1=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden$1={writable:!1,enumerable:!1,configurable:!1},version$6="0.0.0-dev",deprecate$1=function(e,t){if(!e.test(version$6))throw new Error(t);console.warn(t)},IS_CID_DEPRECATION$1="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",textDecoder$1=new TextDecoder;function decodeVarint(e,t){for(var r=0,n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");var i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*Math.pow(2,n),i<128)break}return[r,t]}function decodeBytes(e,t){var r,n=_slicedToArray(decodeVarint(e,t),2);r=n[0];var i=(t=n[1])+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,i),i]}function decodeKey(e,t){var r,n=_slicedToArray(decodeVarint(e,t),2);return[7&(r=n[0]),r>>3,t=n[1]]}function decodeLink(e){for(var t={},r=e.length,n=0;n<r;){var i,o,a=_slicedToArray(decodeKey(e,n),3);if(i=a[0],o=a[1],n=a[2],1===o){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Hash"));if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");var s=_slicedToArray(decodeBytes(e,n),2);t.Hash=s[0],n=s[1]}else if(2===o){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Name"));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");var u,c=_slicedToArray(decodeBytes(e,n),2);u=c[0],n=c[1],t.Name=textDecoder$1.decode(u)}else{if(3!==o)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ".concat(o));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Tsize"));var l=_slicedToArray(decodeVarint(e,n),2);t.Tsize=l[0],n=l[1]}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){for(var t,r,n=e.length,i=0,o=!1;i<n;){var a,s,u=_slicedToArray(decodeKey(e,i),3);if(a=u[0],s=u[1],i=u[2],2!==a)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got ".concat(a));if(1===s){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");var c=_slicedToArray(decodeBytes(e,i),2);r=c[0],i=c[1],t&&(o=!0)}else{if(2!==s)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ".concat(s));if(o)throw new Error("protobuf: (PBNode) duplicate Links section");t||(t=[]);var l,f=_slicedToArray(decodeBytes(e,i),2);l=f[0],i=f[1],t.push(decodeLink(l))}}if(i>n)throw new Error("protobuf: (PBNode) unexpected end of data");var h={};return r&&(h.Data=r),h.Links=t||[],h}function _createForOfIteratorHelper$9(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$9(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$9(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$9(e,t):void 0}}function _arrayLikeToArray$9(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var textEncoder$2=new TextEncoder,maxInt32=Math.pow(2,32),maxUInt32=Math.pow(2,31);function encodeLink(e,t){var r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t[r=encodeVarint(t,r,e.Tsize)-1]=24}if("string"==typeof e.Name){var n=textEncoder$2.encode(e.Name);r-=n.length,t.set(n,r),t[r=encodeVarint(t,r,n.length)-1]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),t[r=encodeVarint(t,r,e.Hash.length)-1]=10),t.length-r}function encodeNode(e){var t=sizeNode(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),r[n=encodeVarint(r,n,e.Data.length)-1]=10),e.Links)for(var i=e.Links.length-1;i>=0;i--){var o=encodeLink(e.Links[i],r.subarray(0,n));r[n=encodeVarint(r,n-=o,o)-1]=18}return r}function sizeLink(e){var t=0;if(e.Hash){var r=e.Hash.length;t+=1+r+sov(r)}if("string"==typeof e.Name){var n=textEncoder$2.encode(e.Name).length;t+=1+n+sov(n)}return"number"==typeof e.Tsize&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){var t=0;if(e.Data){var r=e.Data.length;t+=1+r+sov(r)}if(e.Links){var n,i=_createForOfIteratorHelper$9(e.Links);try{for(i.s();!(n=i.n()).done;){var o=sizeLink(n.value);t+=1+o+sov(o)}}catch(e){i.e(e)}finally{i.f()}}return t}function encodeVarint(e,t,r){for(var n=t-=sov(r);r>=maxUInt32;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2==0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){var t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+len8tab[e]}var len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder$1=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;for(var r=e.Name?textEncoder$1.encode(e.Name):[],n=t.Name?textEncoder$1.encode(t.Name):[],i=r.length,o=n.length,a=0,s=Math.min(i,o);a<s;++a)if(r[a]!==n[a]){i=r[a],o=n[a];break}return i<o?-1:o<i?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some((function(e){return!t.includes(e)}))}function asLink(e){if("object"===_typeof$2(e.asCID)){var t=CID$1.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==_typeof$2(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var r={};if(e.Hash){var n=CID$1.asCID(e.Hash);try{n||("string"==typeof e.Hash?n=CID$1.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=CID$1.decode(e.Hash)))}catch(e){throw new TypeError("Invalid DAG-PB form: ".concat(e.message))}n&&(r.Hash=n)}if(!r.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(r.Name=e.Name),"number"==typeof e.Tsize&&(r.Tsize=e.Tsize),r}function prepare(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!==_typeof$2(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=textEncoder$1.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(asLink),t.Links.sort(linkComparator)}else t.Links=[];return t}function validate$1(e){if(!e||"object"!==_typeof$2(e)||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(var t=0;t<e.Links.length;t++){var r=e.Links[t];if(!r||"object"!==_typeof$2(r)||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===linkComparator(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}var name$3="dag-pb",code$3=112;function encode$7(e){validate$1(e);var t={};return e.Links&&(t.Links=e.Links.map((function(e){var t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$7(e){var t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((function(e){var t={};try{t.Hash=CID$1.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}var dagPb=Object.freeze({__proto__:null,name:name$3,code:code$3,encode:encode$7,decode:decode$7,prepare:prepare,validate:validate$1,createNode:createNode,createLink:createLink}),persist=function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.codec||(n.codec=dagPb),n.hasher||(n.hasher=sha256$4),void 0===n.cidVersion&&(n.cidVersion=1),n.codec===dagPb&&n.hasher!==sha256$4&&(n.cidVersion=1),e.next=6,n.hasher.digest(t);case 6:if(i=e.sent,o=CID$2.create(n.cidVersion,n.codec.code,i),n.onlyHash){e.next=11;break}return e.next=11,r.put(o,t,{signal:n.signal});case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),dirBuilder=function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),o=encode$7(prepare({Data:i.marshal()})),e.next=4,persist(o,r,n);case 4:return a=e.sent,s=t.path,e.abrupt("return",{cid:a,path:s,unixfs:i,size:o.length});case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),name$2="raw",code$2=85,encode$6=function(e){return coerce$5(e)},decode$6=function(e){return coerce$5(e)},raw=Object.freeze({__proto__:null,name:name$2,code:code$2,encode:encode$6,decode:decode$6});function _asyncIterator$e(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$e(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$e(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$e=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$e.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$e(e)}var all=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!1,i=!1,e.prev=3,a=_asyncIterator$e(t);case 5:return e.next=7,a.next();case 7:if(!(n=!(s=e.sent).done)){e.next=13;break}u=s.value,r.push(u);case 10:n=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==a.return){e.next=24;break}return e.next=24,a.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),itAll=all;function flat(e,t){return _flat.apply(this,arguments)}function _flat(){return _flat=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,itAll(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),_flat.apply(this,arguments)}function _asyncIterator$d(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$d(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$d(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$d=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$d.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$d(e)}function balanced(e,t,r){return reduceToParents(e,t,r)}function reduceToParents(e,t,r){return _reduceToParents.apply(this,arguments)}function _reduceToParents(){return _reduceToParents=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c,l;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=!1,a=!1,e.prev=3,u=_asyncIterator$d(itBatch(t,n.maxChildrenPerNode));case 5:return e.next=7,u.next();case 7:if(!(o=!(c=e.sent).done)){e.next=17;break}return l=c.value,e.t0=i,e.next=12,r(l);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:o=!1,e.next=5;break;case 17:e.next=23;break;case 19:e.prev=19,e.t2=e.catch(3),a=!0,s=e.t2;case 23:if(e.prev=23,e.prev=24,!o||null==u.return){e.next=28;break}return e.next=28,u.return();case 28:if(e.prev=28,!a){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(23);case 33:if(!(i.length>1)){e.next=35;break}return e.abrupt("return",reduceToParents(i,r,n));case 35:return e.abrupt("return",i[0]);case 36:case"end":return e.stop()}}),e,null,[[3,19,23,33],[24,,28,32]])}))),_reduceToParents.apply(this,arguments)}function _createSuper$a(e){var t=_isNativeReflectConstruct$a();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _asyncIterator$c(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$c(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$c(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$c=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$c.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$c(e)}function trickleStream(e,t,r){return _trickleStream.apply(this,arguments)}function _trickleStream(){return _trickleStream=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c,l,f,h,d;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Root(n.layerRepeat),o=0,a=1,s=i,u=!1,c=!1,e.prev=6,f=_asyncIterator$c(itBatch(t,n.maxChildrenPerNode));case 8:return e.next=10,f.next();case 10:if(!(u=!(h=e.sent).done)){e.next=26;break}if(d=h.value,!s.isFull()){e.next=22;break}if(s===i){e.next=19;break}return e.t0=i,e.next=17,s.reduce(r);case 17:e.t1=e.sent,e.t0.addChild.call(e.t0,e.t1);case 19:o&&o%n.layerRepeat==0&&a++,s=new SubTree(a,n.layerRepeat,o),o++;case 22:s.append(d);case 23:u=!1,e.next=8;break;case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(6),c=!0,l=e.t2;case 32:if(e.prev=32,e.prev=33,!u||null==f.return){e.next=37;break}return e.next=37,f.return();case 37:if(e.prev=37,!c){e.next=40;break}throw l;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!s||s===i){e.next=48;break}return e.t3=i,e.next=46,s.reduce(r);case 46:e.t4=e.sent,e.t3.addChild.call(e.t3,e.t4);case 48:return e.abrupt("return",i.reduce(r));case 49:case"end":return e.stop()}}),e,null,[[6,28,32,42],[33,,37,41]])}))),_trickleStream.apply(this,arguments)}var SubTree=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck$1(this,e),this.maxDepth=t,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:t,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}var t;return _createClass$1(e,[{key:"isFull",value:function(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;var e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}},{key:"_addNextNodeToParent",value:function(e){this.parent=e;var t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}},{key:"append",value:function(e){this.node.data=e}},{key:"reduce",value:function(e){return this._reduce(this.root,e)}},{key:"_reduce",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!t.children.length){e.next=5;break}return e.next=4,Promise.all(t.children.filter((function(e){return e.data})).map((function(e){return i._reduce(e,r)})));case 4:n=e.sent;case 5:return e.abrupt("return",r((t.data||[]).concat(n)));case 6:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"_findParent",value:function(e,t){var r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}]),e}(),Root=function(e){_inherits(r,e);var t=_createSuper$a(r);function r(e){var n;return _classCallCheck$1(this,r),(n=t.call(this,0,e)).root.depth=0,n.currentDepth=1,n}return _createClass$1(r,[{key:"addChild",value:function(e){this.root.children.push(e)}},{key:"reduce",value:function(e){return e((this.root.data||[]).concat(this.root.children))}}]),r}(SubTree);function _asyncIterator$b(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$b(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$b(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$b=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$b.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$b(e)}function bufferImporter(e,t,r){return _bufferImporter.apply(this,arguments)}function _bufferImporter(){return _bufferImporter=_wrapAsyncGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,o=!1,e.prev=2,s=regenerator.mark((function e(){var i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.value,e.next=3,_asyncToGenerator(regenerator.mark((function e(){var o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.progress(i.length,t.path),a={codec:dagPb,cidVersion:n.cidVersion,hasher:n.hasher,onlyHash:n.onlyHash},n.rawLeaves?(a.codec=raw,a.cidVersion=1):(o=new UnixFS({type:n.leafType,data:i,mtime:t.mtime,mode:t.mode}),i=encode$7({Data:o.marshal(),Links:[]})),e.next=5,persist(i,r,a);case 5:return e.t0=e.sent,e.t1=o,e.t2=i.length,e.abrupt("return",{cid:e.t0,unixfs:e.t1,size:e.t2});case 9:case"end":return e.stop()}}),e)})));case 3:case"end":return e.stop()}}),e)})),u=_asyncIterator$b(t.content);case 5:return e.next=7,_awaitAsyncGenerator(u.next());case 7:if(!(i=!(c=e.sent).done)){e.next=12;break}return e.delegateYield(s(),"t0",9);case 9:i=!1,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),o=!0,a=e.t1;case 18:if(e.prev=18,e.prev=19,!i||null==u.return){e.next=23;break}return e.next=23,_awaitAsyncGenerator(u.return());case 23:if(e.prev=23,!o){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])}))),_bufferImporter.apply(this,arguments)}function ownKeys$a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$a(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _asyncIterator$a(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$a(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$a=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$a(e)}var dagBuilders={flat:flat,balanced:balanced,trickle:trickleStream};function buildFileBatch(e,t,r){return _buildFileBatch.apply(this,arguments)}function _buildFileBatch(){return(_buildFileBatch=_wrapAsyncGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c,l,f,h;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=-1,a="function"==typeof n.bufferImporter?n.bufferImporter:bufferImporter,s=!1,u=!1,e.prev=4,l=_asyncIterator$a(itParallelBatch(a(t,r,n),n.blockWriteConcurrency));case 6:return e.next=8,_awaitAsyncGenerator(l.next());case 8:if(!(s=!(f=e.sent).done)){e.next=25;break}if(h=f.value,0!==++i){e.next=16;break}return o=h,e.abrupt("continue",22);case 16:if(1!==i||!o){e.next=20;break}return e.next=19,o;case 19:o=null;case 20:return e.next=22,h;case 22:s=!1,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),u=!0,c=e.t0;case 31:if(e.prev=31,e.prev=32,!s||null==l.return){e.next=36;break}return e.next=36,_awaitAsyncGenerator(l.return());case 36:if(e.prev=36,!u){e.next=39;break}throw c;case 39:return e.finish(36);case 40:return e.finish(31);case 41:if(!o){e.next=45;break}return o.single=!0,e.next=45,o;case 45:case"end":return e.stop()}}),e,null,[[4,27,31,41],[32,,36,40]])})))).apply(this,arguments)}var reduce=function(e,t,r){function n(){return n=_asyncToGenerator(regenerator.mark((function n(i){var o,a,s,u,c,l,f;return regenerator.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==i.length||!i[0].single||!r.reduceSingleLeafToSelf){n.next=13;break}if((o=i[0]).cid.code!==code$2||void 0===e.mtime&&void 0===e.mode){n.next=12;break}return n.next=5,t.get(o.cid);case 5:return a=n.sent,o.unixfs=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode,data:a}),a=encode$7(prepare({Data:o.unixfs.marshal()})),n.next=10,persist(a,t,_objectSpread$a(_objectSpread$a({},r),{},{codec:dagPb,hasher:r.hasher,cidVersion:r.cidVersion}));case 10:o.cid=n.sent,o.size=a.length;case 12:return n.abrupt("return",{cid:o.cid,path:e.path,unixfs:o.unixfs,size:o.size});case 13:return s=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode}),u=i.filter((function(e){return!(e.cid.code!==code$2||!e.size)||(!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length))})).map((function(e){return e.cid.code===code$2?(s.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?s.addBlockSize(e.unixfs.data.length):s.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})})),c={Data:s.marshal(),Links:u},l=encode$7(prepare(c)),n.next=19,persist(l,t,r);case 19:return f=n.sent,n.abrupt("return",{cid:f,path:e.path,unixfs:s,size:l.length+c.Links.reduce((function(e,t){return e+t.Tsize}),0)});case 21:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}return function(e){return n.apply(this,arguments)}};function fileBuilder(e,t,r){var n=dagBuilders[r.strategy];if(!n)throw errCode(new Error("Unknown importer build strategy name: ".concat(r.strategy)),"ERR_BAD_STRATEGY");return n(buildFileBatch(e,t,r),reduce(e,t,r),r)}var Buffer$e=buffer$1.Buffer,symbol=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList))return new BufferList(e);BufferList._init.call(this,e)}BufferList._init=function(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},BufferList.prototype._new=function(e){return new BufferList(e)},BufferList.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,r=0;r<this._bufs.length;r++){var n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},BufferList.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},BufferList.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},BufferList.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},BufferList.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||Buffer$e.alloc(0);if(n<=0)return e||Buffer$e.alloc(0);var i=!!e,o=this._offset(r),a=n-r,s=a,u=i&&t||0,c=o[1];if(0===r&&n===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:Buffer$e.concat(this._bufs,this.length);for(var l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(s<=this._bufs[o[0]].length-c)return i?this._bufs[o[0]].copy(e,t,c,c+s):this._bufs[o[0]].slice(c,c+s);i||(e=Buffer$e.allocUnsafe(a));for(var f=o[0];f<this._bufs.length;f++){var h=this._bufs[f].length-c;if(!(s>h)){this._bufs[f].copy(e,u,c,c+s),u+=h;break}this._bufs[f].copy(e,u,c),u+=h,s-=h,c&&(c=0)}return e.length>u?e.slice(0,u):e},BufferList.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},BufferList.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},BufferList.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},BufferList.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(Buffer$e.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(Buffer$e.from(e));return this},BufferList.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},BufferList.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=Buffer$e.from([e]):"string"==typeof e?e=Buffer$e.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=Buffer$e.from(e.buffer,e.byteOffset,e.byteLength):Buffer$e.isBuffer(e)||(e=Buffer$e.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var n=this._offset(t),i=n[0],o=n[1];i<this._bufs.length;i++){for(var a=this._bufs[i];o<a.length;){if(a.length-o>=e.length){var s=a.indexOf(e,o);if(-1!==s)return this._reverseOffset([i,s]);o=a.length-e.length+1}else{var u=this._reverseOffset([i,o]);if(this._match(u,e))return u;o++}}o=0}return-1},BufferList.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){BufferList.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),BufferList.prototype._isBufferList=function(e){return e instanceof BufferList||BufferList.isBufferList(e)},BufferList.isBufferList=function(e){return null!=e&&e[symbol]};var BufferList_1=BufferList,Rabin$1=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,a=arguments.length>5?arguments[5]:void 0;_classCallCheck$1(this,e),this.bits=r,this.min=n,this.max=i,this.asModule=t,this.rabin=new t.Rabin(r,n,i,o,a),this.polynomial=a}return _createClass$1(e,[{key:"fingerprint",value:function(e){var t=this.asModule,r=t.__retain,n=t.__release,i=t.__allocArray,o=t.__getInt32Array,a=t.Int32Array_ID,s=t.Uint8Array_ID,u=r(i(a,new Int32Array(Math.ceil(e.length/this.min)))),c=r(i(s,e)),l=o(this.rabin.fingerprint(c,u));n(c),n(u);var f=l.indexOf(0);return f>=0?l.subarray(0,f):l}}]),e}(),rabin$1=Rabin$1,loader={},ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT="undefined"!=typeof BigUint64Array,THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(e,t){var r=new Uint32Array(e),n=new Uint16Array(e),i=r[t+SIZE_OFFSET>>>2]>>>1,o=t>>>1;if(i<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(o,o+i));var a=[];do{var s=n[o+CHUNKSIZE-1],u=s>=55296&&s<56320?CHUNKSIZE-1:CHUNKSIZE;a.push(String.fromCharCode.apply(String,n.subarray(o,o+=u))),i-=u}while(i>CHUNKSIZE);return a.join("")+String.fromCharCode.apply(String,n.subarray(o,o+i))}function preInstantiate(e){var t={};function r(e,t){return e?getStringImpl(e.buffer,t):"<yet unknown>"}var n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,a){var s=t.memory||n.memory;throw Error("abort: "+r(s,e)+" at "+r(s,i)+":"+o+":"+a)},n.trace=n.trace||function(e,i){var o=t.memory||n.memory;console.log("trace: "+r(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function postInstantiate(e,t){var r=t.exports,n=r.memory,i=r.table,o=r.__alloc,a=r.__retain,s=r.__rtti_base||-1;function u(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e]}function c(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e+1]}function l(e){return 31-Math.clz32(e>>>VAL_ALIGN_OFFSET&31)}function f(e,t,r){var i=n.buffer;if(r)switch(e){case 2:return new Float32Array(i);case 3:return new Float64Array(i)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(i);case 1:return new(t?Int16Array:Uint16Array)(i);case 2:return new(t?Int32Array:Uint32Array)(i);case 3:return new(t?BigInt64Array:BigUint64Array)(i)}throw Error("unsupported align: "+e)}function h(e){var t=new Uint32Array(n.buffer),r=t[e+ID_OFFSET>>>2],i=u(r);if(!(i&ARRAYBUFFERVIEW))throw Error("not an array: "+r);var o=l(i),a=t[e+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2],s=i&ARRAY?t[e+ARRAY_LENGTH_OFFSET>>>2]:t[a+SIZE_OFFSET>>>2]>>>o;return f(o,i&VAL_SIGNED,i&VAL_FLOAT).subarray(a>>>=o,a+s)}function d(e,t,r){return new e(p(e,t,r))}function p(e,t,r){var i=n.buffer,o=new Uint32Array(i),a=o[r+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new e(i,a,o[a+SIZE_OFFSET>>>2]>>>t)}return e.__allocString=function(e){for(var t=e.length,r=o(t<<1,STRING_ID),i=new Uint16Array(n.buffer),a=0,s=r>>>1;a<t;++a)i[s+a]=e.charCodeAt(a);return r},e.__getString=function(e){var t=n.buffer;if(new Uint32Array(t)[e+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+e);return getStringImpl(t,e)},e.__allocArray=function(e,t){var r=u(e);if(!(r&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+e+" @ "+r);var i=l(r),s=t.length,c=o(s<<i,ARRAYBUFFER_ID),h=o(r&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,e),d=new Uint32Array(n.buffer);d[h+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=a(c),d[h+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=c,d[h+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=s<<i,r&ARRAY&&(d[h+ARRAY_LENGTH_OFFSET>>>2]=s);var p=f(i,r&VAL_SIGNED,r&VAL_FLOAT);if(r&VAL_MANAGED)for(var y=0;y<s;++y)p[(c>>>i)+y]=a(t[y]);else p.set(t,c>>>i);return h},e.__getArrayView=h,e.__getArray=function(e){for(var t=h(e),r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i];return n},e.__getArrayBuffer=function(e){var t=n.buffer,r=new Uint32Array(t)[e+SIZE_OFFSET>>>2];return t.slice(e,e+r)},e.__getInt8Array=d.bind(null,Int8Array,0),e.__getInt8ArrayView=p.bind(null,Int8Array,0),e.__getUint8Array=d.bind(null,Uint8Array,0),e.__getUint8ArrayView=p.bind(null,Uint8Array,0),e.__getUint8ClampedArray=d.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=p.bind(null,Uint8ClampedArray,0),e.__getInt16Array=d.bind(null,Int16Array,1),e.__getInt16ArrayView=p.bind(null,Int16Array,1),e.__getUint16Array=d.bind(null,Uint16Array,1),e.__getUint16ArrayView=p.bind(null,Uint16Array,1),e.__getInt32Array=d.bind(null,Int32Array,2),e.__getInt32ArrayView=p.bind(null,Int32Array,2),e.__getUint32Array=d.bind(null,Uint32Array,2),e.__getUint32ArrayView=p.bind(null,Uint32Array,2),BIGINT&&(e.__getInt64Array=d.bind(null,BigInt64Array,3),e.__getInt64ArrayView=p.bind(null,BigInt64Array,3),e.__getUint64Array=d.bind(null,BigUint64Array,3),e.__getUint64ArrayView=p.bind(null,BigUint64Array,3)),e.__getFloat32Array=d.bind(null,Float32Array,2),e.__getFloat32ArrayView=p.bind(null,Float32Array,2),e.__getFloat64Array=d.bind(null,Float64Array,3),e.__getFloat64ArrayView=p.bind(null,Float64Array,3),e.__instanceof=function(e,t){var r=new Uint32Array(n.buffer),i=r[e+ID_OFFSET>>>2];if(i<=r[s>>>2])do{if(i==t)return!0}while(i=c(i));return!1},e.memory=e.memory||n,e.table=e.table||i,demangle(r,e)}function isResponse(e){return"undefined"!=typeof Response&&e instanceof Response}function instantiate$1(e,t){return _instantiate.apply(this,arguments)}function _instantiate(){return(_instantiate=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=isResponse,e.next=3,t;case 3:if(e.t1=t=e.sent,!(0,e.t0)(e.t1)){e.next=6;break}return e.abrupt("return",instantiateStreaming(t,r));case 6:if(e.t2=postInstantiate,e.t3=preInstantiate(r||(r={})),e.t4=WebAssembly,!(t instanceof WebAssembly.Module)){e.next=13;break}e.t5=t,e.next=16;break;case 13:return e.next=15,WebAssembly.compile(t);case 15:e.t5=e.sent;case 16:return e.t6=e.t5,e.t7=r,e.next=20,e.t4.instantiate.call(e.t4,e.t6,e.t7);case 20:return e.t8=e.sent,e.abrupt("return",(0,e.t2)(e.t3,e.t8));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function instantiateSync(e,t){return postInstantiate(preInstantiate(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))}function instantiateStreaming(e,t){return _instantiateStreaming.apply(this,arguments)}function _instantiateStreaming(){return(_instantiateStreaming=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(WebAssembly.instantiateStreaming){e.next=14;break}return e.t0=instantiate$1,e.t1=isResponse,e.next=5,t;case 5:if(e.t2=t=e.sent,!(0,e.t1)(e.t2)){e.next=10;break}e.t3=t.arrayBuffer(),e.next=11;break;case 10:e.t3=t;case 11:return e.t4=e.t3,e.t5=r,e.abrupt("return",(0,e.t0)(e.t4,e.t5));case 14:return e.t6=postInstantiate,e.t7=preInstantiate(r||(r={})),e.next=18,WebAssembly.instantiateStreaming(t,r);case 18:return e.t8=e.sent.instance,e.abrupt("return",(0,e.t6)(e.t7,e.t8));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function demangle(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){},i=function(t){if(!Object.prototype.hasOwnProperty.call(e,t))return"continue";for(var i=e[t],o=t.split("."),a=r;o.length>1;){var s=o.shift();Object.prototype.hasOwnProperty.call(a,s)||(a[s]={}),a=a[s]}var u=o[0],c=u.indexOf("#");if(c>=0){var l=u.substring(0,c),f=a[l];if(void 0===f||!f.prototype){var h=function e(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.wrap((t=e.prototype).constructor.apply(t,[0].concat(n)))};h.prototype={valueOf:function(){return this[THIS]}},h.wrap=function(e){return Object.create(h.prototype,_defineProperty$3({},THIS,{value:e,writable:!1}))},f&&Object.getOwnPropertyNames(f).forEach((function(e){return Object.defineProperty(h,e,Object.getOwnPropertyDescriptor(f,e))})),a[l]=h}if(u=u.substring(c+1),a=a[l].prototype,/^(get|set):/.test(u)){if(!Object.prototype.hasOwnProperty.call(a,u=u.substring(4))){var d=e[t.replace("set:","get:")],p=e[t.replace("get:","set:")];Object.defineProperty(a,u,{get:function(){return d(this[THIS])},set:function(e){p(this[THIS],e)},enumerable:!0})}}else"constructor"===u?(a[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:(a[u]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t.length),i.apply(void 0,[this[THIS]].concat(t))}).original=i}else/^(get|set):/.test(u)?Object.prototype.hasOwnProperty.call(a,u=u.substring(4))||Object.defineProperty(a,u,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==n?(a[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:a[u]=i};for(var o in e)i(o);return r}loader.instantiate=instantiate$1,loader.instantiateSync=instantiateSync,loader.instantiateStreaming=instantiateStreaming,loader.demangle=demangle;var instantiate=loader.instantiate;function loadWebAssembly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!loadWebAssembly.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([t],{type:"application/wasm"})),e)}loadWebAssembly.supported="undefined"!=typeof WebAssembly;var rabinWasm=loadWebAssembly,Rabin=rabin$1,getRabin=rabinWasm,create$2=function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r,n,i,o){var a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getRabin();case 2:return a=e.sent,e.abrupt("return",new Rabin(a,t,r,n,i,o));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),src$5={Rabin:Rabin,create:create$2};function _asyncIterator$9(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$9(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$9(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$9=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$9.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$9(e)}function rabinChunker(e,t){return _rabinChunker.apply(this,arguments)}function _rabinChunker(){return(_rabinChunker=_wrapAsyncGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.minChunkSize&&r.maxChunkSize&&r.avgChunkSize)){e.next=6;break}o=r.avgChunkSize,n=r.minChunkSize,i=r.maxChunkSize,e.next=13;break;case 6:if(r.avgChunkSize){e.next=10;break}throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");case 10:o=r.avgChunkSize,n=o/3,i=o+o/2;case 13:if(!(n<16)){e.next=15;break}throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");case 15:i<n&&(i=n),o<n&&(o=n),a=Math.floor(Math.log2(o)),s=!1,u=!1,e.prev=20,l=_asyncIterator$9(rabin(t,{min:n,max:i,bits:a,window:r.window,polynomial:r.polynomial}));case 22:return e.next=24,_awaitAsyncGenerator(l.next());case 24:if(!(s=!(f=e.sent).done)){e.next=31;break}return h=f.value,e.next=28,h;case 28:s=!1,e.next=22;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(20),u=!0,c=e.t0;case 37:if(e.prev=37,e.prev=38,!s||null==l.return){e.next=42;break}return e.next=42,_awaitAsyncGenerator(l.return());case 42:if(e.prev=42,!u){e.next=45;break}throw c;case 45:return e.finish(42);case 46:return e.finish(37);case 47:case"end":return e.stop()}}),e,null,[[20,33,37,47],[38,,42,46]])})))).apply(this,arguments)}function rabin(e,t){return _rabin.apply(this,arguments)}function _rabin(){return _rabin=_wrapAsyncGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_awaitAsyncGenerator(src$5.create(r.bits,r.min,r.max,r.window));case 2:n=e.sent,i=new BufferList_1,o=!1,a=!1,e.prev=6,u=_asyncIterator$9(t);case 8:return e.next=10,_awaitAsyncGenerator(u.next());case 10:if(!(o=!(c=e.sent).done)){e.next=27;break}l=c.value,i.append(l),f=n.fingerprint(l),h=0;case 15:if(!(h<f.length)){e.next=24;break}return d=f[h],p=i.slice(0,d),i.consume(d),e.next=21,p;case 21:h++,e.next=15;break;case 24:o=!1,e.next=8;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(6),a=!0,s=e.t0;case 33:if(e.prev=33,e.prev=34,!o||null==u.return){e.next=38;break}return e.next=38,_awaitAsyncGenerator(u.return());case 38:if(e.prev=38,!a){e.next=41;break}throw s;case 41:return e.finish(38);case 42:return e.finish(33);case 43:if(!i.length){e.next=46;break}return e.next=46,i.slice(0);case 46:case"end":return e.stop()}}),e,null,[[6,29,33,43],[34,,38,42]])}))),_rabin.apply(this,arguments)}function _asyncIterator$8(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$8(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$8(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$8=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$8.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$8(e)}function fixedSizeChunker(e,t){return _fixedSizeChunker.apply(this,arguments)}function _fixedSizeChunker(){return _fixedSizeChunker=_wrapAsyncGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new BufferList_1,i=0,o=!1,a=r.maxChunkSize,s=!1,u=!1,e.prev=6,l=_asyncIterator$8(t);case 8:return e.next=10,_awaitAsyncGenerator(l.next());case 10:if(!(s=!(f=e.sent).done)){e.next=24;break}h=f.value,n.append(h),i+=h.length;case 14:if(!(i>=a)){e.next=21;break}return e.next=17,n.slice(0,a);case 17:o=!0,a===n.length?(n=new BufferList_1,i=0):((d=new BufferList_1).append(n.shallowSlice(a)),n=d,i-=a),e.next=14;break;case 21:s=!1,e.next=8;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(6),u=!0,c=e.t0;case 30:if(e.prev=30,e.prev=31,!s||null==l.return){e.next=35;break}return e.next=35,_awaitAsyncGenerator(l.return());case 35:if(e.prev=35,!u){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:if(o&&!i){e.next=43;break}return e.next=43,n.slice(0,i);case 43:case"end":return e.stop()}}),e,null,[[6,26,30,40],[31,,35,39]])}))),_fixedSizeChunker.apply(this,arguments)}function base$2(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$4=base$2,_brrp__multiformats_scope_baseX$1=src$4,coerce$2=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$2=function(e){return(new TextEncoder).encode(e)},toString=function(e){return(new TextDecoder).decode(e)};function ownKeys$9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$9(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Encoder$1=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass$1(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder$1=function(){function e(t,r,n){if(_classCallCheck$1(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return _createClass$1(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or$1(this,e)}}]),e}(),ComposedDecoder$1=function(){function e(t){_classCallCheck$1(this,e),this.decoders=t}return _createClass$1(e,[{key:"or",value:function(e){return _or$1(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or$1=function(e,t){return new ComposedDecoder$1(_objectSpread$9(_objectSpread$9({},e.decoders||_defineProperty$3({},e.prefix,e)),t.decoders||_defineProperty$3({},t.prefix,t)))},Codec$1=function(){function e(t,r,n,i){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder$1(t,r,n),this.decoder=new Decoder$1(t,r,i)}return _createClass$1(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$3=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec$1(t,r,n,i)},baseX$1=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX$1(n,r),o=i.encode,a=i.decode;return from$3({prefix:t,name:r,encode:o,decode:function(e){return coerce$2(a(e))}})},_decode2$1=function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),u=0,c=0,l=0,f=0;f<a;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},_encode$1=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},rfc4648$1=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$3({prefix:r,name:t,encode:function(e){return _encode$1(e,i,n)},decode:function(e){return _decode2$1(e,i,n,t)}})},identity$2=from$3({prefix:"\0",name:"identity",encode:function(e){return toString(e)},decode:function(e){return fromString$2(e)}}),identityBase=Object.freeze({__proto__:null,identity:identity$2}),base2=rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze({__proto__:null,base2:base2}),base8=rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze({__proto__:null,base8:base8}),base10=baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze({__proto__:null,base10:base10}),base16=rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze({__proto__:null,base16:base16,base16upper:base16upper}),base32$1=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$2=Object.freeze({__proto__:null,base32:base32$1,base32upper:base32upper,base32pad:base32pad,base32padupper:base32padupper,base32hex:base32hex,base32hexupper:base32hexupper,base32hexpad:base32hexpad,base32hexpadupper:base32hexpadupper,base32z:base32z}),base36=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze({__proto__:null,base36:base36,base36upper:base36upper}),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze({__proto__:null,base58btc:base58btc$1,base58flickr:base58flickr}),base64=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze({__proto__:null,base64:base64,base64pad:base64pad,base64url:base64url,base64urlpad:base64urlpad});function _createForOfIteratorHelper$8(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$8(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$8(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$8(e,t):void 0}}function _arrayLikeToArray$8(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((function(e,t,r){return e[r]=t,e}),[]),alphabetCharsToBytes=alphabet.reduce((function(e,t,r){return e[t.codePointAt(0)]=r,e}),[]);function encode$5(e){return e.reduce((function(e,t){return e+=alphabetBytesToChars[t]}),"")}function decode$5(e){var t,r=[],n=_createForOfIteratorHelper$8(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=alphabetCharsToBytes[i.codePointAt(0)];if(void 0===o)throw new Error("Non-base256emoji character: ".concat(i));r.push(o)}}catch(e){n.e(e)}finally{n.f()}return new Uint8Array(r)}var base256emoji=from$3({prefix:"🚀",name:"base256emoji",encode:encode$5,decode:decode$5}),base256emoji$1=Object.freeze({__proto__:null,base256emoji:base256emoji}),encode_1$1=encode$4,MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$4(e,t,r){t=t||[];for(var n=r=r||0;e>=INT$1;)t[r++]=255&e|MSB$2,e/=128;for(;e&MSBALL$1;)t[r++]=255&e|MSB$2,e>>>=7;return t[r]=0|e,encode$4.bytes=r-n+1,t}var decode$4=read$1,MSB$1$1=128,REST$1$1=127;function read$1(e,t){var r,n=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw read$1.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&REST$1$1)<<i:(r&REST$1$1)*Math.pow(2,i),i+=7}while(r>=MSB$1$1);return read$1.bytes=o-t,n}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$4,encodingLength:length$1},_brrp_varint$1=varint$1,encodeTo$1=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint$1.encode(e,t,r),t},encodingLength$1=function(e){return _brrp_varint$1.encodingLength(e)},create$1=function(e,t){var r=t.byteLength,n=encodingLength$1(e),i=n+encodingLength$1(r),o=new Uint8Array(i+r);return encodeTo$1(e,o,0),encodeTo$1(r,o,n),o.set(t,i),new Digest$1(e,r,t,o)},Digest$1=_createClass$1((function e(t,r,n,i){_classCallCheck$1(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i})),from$2=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher$1(t,r,n)},Hasher$1=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.code=r,this.encode=n}return _createClass$1(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create$1(this.code,r):r.then((function(e){return create$1(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sha$5=function(e){return function(){var t=_asyncToGenerator(regenerator.mark((function t(r){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sha256$3=from$2({name:"sha2-256",code:18,encode:sha$5("SHA-256")}),sha512$1=from$2({name:"sha2-512",code:19,encode:sha$5("SHA-512")}),sha2=Object.freeze({__proto__:null,sha256:sha256$3,sha512:sha512$1}),code$1=0,name$1="identity",encode$3=coerce$2,digest=function(e){return create$1(code$1,encode$3(e))},identity={code:code$1,name:name$1,encode:encode$3,digest:digest},identity$1=Object.freeze({__proto__:null,identity:identity});function ownKeys$8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$8(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$8(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}new TextEncoder,new TextDecoder;var bases=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},identityBase),base2$1),base8$1),base10$1),base16$1),base32$2),base36$1),base58),base64$1),base256emoji$1);function ownKeys$7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$7(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}_objectSpread$8(_objectSpread$8({},sha2),identity$1);var string$1=createCodec("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),ascii=createCodec("ascii","a",(function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(function(e){e=e.substring(1);for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),BASES=_objectSpread$7({utf8:string$1,"utf-8":string$1,hex:bases.base16,latin1:ascii,ascii:ascii,binary:ascii},bases);function fromString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=BASES[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return r.decoder.decode("".concat(r.prefix).concat(e))}var fromString$1=Object.freeze({__proto__:null,fromString:fromString});function _asyncIterator$7(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$7(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$7(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$7=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$7.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$7(e)}function validateChunks(e){return _validateChunks.apply(this,arguments)}function _validateChunks(){return(_validateChunks=_wrapAsyncGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,n=!1,e.prev=2,o=_asyncIterator$7(t);case 4:return e.next=6,_awaitAsyncGenerator(o.next());case 6:if(!(r=!(a=e.sent).done)){e.next=29;break}if(void 0!==(s=a.value).length){e.next=10;break}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 10:if(!("string"==typeof s||s instanceof String)){e.next=15;break}return e.next=13,fromString(s.toString());case 13:e.next=26;break;case 15:if(!Array.isArray(s)){e.next=20;break}return e.next=18,Uint8Array.from(s);case 18:e.next=26;break;case 20:if(!(s instanceof Uint8Array)){e.next=25;break}return e.next=23,s;case 23:e.next=26;break;case 25:throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 26:r=!1,e.next=4;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(2),n=!0,i=e.t0;case 35:if(e.prev=35,e.prev=36,!r||null==o.return){e.next=40;break}return e.next=40,_awaitAsyncGenerator(o.return());case 40:if(e.prev=40,!n){e.next=43;break}throw i;case 43:return e.finish(40);case 44:return e.finish(35);case 45:case"end":return e.stop()}}),e,null,[[2,31,35,45],[36,,40,44]])})))).apply(this,arguments)}function _asyncIterator$6(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$6(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$6(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$6=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$6.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$6(e)}function isIterable$1(e){return Symbol.iterator in e}function isAsyncIterable(e){return Symbol.asyncIterator in e}function contentAsAsyncIterable(e){try{if(e instanceof Uint8Array)return _wrapAsyncGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)})))();if(isIterable$1(e))return _wrapAsyncGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(_asyncGeneratorDelegate(_asyncIterator$6(e),_awaitAsyncGenerator),"t0",1);case 1:case"end":return t.stop()}}),t)})))();if(isAsyncIterable(e))return e}catch(e){throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function dagBuilder(e,t,r){return _dagBuilder.apply(this,arguments)}function _dagBuilder(){return(_dagBuilder=_wrapAsyncGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,o=!1,e.prev=2,s=_asyncIterator$6(t);case 4:return e.next=6,_awaitAsyncGenerator(s.next());case 6:if(!(i=!(u=e.sent).done)){e.next=21;break}if((c=u.value).path&&("./"===c.path.substring(0,2)&&(n.wrapWithDirectory=!0),c.path=c.path.split("/").filter((function(e){return e&&"."!==e})).join("/")),!c.content){e.next=13;break}return e.delegateYield(regenerator.mark((function e(){var t,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,t="function"==typeof n.chunker?n.chunker:"rabin"===n.chunker?rabinChunker:fixedSizeChunker,i=void 0,i="function"==typeof n.chunkValidator?n.chunkValidator:validateChunks,o={path:c.path,mtime:c.mtime,mode:c.mode,content:t(i(contentAsAsyncIterable(c.content),n),n)},e.next=7,function(){return fileBuilder(o,r,n)};case 7:case"end":return e.stop()}}),e)}))(),"t0",11);case 11:e.next=18;break;case 13:if(!c.path){e.next=17;break}return e.delegateYield(regenerator.mark((function e(){var t;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={path:c.path,mtime:c.mtime,mode:c.mode},e.next=3,function(){return dirBuilder(t,r,n)};case 3:case"end":return e.stop()}}),e)}))(),"t1",15);case 15:e.next=18;break;case 17:throw new Error("Import candidate must have content or path or both");case 18:i=!1,e.next=4;break;case 21:e.next=27;break;case 23:e.prev=23,e.t2=e.catch(2),o=!0,a=e.t2;case 27:if(e.prev=27,e.prev=28,!i||null==s.return){e.next=32;break}return e.next=32,_awaitAsyncGenerator(s.return());case 32:if(e.prev=32,!o){e.next=35;break}throw a;case 35:return e.finish(32);case 36:return e.finish(27);case 37:case"end":return e.stop()}}),e,null,[[2,23,27,37],[28,,32,36]])})))).apply(this,arguments)}var Dir=function(){function e(t,r){_classCallCheck$1(this,e),this.options=r||{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime,this.cid=void 0,this.size=void 0}var t;return _createClass$1(e,[{key:"put",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return Promise.resolve(this)}},{key:"eachChildSeries",value:function(){return _wrapAsyncGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"flush",value:function(e){return _wrapAsyncGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}]),e}();function _createSuper$9(e){var t=_isNativeReflectConstruct$9();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$9(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _asyncIterator$5(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$5(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$5(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$5=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$5.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$5(e)}var DirFlat=function(e){_inherits(n,e);var t,r=_createSuper$9(n);function n(e,t){var i;return _classCallCheck$1(this,n),(i=r.call(this,e,t))._children={},i}return _createClass$1(n,[{key:"put",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cid=void 0,this.size=void 0,this._children[t]=r;case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return Promise.resolve(this._children[e])}},{key:"childCount",value:function(){return Object.keys(this._children).length}},{key:"directChildrenCount",value:function(){return this.childCount()}},{key:"onlyChild",value:function(){return this._children[Object.keys(this._children)[0]]}},{key:"eachChildSeries",value:function(){var e=this;return _wrapAsyncGenerator(regenerator.mark((function t(){var r,n,i;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object.keys(e._children),n=0;case 2:if(!(n<r.length)){t.next=9;break}return i=r[n],t.next=6,{key:i,child:e._children[i]};case 6:n++,t.next=2;break;case 9:case"end":return t.stop()}}),t)})))()}},{key:"flush",value:function(e){var t=this;return _wrapAsyncGenerator(regenerator.mark((function r(){var n,i,o,a,s,u,c,l,f,h,d,p,y,m,v;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=Object.keys(t._children),i=[],o=0;case 3:if(!(o<n.length)){r.next=40;break}if(!((a=t._children[n[o]])instanceof Dir)){r.next=36;break}s=!1,u=!1,r.prev=8,l=_asyncIterator$5(a.flush(e));case 10:return r.next=12,_awaitAsyncGenerator(l.next());case 12:if(!(s=!(f=r.sent).done)){r.next=20;break}return h=f.value,a=h,r.next=17,a;case 17:s=!1,r.next=10;break;case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(8),u=!0,c=r.t0;case 26:if(r.prev=26,r.prev=27,!s||null==l.return){r.next=31;break}return r.next=31,_awaitAsyncGenerator(l.return());case 31:if(r.prev=31,!u){r.next=34;break}throw c;case 34:return r.finish(31);case 35:return r.finish(26);case 36:null!=a.size&&a.cid&&i.push({Name:n[o],Tsize:a.size,Hash:a.cid});case 37:o++,r.next=3;break;case 40:return d=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),p={Data:d.marshal(),Links:i},y=encode$7(prepare(p)),r.next=45,_awaitAsyncGenerator(persist(y,e,t.options));case 45:return m=r.sent,v=y.length+p.Links.reduce((function(e,t){return e+(null==t.Tsize?0:t.Tsize)}),0),t.cid=m,t.size=v,r.next=51,{cid:m,unixfs:d,path:t.path,size:v};case 51:case"end":return r.stop()}}),r,null,[[8,22,26,36],[27,,31,35]])})))()}}]),n}(Dir),BITS_PER_BYTE=7,sparseArray=function(){function e(){_classCallCheck$1(this,e),this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}return _createClass$1(e,[{key:"set",value:function(e,t){var r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{var n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}},{key:"unset",value:function(e){this.set(e,void 0)}},{key:"get",value:function(e){this._sortData();var t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}},{key:"push",value:function(e){return this.set(this.length,e),this.length}},{key:"length",get:function(){if(this._sortData(),this._changedLength){var e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}},{key:"forEach",value:function(e){for(var t=0;t<this.length;)e(this.get(t),t,this),t++}},{key:"map",value:function(e){for(var t=0,r=new Array(this.length);t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}},{key:"reduce",value:function(e,t){for(var r=0,n=t;r<this.length;){n=e(n,this.get(r),r),r++}return n}},{key:"find",value:function(e){for(var t,r,n=0;n<this.length&&!t;)t=e(r=this.get(n)),n++;return t?r:void 0}},{key:"_internalPositionFor",value:function(e,t){var r=this._bytePosFor(e,t);if(r>=this._bitArrays.length)return-1;var n=this._bitArrays[r],i=e-r*BITS_PER_BYTE;return(n&1<<i)>0?this._bitArrays.slice(0,r).reduce(popCountReduce,0)+popCount(n&~(4294967295<<i+1))-1:-1}},{key:"_bytePosFor",value:function(e,t){for(var r=Math.floor(e/BITS_PER_BYTE),n=r+1;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}},{key:"_setBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*BITS_PER_BYTE}},{key:"_unsetBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*BITS_PER_BYTE)}},{key:"_setInternalPos",value:function(e,t,r,n){var i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{var a=Math.round(i.length/2);this._data=i.slice(0,a).concat(o).concat(i.slice(a))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}},{key:"_unsetInternalPos",value:function(e){this._data.splice(e,1)}},{key:"_sortData",value:function(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}},{key:"bitField",value:function(){for(var e,t=[],r=8,n=0,i=0,o=this._bitArrays.slice();o.length||n;){0===n&&(e=o.shift(),n=7);var a=Math.min(n,r);i|=(e&~(255<<a))<<8-r,e>>>=a,n-=a,(r-=a)&&(n||o.length)||(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0;s--){if(0!==t[s])break;t.pop()}return t}},{key:"compactArray",value:function(){return this._sortData(),this._data.map(valueOnly)}}]),e}();function popCountReduce(e,t){return e+popCount(t)}function popCount(e){var t=e;return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}function sortInternal(e,t){return e[0]-t[0]}function valueOnly(e){return e[1]}var require$$1$1=getAugmentedNamespace(fromString$1);function _createForOfIteratorHelper$7(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$7(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$7(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$7(e,t):void 0}}function _arrayLikeToArray$7(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SparseArray=sparseArray,uint8ArrayFromString=require$$1$1.fromString,Bucket$1=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck$1(this,e),this._options=t,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}var t,r,n,i,o;return _createClass$1(e,[{key:"put",value:(o=_asyncToGenerator(regenerator.mark((function e(t,r){var n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findNewBucketAndPos(t);case 2:return n=e.sent,e.next=5,n.bucket._putAt(n,t,r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"get",value:function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findChild(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.value);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"del",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findPlace(t);case 2:r=e.sent,(n=r.bucket._at(r.pos))&&n.key===t&&r.bucket._delAt(r.pos);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"leafCount",value:function(){return this._children.compactArray().reduce((function(t,r){return r instanceof e?t+r.leafCount():t+1}),0)}},{key:"childrenCount",value:function(){return this._children.length}},{key:"onlyChild",value:function(){return this._children.get(0)}},{key:"eachLeafSeries",value:regenerator.mark((function t(){var r,n,i,o;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this._children.compactArray(),n=_createForOfIteratorHelper$7(r),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=14;break}if(!((o=i.value)instanceof e)){t.next=10;break}return t.delegateYield(o.eachLeafSeries(),"t0",8);case 8:t.next=12;break;case 10:return t.next=12,o;case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),n.e(t.t1);case 19:return t.prev=19,n.f(),t.finish(19);case 22:return t.abrupt("return",[]);case 23:case"end":return t.stop()}}),t,this,[[2,16,19,22]])}))},{key:"serialize",value:function(t,r){return r(this._children.reduce((function(n,i,o){return i&&(i instanceof e?n.push(i.serialize(t,r)):n.push(t(i,o))),n}),[]))}},{key:"asyncTransform",value:function(e,t){return asyncTransformBucket(this,e,t)}},{key:"toJSON",value:function(){return this.serialize(mapNode,reduceNodes)}},{key:"prettyPrint",value:function(){return JSON.stringify(this.toJSON(),null,"  ")}},{key:"tableSize",value:function(){return Math.pow(2,this._options.bits)}},{key:"_findChild",value:(n=_asyncToGenerator(regenerator.mark((function t(r){var n,i;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(n=t.sent,!((i=n.bucket._at(n.pos))instanceof e)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(!i||i.key!==r){t.next=8;break}return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"_findPlace",value:(r=_asyncToGenerator(regenerator.mark((function t(r){var n,i,o;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options.hash("string"==typeof r?uint8ArrayFromString(r):r),t.next=3,n.take(this._options.bits);case 3:if(i=t.sent,!((o=this._children.get(i))instanceof e)){t.next=7;break}return t.abrupt("return",o._findPlace(n));case 7:return t.abrupt("return",{bucket:this,pos:i,hash:n,existingChild:o});case 8:case"end":return t.stop()}}),t,this)}))),function(e){return r.apply(this,arguments)})},{key:"_findNewBucketAndPos",value:(t=_asyncToGenerator(regenerator.mark((function t(r){var n,i,o;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(!(n=t.sent).existingChild||n.existingChild.key===r){t.next=11;break}return i=new e(this._options,n.bucket,n.pos),n.bucket._putObjectAt(n.pos,i),t.next=8,i._findPlace(n.existingChild.hash);case 8:return(o=t.sent).bucket._putAt(o,n.existingChild.key,n.existingChild.value),t.abrupt("return",i._findNewBucketAndPos(n.hash));case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_putAt",value:function(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}},{key:"_putObjectAt",value:function(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}},{key:"_delAt",value:function(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}},{key:"_level",value:function(){if(this._parent&&this._popCount<=1)if(1===this._popCount){var t=this._children.find(exists);if(t&&!(t instanceof e)){var r=t.hash;r.untake(this._options.bits);var n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}},{key:"_at",value:function(e){return this._children.get(e)}}]),e}();function exists(e){return Boolean(e)}function mapNode(e,t){return e.key}function reduceNodes(e){return e}function asyncTransformBucket(e,t,r){return _asyncTransformBucket.apply(this,arguments)}function _asyncTransformBucket(){return _asyncTransformBucket=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=_createForOfIteratorHelper$7(t._children.compactArray()),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=17;break}if(!((s=a.value)instanceof Bucket$1)){e.next=11;break}return e.next=9,asyncTransformBucket(s,r,n);case 9:e.next=15;break;case 11:return e.next=13,r(s);case 13:u=e.sent,i.push({bitField:t._children.bitField(),children:u});case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:return e.abrupt("return",n(i));case 26:case"end":return e.stop()}}),e,null,[[2,19,22,25]])}))),_asyncTransformBucket.apply(this,arguments)}var bucket=Bucket$1,consumableHash={exports:{}},START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255],consumableBuffer=function(){function e(t){_classCallCheck$1(this,e),this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}return _createClass$1(e,[{key:"availableBits",value:function(){return this._currentBitPos+1+8*this._currentBytePos}},{key:"totalBits",value:function(){return 8*this._value.length}},{key:"take",value:function(e){for(var t=e,r=0;t&&this._haveBits();){var n=this._value[this._currentBytePos],i=this._currentBitPos+1,o=Math.min(i,t);r=(r<<o)+byteBitsToInt(n,i-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}},{key:"untake",value:function(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}},{key:"_haveBits",value:function(){return this._currentBytePos>=0}}]),e}();function byteBitsToInt(e,t,r){return(e&maskFor(t,r))>>>t}function maskFor(e,t){return START_MASKS[e]&STOP_MASKS[Math.min(t+e-1,7)]}function _createForOfIteratorHelper$6(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$6(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$6(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$6(e,t):void 0}}function _arrayLikeToArray$6(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function concat(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var r,n=new Uint8Array(t),i=0,o=_createForOfIteratorHelper$6(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.set(a,i),i+=a.length}}catch(e){o.e(e)}finally{o.f()}return n}var concat$1=Object.freeze({__proto__:null,concat:concat}),require$$1=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,uint8ArrayConcat=require$$1.concat;function wrapHash$1(e){return function(t){return t instanceof InfiniteHash?t:new InfiniteHash(t,e)}}var InfiniteHash=function(){function e(t,r){if(_classCallCheck$1(this,e),!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}var t,r;return _createClass$1(e,[{key:"take",value:(r=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(!(this._availableBits<r)){e.next=6;break}return e.next=4,this._produceMoreBits();case 4:e.next=1;break;case 6:for(n=0;r>0;)i=this._buffers[this._currentBufferIndex],o=Math.min(i.availableBits(),r),a=i.take(o),n=(n<<o)+a,r-=o,this._availableBits-=o,0===i.availableBits()&&this._currentBufferIndex++;return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"untake",value:function(e){for(var t=e;t>0;){var r=this._buffers[this._currentBufferIndex],n=Math.min(r.totalBits()-r.availableBits(),t);r.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&r.totalBits()===r.availableBits()&&(this._depth--,this._currentBufferIndex--)}}},{key:"_produceMoreBits",value:(t=_asyncToGenerator(regenerator.mark((function e(){var t,r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._depth++,t=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,e.next=4,this._hashFn(t);case 4:r=e.sent,n=new ConsumableBuffer(r),this._buffers.push(n),this._availableBits+=n.availableBits();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();consumableHash.exports=wrapHash$1,consumableHash.exports.InfiniteHash=InfiniteHash;var Bucket=bucket,wrapHash=consumableHash.exports;function createHAMT(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");var t={bits:e.bits||8,hash:wrapHash(e.hashFn)};return new Bucket(t)}var src$3={createHAMT:createHAMT,Bucket:Bucket};function ownKeys$6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$6(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$8(e){var t=_isNativeReflectConstruct$8();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$8(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _asyncIterator$4(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$4(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$4(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$4=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$4.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$4(e)}var DirSharded=function(e){_inherits(n,e);var t,r=_createSuper$8(n);function n(e,t){var i;return _classCallCheck$1(this,n),(i=r.call(this,e,t))._bucket=src$3.createHAMT({hashFn:t.hamtHashFn,bits:t.hamtBucketBits}),i}return _createClass$1(n,[{key:"put",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bucket.put(t,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"get",value:function(e){return this._bucket.get(e)}},{key:"childCount",value:function(){return this._bucket.leafCount()}},{key:"directChildrenCount",value:function(){return this._bucket.childrenCount()}},{key:"onlyChild",value:function(){return this._bucket.onlyChild()}},{key:"eachChildSeries",value:function(){var e=this;return _wrapAsyncGenerator(regenerator.mark((function t(){var r,n,i,o,a,s,u,c;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,n=!1,t.prev=2,o=_asyncIterator$4(e._bucket.eachLeafSeries());case 4:return t.next=6,_awaitAsyncGenerator(o.next());case 6:if(!(r=!(a=t.sent).done)){t.next=13;break}return s=a.value,u=s.key,c=s.value,t.next=10,{key:u,child:c};case 10:r=!1,t.next=4;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),n=!0,i=t.t0;case 19:if(t.prev=19,t.prev=20,!r||null==o.return){t.next=24;break}return t.next=24,_awaitAsyncGenerator(o.return());case 24:if(t.prev=24,!n){t.next=27;break}throw i;case 27:return t.finish(24);case 28:return t.finish(19);case 29:case"end":return t.stop()}}),t,null,[[2,15,19,29],[20,,24,28]])})))()}},{key:"flush",value:function(e){var t=this;return _wrapAsyncGenerator(regenerator.mark((function r(){var n,i,o,a,s,u;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=!1,i=!1,r.prev=2,a=_asyncIterator$4(_flush2(t._bucket,e,t,t.options));case 4:return r.next=6,_awaitAsyncGenerator(a.next());case 6:if(!(n=!(s=r.sent).done)){r.next=13;break}return u=s.value,r.next=10,_objectSpread$6(_objectSpread$6({},u),{},{path:t.path});case 10:n=!1,r.next=4;break;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(2),i=!0,o=r.t0;case 19:if(r.prev=19,r.prev=20,!n||null==a.return){r.next=24;break}return r.next=24,_awaitAsyncGenerator(a.return());case 24:if(r.prev=24,!i){r.next=27;break}throw o;case 27:return r.finish(24);case 28:return r.finish(19);case 29:case"end":return r.stop()}}),r,null,[[2,15,19,29],[20,,24,28]])})))()}}]),n}(Dir);function _flush2(e,t,r,n){return _flush.apply(this,arguments)}function _flush(){return _flush=_wrapAsyncGenerator(regenerator.mark((function e(t,r,n,i){var o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I,R,O,P,C,B;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t._children,a=[],s=0,u=0;case 4:if(!(u<o.length)){e.next=97;break}if(c=o.get(u)){e.next=8;break}return e.abrupt("continue",94);case 8:if(l=u.toString(16).toUpperCase().padStart(2,"0"),!(c instanceof src$3.Bucket)){e.next=49;break}return f=void 0,h=!1,d=!1,e.prev=13,e.t0=_asyncIterator$4,e.next=17,_awaitAsyncGenerator(_flush2(c,r,null,i));case 17:e.t1=e.sent,y=(0,e.t0)(e.t1);case 19:return e.next=21,_awaitAsyncGenerator(y.next());case 21:if(!(h=!(m=e.sent).done)){e.next=27;break}v=m.value,f=v;case 24:h=!1,e.next=19;break;case 27:e.next=33;break;case 29:e.prev=29,e.t2=e.catch(13),d=!0,p=e.t2;case 33:if(e.prev=33,e.prev=34,!h||null==y.return){e.next=38;break}return e.next=38,_awaitAsyncGenerator(y.return());case 38:if(e.prev=38,!d){e.next=41;break}throw p;case 41:return e.finish(38);case 42:return e.finish(33);case 43:if(f){e.next=45;break}throw new Error("Could not flush sharded directory, no subshard found");case 45:a.push({Name:l,Tsize:f.size,Hash:f.cid}),s+=f.size,e.next=94;break;case 49:if("function"!=typeof c.value.flush){e.next=87;break}g=c.value,b=void 0,w=!1,_=!1,e.prev=54,x=_asyncIterator$4(g.flush(r));case 56:return e.next=58,_awaitAsyncGenerator(x.next());case 58:if(!(w=!(S=e.sent).done)){e.next=66;break}return k=S.value,b=k,e.next=63,b;case 63:w=!1,e.next=56;break;case 66:e.next=72;break;case 68:e.prev=68,e.t3=e.catch(54),_=!0,$=e.t3;case 72:if(e.prev=72,e.prev=73,!w||null==x.return){e.next=77;break}return e.next=77,_awaitAsyncGenerator(x.return());case 77:if(e.prev=77,!_){e.next=80;break}throw $;case 80:return e.finish(77);case 81:return e.finish(72);case 82:A=l+c.key,a.push({Name:A,Tsize:b.size,Hash:b.cid}),s+=b.size,e.next=94;break;case 87:if((E=c.value).cid){e.next=90;break}return e.abrupt("continue",94);case 90:T=l+c.key,M=E.size,a.push({Name:T,Tsize:M,Hash:E.cid}),s+=M;case 94:u++,e.next=4;break;case 97:return I=Uint8Array.from(o.bitField().reverse()),R=new UnixFS({type:"hamt-sharded-directory",data:I,fanout:t.tableSize(),hashType:i.hamtHashCode,mtime:n&&n.mtime,mode:n&&n.mode}),O={Data:R.marshal(),Links:a},P=encode$7(prepare(O)),e.next=103,_awaitAsyncGenerator(persist(P,r,i));case 103:return C=e.sent,B=P.length+s,e.next=107,{cid:C,unixfs:R,size:B};case 107:case"end":return e.stop()}}),e,null,[[13,29,33,43],[34,,38,42],[54,68,72,82],[73,,77,81]])}))),_flush.apply(this,arguments)}function _asyncIterator$3(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$3(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$3(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$3=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$3.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$3(e)}function flatToShard(e,t,r,n){return _flatToShard.apply(this,arguments)}function _flatToShard(){return(_flatToShard=_asyncToGenerator(regenerator.mark((function e(t,r,n,i){var o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r,!(r instanceof DirFlat&&r.directChildrenCount()>=n)){e.next=5;break}return e.next=4,convertToShard(r,i);case 4:o=e.sent;case 5:if(!(a=o.parent)){e.next=14;break}if(o===r){e.next=13;break}if(t&&(t.parent=o),o.parentKey){e.next=11;break}throw new Error("No parent key found");case 11:return e.next=13,a.put(o.parentKey,o);case 13:return e.abrupt("return",flatToShard(o,a,n,i));case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function convertToShard(e,t){return _convertToShard.apply(this,arguments)}function _convertToShard(){return _convertToShard=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new DirSharded({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},r),i=!1,o=!1,e.prev=3,s=_asyncIterator$3(t.eachChildSeries());case 5:return e.next=7,s.next();case 7:if(!(i=!(u=e.sent).done)){e.next=14;break}return c=u.value,l=c.key,f=c.child,e.next=11,n.put(l,f);case 11:i=!1,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),o=!0,a=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==s.return){e.next=25;break}return e.next=25,s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(20);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,null,[[3,16,20,30],[21,,25,29]])}))),_convertToShard.apply(this,arguments)}var toPathComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)};function _asyncIterator$2(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$2(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$2(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$2=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$2.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$2(e)}function addToTree(e,t,r){return _addToTree.apply(this,arguments)}function _addToTree(){return _addToTree=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c,l,f;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=toPathComponents(t.path||""),o=i.length-1,a=r,s="",u=0;case 5:if(!(u<i.length)){e.next=30;break}if(c=i[u],s+="".concat(s?"/":"").concat(c),l=u===o,a.dirty=!0,a.cid=void 0,a.size=void 0,!l){e.next=20;break}return e.next=15,a.put(c,t);case 15:return e.next=17,flatToShard(null,a,n.shardSplitThreshold,n);case 17:r=e.sent,e.next=27;break;case 20:return e.next=22,a.get(c);case 22:return(f=e.sent)&&f instanceof Dir||(f=new DirFlat({root:!1,dir:!0,parent:a,parentKey:c,path:s,dirty:!0,flat:!0,mtime:f&&f.unixfs&&f.unixfs.mtime,mode:f&&f.unixfs&&f.unixfs.mode},n)),e.next=26,a.put(c,f);case 26:a=f;case 27:u++,e.next=5;break;case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}}),e)}))),_addToTree.apply(this,arguments)}function flushAndYield(e,t){return _flushAndYield.apply(this,arguments)}function _flushAndYield(){return(_flushAndYield=_wrapAsyncGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Dir){e.next=5;break}if(!(t&&t.unixfs&&t.unixfs.isDirectory())){e.next=4;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator$2(t.flush(r)),_awaitAsyncGenerator),"t0",6);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function treeBuilder(e,t,r){return _treeBuilder.apply(this,arguments)}function _treeBuilder(){return _treeBuilder=_wrapAsyncGenerator(regenerator.mark((function e(t,r,n){var i,o,a,s,u,c,l,f,h,d,p,y,m;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n),o=!1,a=!1,e.prev=3,u=_asyncIterator$2(t);case 5:return e.next=7,_awaitAsyncGenerator(u.next());case 7:if(!(o=!(c=e.sent).done)){e.next=20;break}if(l=c.value){e.next=11;break}return e.abrupt("continue",17);case 11:return e.next=13,_awaitAsyncGenerator(addToTree(l,i,n));case 13:if(i=e.sent,l.unixfs&&l.unixfs.isDirectory()){e.next=17;break}return e.next=17,l;case 17:o=!1,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),a=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,!o||null==u.return){e.next=31;break}return e.next=31,_awaitAsyncGenerator(u.return());case 31:if(e.prev=31,!a){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:if(!n.wrapWithDirectory){e.next=40;break}return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator$2(flushAndYield(i,r)),_awaitAsyncGenerator),"t1",38);case 38:e.next=70;break;case 40:f=!1,h=!1,e.prev=42,p=_asyncIterator$2(i.eachChildSeries());case 44:return e.next=46,_awaitAsyncGenerator(p.next());case 46:if(!(f=!(y=e.sent).done)){e.next=54;break}if(m=y.value){e.next=50;break}return e.abrupt("continue",51);case 50:return e.delegateYield(_asyncGeneratorDelegate(_asyncIterator$2(flushAndYield(m.child,r)),_awaitAsyncGenerator),"t2",51);case 51:f=!1,e.next=44;break;case 54:e.next=60;break;case 56:e.prev=56,e.t3=e.catch(42),h=!0,d=e.t3;case 60:if(e.prev=60,e.prev=61,!f||null==p.return){e.next=65;break}return e.next=65,_awaitAsyncGenerator(p.return());case 65:if(e.prev=65,!h){e.next=68;break}throw d;case 68:return e.finish(65);case 69:return e.finish(60);case 70:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35],[42,56,60,70],[61,,65,69]])}))),_treeBuilder.apply(this,arguments)}function _asyncIterator$1(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator$1(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator$1(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator$1=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator$1.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator$1(e)}function importer(e,t){return _importer.apply(this,arguments)}function _importer(){return _importer=_wrapAsyncGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,h,d,p=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.length>2&&void 0!==p[2]?p[2]:{},i=defaultOptions$1(n),o="function"==typeof n.dagBuilder?n.dagBuilder:dagBuilder,a="function"==typeof n.treeBuilder?n.treeBuilder:treeBuilder,s=Symbol.asyncIterator in t||Symbol.iterator in t?t:[t],u=!1,c=!1,e.prev=7,f=_asyncIterator$1(a(itParallelBatch(o(s,r,i),i.fileImportConcurrency),r,i));case 9:return e.next=11,_awaitAsyncGenerator(f.next());case 11:if(!(u=!(h=e.sent).done)){e.next=18;break}return d=h.value,e.next=15,{cid:d.cid,path:d.path,unixfs:d.unixfs,size:d.size};case 15:u=!1,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),c=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!u||null==f.return){e.next=29;break}return e.next=29,_awaitAsyncGenerator(f.return());case 29:if(e.prev=29,!c){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[7,20,24,34],[25,,29,33]])}))),_importer.apply(this,arguments)}var streamBrowserify=Stream$1,EE=events.exports.EventEmitter,inherits$h=inherits_browser$1.exports;function Stream$1(){EE.call(this)}inherits$h(Stream$1,EE),Stream$1.Readable=_stream_readable,Stream$1.Writable=_stream_writable,Stream$1.Duplex=_stream_duplex,Stream$1.Transform=_stream_transform,Stream$1.PassThrough=_stream_passthrough,Stream$1.finished=endOfStream,Stream$1.pipeline=pipeline_1,Stream$1.Stream=Stream$1,Stream$1.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",s));var o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===EE.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var encode_1=encode$2,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$2(e,t,r){t=t||[];for(var n=r=r||0;e>=INT;)t[r++]=255&e|MSB,e/=128;for(;e&MSBALL;)t[r++]=255&e|MSB,e>>>=7;return t[r]=0|e,encode$2.bytes=r-n+1,t}var decode$3=read,MSB$1=128,REST$1=127;function read(e,t){var r,n=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw read.bytes=0,new RangeError("Could not decode varint");r=e[o++],n+=i<28?(r&REST$1)<<i:(r&REST$1)*Math.pow(2,i),i+=7}while(r>=MSB$1);return read.bytes=o-t,n}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1?1:e<N2?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$3,encodingLength:length},_brrp_varint=varint,decode$2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_brrp_varint.decode(e,t);return[r,_brrp_varint.decode.bytes]},encodeTo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint.encode(e,t,r),t},encodingLength=function(e){return _brrp_varint.encodingLength(e)},equals$1=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce$1=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},create=function(e,t){var r=t.byteLength,n=encodingLength(e),i=n+encodingLength(r),o=new Uint8Array(i+r);return encodeTo(e,o,0),encodeTo(r,o,n),o.set(t,i),new Digest(e,r,t,o)},decode$1=function(e){var t=coerce$1(e),r=_slicedToArray(decode$2(t),2),n=r[0],i=r[1],o=_slicedToArray(decode$2(t.subarray(i)),2),a=o[0],s=o[1],u=t.subarray(i+s);if(u.byteLength!==a)throw new Error("Incorrect length");return new Digest(n,a,u,t)},equals=function(e,t){return e===t||e.code===t.code&&e.size===t.size&&equals$1(e.bytes,t.bytes)},Digest=_createClass$1((function e(t,r,n,i){_classCallCheck$1(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i}));function base$1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==r[a])throw new TypeError(o+" is ambiguous");r[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*a[h]>>>0,a[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===a[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=a[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var f=t[i],h=0,d=a-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=u.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$2=base$1,_brrp__multiformats_scope_baseX=src$2;function ownKeys$5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$5(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Encoder=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return _createClass$1(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder=function(){function e(t,r,n){if(_classCallCheck$1(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return _createClass$1(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or(this,e)}}]),e}(),ComposedDecoder=function(){function e(t){_classCallCheck$1(this,e),this.decoders=t}return _createClass$1(e,[{key:"or",value:function(e){return _or(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or=function(e,t){return new ComposedDecoder(_objectSpread$5(_objectSpread$5({},e.decoders||_defineProperty$3({},e.prefix,e)),t.decoders||_defineProperty$3({},t.prefix,t)))},Codec=function(){function e(t,r,n,i){_classCallCheck$1(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,i)}return _createClass$1(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$1=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec(t,r,n,i)},baseX=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX(n,r),o=i.encode,a=i.decode;return from$1({prefix:t,name:r,encode:o,decode:function(e){return coerce$1(a(e))}})},_decode2=function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),u=0,c=0,l=0,f=0;f<a;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},_encode=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},rfc4648=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$1({prefix:r,name:t,encode:function(e){return _encode(e,i,n)},decode:function(e){return _decode2(e,i,n,t)}})},base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var CID=function(e,t){function r(e,t,n,i){_classCallCheck$1(this,r),this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly,version:readonly,multihash:readonly,bytes:readonly,_baseCache:hidden,asCID:hidden})}return _createClass$1(r,[{key:"toV0",value:function(){if(0===this.version)return this;var e=this.code,t=this.multihash;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}},{key:"toV1",value:function(){switch(this.version){case 0:var e=this.multihash,t=e.code,n=e.digest,i=create(t,n);return r.createV1(this.code,i);case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}},{key:"equals",value:function(e){return e&&this.code===e.code&&this.version===e.version&&equals(this.multihash,e.multihash)}},{key:"toString",value:function(e){var t=this.bytes,r=this.version,n=this._baseCache;return 0===r?toStringV0(t,n,e||base58btc.encoder):toStringV1(t,n,e||base32.encoder)}},{key:"toJSON",value:function(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}},{key:Symbol.toStringTag,get:function(){return"CID"}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(){return"CID("+this.toString()+")"}},{key:"toBaseEncodedString",get:function(){throw new Error("Deprecated, use .toString()")}},{key:"codec",get:function(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}},{key:"buffer",get:function(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}},{key:"multibaseName",get:function(){throw new Error('"multibaseName" property is deprecated')}},{key:"prefix",get:function(){throw new Error('"prefix" property is deprecated')}}],[{key:"isCID",value:function(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!(!e||!e[cidSymbol]&&e.asCID!==e)}},{key:"asCID",value:function(e){if(e instanceof r)return e;if(null!=e&&e.asCID===e){var t=e.version,n=e.code,i=e.multihash;return new r(t,n,i,e.bytes||encodeCID(t,n,i.bytes))}if(null!=e&&!0===e[cidSymbol]){var o=e.version,a=e.multihash,s=e.code,u=decode$1(a);return r.create(o,s,u)}return null}},{key:"create",value:function(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error("Version 0 CID must use dag-pb (code: ".concat(DAG_PB_CODE,") block encoding"));return new r(e,t,n,n.bytes);case 1:return new r(e,t,n,encodeCID(e,t,n.bytes));default:throw new Error("Invalid version")}}},{key:"createV0",value:function(e){return r.create(0,DAG_PB_CODE,e)}},{key:"createV1",value:function(e,t){return r.create(1,e,t)}},{key:"decode",value:function(e){var t=_slicedToArray(r.decodeFirst(e),2),n=t[0];if(t[1].length)throw new Error("Incorrect length");return n}},{key:"decodeFirst",value:function(e){var t=r.inspectBytes(e),n=t.size-t.multihashSize,i=coerce$1(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");var o=i.subarray(t.multihashSize-t.digestSize),a=new Digest(t.multihashCode,t.digestSize,o,i);return[0===t.version?r.createV0(a):r.createV1(t.codec,a),e.subarray(t.size)]}},{key:"inspectBytes",value:function(e){var t=0,r=function(){var r=_slicedToArray(decode$2(e.subarray(t)),2),n=r[0],i=r[1];return t+=i,n},n=r(),i=DAG_PB_CODE;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));var o=t,a=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:a,digestSize:s,multihashSize:u-o,size:u}}},{key:"parse",value:function(e,t){var n=_slicedToArray(parseCIDtoBytes(e,t),2),i=n[0],o=n[1],a=r.decode(o);return a._baseCache.set(i,e),a}}]),r}(),parseCIDtoBytes=function(e,t){switch(e[0]){case"Q":var r=t||base58btc;return[base58btc.prefix,r.decode("".concat(base58btc.prefix).concat(e))];case base58btc.prefix:var n=t||base58btc;return[base58btc.prefix,n.decode(e)];case base32.prefix:var i=t||base32;return[base32.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},toStringV0=function(e,t,r){var n=r.prefix;if(n!==base58btc.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));var i=t.get(n);if(null==i){var o=r.encode(e).slice(1);return t.set(n,o),o}return i},toStringV1=function(e,t,r){var n=r.prefix,i=t.get(n);if(null==i){var o=r.encode(e);return t.set(n,o),o}return i},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=function(e,t,r){var n=encodingLength(e),i=n+encodingLength(t),o=new Uint8Array(i+r.byteLength);return encodeTo(e,o,0),encodeTo(t,o,n),o.set(r,i),o},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$5="0.0.0-dev",deprecate=function(e,t){if(!e.test(version$5))throw new Error(t);console.warn(t)},IS_CID_DEPRECATION="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",textEncoder=new TextEncoder;new TextDecoder;var code=512,encode$1=function(e){return textEncoder.encode(JSON.stringify(e))},from=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher(t,r,n)},Hasher=function(){function e(t,r,n){_classCallCheck$1(this,e),this.name=t,this.code=r,this.encode=n}return _createClass$1(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create(this.code,r):r.then((function(e){return create(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sha$4=function(e){return function(){var t=_asyncToGenerator(regenerator.mark((function t(r){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sha256$2=from({name:"sha2-256",code:18,encode:sha$4("SHA-256")});function _asyncIterator(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}from({name:"sha2-512",code:19,encode:sha$4("SHA-512")});var block={get:function(){var e=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unexpected block API get for ".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),put:(_put=_asyncToGenerator(regenerator.mark((function e(t,r,n){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unexpected block API put");case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return _put.apply(this,arguments)}),open:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Function not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),close:function(){var e=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Function not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),has:(_has=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Function not implemented.");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return _has.apply(this,arguments)}),delete:(_delete2=_asyncToGenerator(regenerator.mark((function e(t,r){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Function not implemented.");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return _delete2.apply(this,arguments)}),putMany:function(e,t){throw new Error("Function not implemented.")},getMany:function(e,t){throw new Error("Function not implemented.")},deleteMany:function(e,t){throw new Error("Function not implemented.")},batch:function(){throw new Error("Function not implemented.")},query:function(e,t){throw new Error("Function not implemented.")},queryKeys:function(e,t){throw new Error("Function not implemented.")}},_delete2,_has,_put,fileHasher={convertNanosToMillis:function(e){return e/BigInt(1e6)},initImageHasher:function(e,t){return(t=t||{}).onlyHash=!0,t.cidVersion=0,{options:t,content:e}},initNonImageHasher:function(e,t){return(t=t||{}).onlyHash=!0,t.cidVersion=0,{options:t,content:e}},convertToBuffer:function(e,t){return _asyncToGenerator(regenerator.mark((function r(){var n,i,o;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Buffer.isBuffer(e)){r.next=2;break}return r.abrupt("return",e);case 2:if(r.prev=2,!(e instanceof streamBrowserify.Stream.Readable)){r.next=8;break}return r.next=6,new Promise((function(t,r){e.on("data",(function(e){return n.push(e)})),e.on("end",(function(){return t(Buffer.concat(n))})),e.on("error",(function(e){return r(e)}))}));case 6:r.next=12;break;case 8:return i=util$6.promisify(fs$2.readFile),r.next=11,i(e);case 11:n=r.sent;case 12:r.next=19;break;case 14:throw r.prev=14,r.t0=r.catch(2),o="[fileHasher - convertToBuffer()] Could not convert content into buffer: ".concat(r.t0.toString()),t.error(o),new Error(o);case 19:return r.abrupt("return",n);case 20:case"end":return r.stop()}}),r,null,[[2,14]])})))()},hashNonImages:function(e){var t=arguments;return _asyncToGenerator(regenerator.mark((function r(){var n,i,o,a,s,u,c,l,f;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=fileHasher.initNonImageHasher(e,n),n=i.options,e=i.content,o="",a=!1,s=!1,r.prev=8,c=_asyncIterator(importer([{content:e}],block,n));case 10:return r.next=12,c.next();case 12:if(!(a=!(l=r.sent).done)){r.next=18;break}f=l.value.cid,o="".concat(f);case 15:a=!1,r.next=10;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(8),s=!0,u=r.t0;case 24:if(r.prev=24,r.prev=25,!a||null==c.return){r.next=29;break}return r.next=29,c.return();case 29:if(r.prev=29,!s){r.next=32;break}throw u;case 32:return r.finish(29);case 33:return r.finish(24);case 34:return r.abrupt("return",o);case 35:case"end":return r.stop()}}),r,null,[[8,20,24,34],[25,,29,33]])})))()},hashImages:function(e){var t=arguments;return _asyncToGenerator(regenerator.mark((function r(){var n,i,o,a,s,u,c,l,f;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=fileHasher.initImageHasher(e,n),n=i.options,e=i.content,o=[],a=!1,s=!1,r.prev=8,c=_asyncIterator(importer(e,block,n));case 10:return r.next=12,c.next();case 12:if(!(a=!(l=r.sent).done)){r.next=18;break}f=l.value,o.push({path:f.path,cid:"".concat(f.cid),size:f.size});case 15:a=!1,r.next=10;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(8),s=!0,u=r.t0;case 24:if(r.prev=24,r.prev=25,!a||null==c.return){r.next=29;break}return r.next=29,c.return();case 29:if(r.prev=29,!s){r.next=32;break}throw u;case 32:return r.finish(29);case 33:return r.finish(24);case 34:return r.abrupt("return",o);case 35:case"end":return r.stop()}}),r,null,[[8,20,24,34],[25,,29,33]])})))()},generateNonImageCid:function(e){var t=arguments;return _asyncToGenerator(regenerator.mark((function r(){var n,i;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:console,r.next=3,fileHasher.convertToBuffer(e,n);case 3:return i=r.sent,r.next=6,fileHasher.hashNonImages(i);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},generateMetadataCidV1:function(e){return _asyncToGenerator(regenerator.mark((function t(){var r,n;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=encode$1(e),t.next=3,sha256$2.digest(r);case 3:return n=t.sent,t.abrupt("return",CID.create(1,code,n));case 5:case"end":return t.stop()}}),t)})))()},generateImageCids:function(e){return _asyncToGenerator(regenerator.mark((function t(){return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,fileHasher.hashImages(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}},HASH_SALT="azowernasdfoia",MIN_LENGTH=5,hashids=new Hashids(HASH_SALT,MIN_LENGTH),ZeroAddress="0x0000000000000000000000000000000000000000",Utils=function(){function e(){_classCallCheck$1(this,e)}var t,r,n,i;return _createClass$1(e,null,[{key:"utf8ToHex",value:function(e){return LibsWeb3.utils.utf8ToHex(e)}},{key:"padRight",value:function(e,t){return LibsWeb3.utils.padRight(e,t)}},{key:"hexToUtf8",value:function(e){return LibsWeb3.utils.hexToUtf8(e)}},{key:"keccak256",value:function(e){return LibsWeb3.utils.keccak256(e)}},{key:"isBN",value:function(e){return LibsWeb3.utils.isBN(e)}},{key:"toBN",value:function(e,t){return new LibsWeb3.utils.BN(e,t)}},{key:"BN",value:function(){return LibsWeb3.utils.BN}},{key:"checkStrLen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(null==e||e.length>t||e.length<r)throw new Error("String '".concat(e,"' must be between ").concat(r,"-").concat(t," characters"))}},{key:"wait",value:(i=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"isFQDN",value:function(e){return/(?:^|[ \t])((https?:\/\/)?(?:localhost|[\w-]+(?:\.[\w-]+)+)(:\d+)?(\/\S*)?)/gm.test(e)}},{key:"isHttps",value:function(e){return/^https:\/\//.test(e)}},{key:"isHealthy",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get(t+"/health_check");case 3:return r=e.sent,n=r.data,e.abrupt("return",n.data.healthy);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e){return n.apply(this,arguments)})},{key:"formatOptionalMultihash",value:function(e){return e?this.decodeMultihash(e).digest:this.utf8ToHex("")}},{key:"decodeMultihash",value:function(e){var t=bs58.decode(e);return{digest:"0x".concat(t.slice(2).toString("hex")),hashFn:parseInt(t[0]),size:parseInt(t[1])}}},{key:"encodeMultihash",value:function(e){var t="1220".concat(e.replace("0x",""));return bs58.encode(Buffer.from(t,"hex"))}},{key:"parseDataFromResponse",value:function(e){if(!e||!e.data)return null;var t=e.data;return null==t?null:!Array.isArray(t)&&"string"!=typeof t||0!==t.length?0===Object.keys(t).length?null:t:null}},{key:"configureWeb3",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a,s=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>2&&void 0!==s[2])||s[2],i=new LibsWeb3(new MultiProvider(t)),e.prev=2,e.next=5,i.eth.net.getId();case 5:if(o=e.sent,!r||o.toString()===r){e.next=8;break}return e.abrupt("return",!1);case 8:if(!n){e.next=14;break}return e.next=11,i.eth.getAccounts();case 11:if((a=e.sent)&&!(a.length<1)){e.next=14;break}return e.abrupt("return",!1);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",!1);case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),function(e,t){return r.apply(this,arguments)})},{key:"zeroAddress",get:function(){return ZeroAddress}},{key:"isZeroAddress",value:function(t){return t===e.zeroAddress}},{key:"makeUuid",value:function(){return uuid()}},{key:"decodeHashId",value:function(e){try{var t=hashids.decode(e);if(!t.length)return null;var r=Number(t[0]);return isNaN(r)?null:r}catch(t){return console.error("Failed to decode ".concat(e),t),null}}},{key:"encodeHashId",value:function(e){try{return null===e?null:hashids.encode(e)}catch(t){return console.error("Failed to encode ".concat(e),t),null}}},{key:"racePromiseWithTimeout",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise((function(e,t){setTimeout((function(){return t(new Error(n))}),r)})),e.next=3,Promise.race([t,i]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}}]),e}();function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}_defineProperty$3(Utils,"fileHasher",fileHasher);var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return void 0!==_functionsHaveNames?_functionsHaveNames:_functionsHaveNames="foo"===function(){}.name}function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!buffer$1.isBuffer(e)&&("function"==typeof global$1.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function assert$o(e,t){e||fail(e,!0,t,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(util$6.isFunction(e)){if(functionsHaveNames())return e.name;var t=e.toString().match(regex);return t&&t[1]}}function AssertionError(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect(e){if(functionsHaveNames()||!util$6.isFunction(e))return util$6.inspect(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,t,r,n,i){throw new AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",ok)}function equal(e,t,r){e!=t&&fail(e,t,r,"==",equal)}function notEqual(e,t,r){e==t&&fail(e,t,r,"!=",notEqual)}function deepEqual(e,t,r){_deepEqual(e,t,!1)||fail(e,t,r,"deepEqual",deepEqual)}function deepStrictEqual(e,t,r){_deepEqual(e,t,!0)||fail(e,t,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(e,t,r,n){if(e===t)return!0;if(buffer$1.isBuffer(e)&&buffer$1.isBuffer(t))return 0===compare(e,t);if(util$6.isDate(e)&&util$6.isDate(t))return e.getTime()===t.getTime();if(util$6.isRegExp(e)&&util$6.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(buffer$1.isBuffer(e)!==buffer$1.isBuffer(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}return r?e===t:e==t}function isArguments(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function objEquiv(e,t,r,n){if(null==e||null==t)return!1;if(util$6.isPrimitive(e)||util$6.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=isArguments(e),o=isArguments(t);if(i&&!o||!i&&o)return!1;if(i)return _deepEqual(e=pSlice.call(e),t=pSlice.call(t),r);var a,s,u=objectKeys(e),c=objectKeys(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!==c[s])return!1;for(s=u.length-1;s>=0;s--)if(!_deepEqual(e[a=u[s]],t[a],r,n))return!1;return!0}function notDeepEqual(e,t,r){_deepEqual(e,t,!1)&&fail(e,t,r,"notDeepEqual",notDeepEqual)}function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}function strictEqual(e,t,r){e!==t&&fail(e,t,r,"===",strictEqual)}function notStrictEqual(e,t,r){e===t&&fail(e,t,r,"!==",notStrictEqual)}function expectedException(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _tryBlock(e){var t;try{e()}catch(e){t=e}return t}function _throws(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&fail(i,r,"Missing expected exception"+n);var o="string"==typeof n,a=!e&&i&&!r;if((!e&&util$6.isError(i)&&o&&expectedException(i,r)||a)&&fail(i,r,"Got unwanted exception"+n),e&&i&&r&&!expectedException(i,r)||!e&&i)throw i}function throws(e,t,r){_throws(!0,e,t,r)}function doesNotThrow(e,t,r){_throws(!1,e,t,r)}function ifError(e){if(e)throw e}assert$o.AssertionError=AssertionError,util$6.inherits(AssertionError,Error),assert$o.fail=fail,assert$o.ok=ok,assert$o.equal=equal,assert$o.notEqual=notEqual,assert$o.deepEqual=deepEqual,assert$o.deepStrictEqual=deepStrictEqual,assert$o.notDeepEqual=notDeepEqual,assert$o.notDeepStrictEqual=notDeepStrictEqual,assert$o.strictEqual=strictEqual,assert$o.notStrictEqual=notStrictEqual,assert$o.throws=throws,assert$o.doesNotThrow=doesNotThrow,assert$o.ifError=ifError;var _polyfillNode_assert=Object.freeze({__proto__:null,default:assert$o,AssertionError:AssertionError,fail:fail,ok:ok,assert:ok,equal:equal,notEqual:notEqual,deepEqual:deepEqual,deepStrictEqual:deepStrictEqual,notDeepEqual:notDeepEqual,notDeepStrictEqual:notDeepStrictEqual,strictEqual:strictEqual,notStrictEqual:notStrictEqual,throws:throws,doesNotThrow:doesNotThrow,ifError:ifError});new LibsWeb3;var dist_browser$1={},constants$1={},externals={},bn$5={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?y+n:f[c-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}Math.imul||(y=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):v(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),v(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,b),n($,b),n(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new $;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn$5);var dist_browser={},bn$4={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?y+n:f[c-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}Math.imul||(y=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):v(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),v(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,b),n($,b),n(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new $;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn$4);var __importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dist_browser,"__esModule",{value:!0}),dist_browser.getLength=dist_browser.decode=dist_browser.encode=void 0;var bn_js_1$2=__importDefault$4(bn$4.exports);function encode(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(encode(e[r]));var n=Buffer$j.concat(t);return Buffer$j.concat([encodeLength(n.length,192),n])}var i=toBuffer$1(e);return 1===i.length&&i[0]<128?i:Buffer$j.concat([encodeLength(i.length,128),i])}function safeParseInt(e,t){if("0"===e[0]&&"0"===e[1])throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function encodeLength(e,t){if(e<56)return Buffer$j.from([e+t]);var r=intToHex$1(e),n=intToHex$1(t+55+r.length/2);return Buffer$j.from(n+r,"hex")}function decode(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return Buffer$j.from([]);var r=_decode(toBuffer$1(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data}function getLength$1(e){if(!e||0===e.length)return Buffer$j.from([]);var t=toBuffer$1(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246;return n+safeParseInt(t.slice(1,n).toString("hex"),16)}function _decode(e){var t,r,n,i,o,a=[],s=e[0];if(s<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(s<=183){if(t=s-127,n=128===s?Buffer$j.from([]):e.slice(1,t),2===t&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}if(s<=191){if(r=s-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if((t=safeParseInt(e.slice(1,r).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((n=e.slice(r,t+r)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}if(s<=247){for(t=s-191,i=e.slice(1,t);i.length;)o=_decode(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(t)}}var u=(r=s-246)+(t=safeParseInt(e.slice(1,r).toString("hex"),16));if(u>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=e.slice(r,u)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=_decode(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(u)}}function isHexPrefixed$3(e){return"0x"===e.slice(0,2)}function stripHexPrefix$2(e){return"string"!=typeof e?e:isHexPrefixed$3(e)?e.slice(2):e}function intToHex$1(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function padToEven$2(e){return e.length%2?"0"+e:e}function intToBuffer$1(e){var t=intToHex$1(e);return Buffer$j.from(t,"hex")}function toBuffer$1(e){if(!Buffer$j.isBuffer(e)){if("string"==typeof e)return isHexPrefixed$3(e)?Buffer$j.from(padToEven$2(stripHexPrefix$2(e)),"hex"):Buffer$j.from(e);if("number"==typeof e||"bigint"==typeof e)return e?intToBuffer$1(e):Buffer$j.from([]);if(null==e)return Buffer$j.from([]);if(e instanceof Uint8Array)return Buffer$j.from(e);if(bn_js_1$2.default.isBN(e))return Buffer$j.from(e.toArray());throw new Error("invalid type")}return e}dist_browser.encode=encode,dist_browser.decode=decode,dist_browser.getLength=getLength$1;var __createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$1(t,e,r);return __setModuleDefault$1(t,e),t},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(externals,"__esModule",{value:!0}),externals.rlp=externals.BN=void 0;var bn_js_1$1=__importDefault$3(bn$5.exports);externals.BN=bn_js_1$1.default;var rlp$1=__importStar$1(dist_browser);externals.rlp=rlp$1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=e.MAX_UINT64=void 0;var t=buffer$1,r=externals;e.MAX_UINT64=new r.BN("ffffffffffffffff",16),e.MAX_INTEGER=new r.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new r.BN("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex")}(constants$1);var account$1={},require$$0$2=getAugmentedNamespace(_polyfillNode_assert),secp256k1$2={};function _createForOfIteratorHelper$5(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$5(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$5(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$5(e,t):void 0}}function _arrayLikeToArray$5(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var errors={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$n(e,t){if(!e)throw new Error(t)}function isUint8Array(e,t,r){if(assert$n(t instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==r)if(Array.isArray(r)){var n=r.join(", "),i="Expected ".concat(e," to be an Uint8Array with length [").concat(n,"]");assert$n(r.includes(t.length),i)}else{var o="Expected ".concat(e," to be an Uint8Array with length ").concat(r);assert$n(t.length===r,o)}}function isCompressed(e){assert$n("Boolean"===toTypeString(e),"Expected compressed to be a Boolean")}function getAssertedOutput(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return new Uint8Array(e)},t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(e=e(t)),isUint8Array("output",e,t),e}function toTypeString(e){return Object.prototype.toString.call(e).slice(8,-1)}var lib$3=function(e){return{contextRandomize:function(t){if(assert$n(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&isUint8Array("seed",t,32),1===e.contextRandomize(t))throw new Error(errors.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:function(t){return isUint8Array("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate:function(t){switch(isUint8Array("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(errors.IMPOSSIBLE_CASE)}},privateKeyTweakAdd:function(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(errors.TWEAK_ADD)}},privateKeyTweakMul:function(t,r){switch(isUint8Array("private key",t,32),isUint8Array("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(errors.TWEAK_MUL)}},publicKeyVerify:function(t){return isUint8Array("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(isUint8Array("private key",t,32),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(errors.SECKEY_INVALID);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyConvert:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyNegate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(isUint8Array("public key",t,[33,65]),isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyCombine:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;assert$n(Array.isArray(t),"Expected public keys to be an Array"),assert$n(t.length>0,"Expected public keys array will have more than zero items");var i,o=_createForOfIteratorHelper$5(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;isUint8Array("public key",a,[33,65])}}catch(e){o.e(e)}finally{o.f()}switch(isCompressed(r),n=getAssertedOutput(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_COMBINE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyTweakAdd:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_ADD)}},publicKeyTweakMul:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(isUint8Array("public key",t,[33,65]),isUint8Array("tweak",r,32),isCompressed(n),i=getAssertedOutput(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_MUL)}},signatureNormalize:function(t){switch(isUint8Array("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(errors.SIG_PARSE)}},signatureExport:function(t,r){isUint8Array("signature",t,64);var n={output:r=getAssertedOutput(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},signatureImport:function(t,r){switch(isUint8Array("signature",t),r=getAssertedOutput(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaSign:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;isUint8Array("message",t,32),isUint8Array("private key",r,32),assert$n("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.noncefn&&assert$n("Function"===toTypeString(n.noncefn),"Expected options.noncefn to be a Function");var o={signature:i=getAssertedOutput(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(errors.SIGN);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaVerify:function(t,r,n){switch(isUint8Array("signature",t,64),isUint8Array("message",r,32),isUint8Array("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.PUBKEY_PARSE)}},ecdsaRecover:function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;switch(isUint8Array("signature",t,64),assert$n("Number"===toTypeString(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",n,32),isCompressed(i),o=getAssertedOutput(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.RECOVER);case 3:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdh:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(isUint8Array("public key",t,[33,65]),isUint8Array("private key",r,32),assert$n("Object"===toTypeString(n),"Expected options to be an Object"),void 0!==n.data&&isUint8Array("options.data",n.data),void 0!==n.hashfn?(assert$n("Function"===toTypeString(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&isUint8Array("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&isUint8Array("options.ybuf",n.ybuf,32),isUint8Array("output",i)):i=getAssertedOutput(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.ECDH)}}}},elliptic$2={},_args=[["elliptic@6.5.4","/home/circleci/project/libs"]],_from="elliptic@6.5.4",_id="elliptic@6.5.4",_inBundle=!1,_integrity="sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location="/elliptic",_phantomChildren={},_requested={type:"version",registry:!0,raw:"elliptic@6.5.4",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.4",saveSpec:null,fetchSpec:"6.5.4"},_requiredBy=["/","/@ethersproject/signing-key","/@truffle/contract/ethers","/@truffle/contract/web3-eth-accounts/eth-lib","/@truffle/contract/web3-utils/eth-lib","/@truffle/interface-adapter/eth-lib","/@truffle/interface-adapter/ethers","/browserify-sign","/create-ecdh","/eth-lib","/eth-sig-util/ethereumjs-util","/ethereumjs-abi/ethereumjs-util","/ethereumjs-tx/ethereumjs-util","/secp256k1","/tiny-secp256k1","/web3-eth-accounts/eth-lib","/web3-utils/eth-lib"],_resolved="https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_spec="6.5.4",_where="/home/circleci/project/libs",author={name:"Fedor Indutny",email:"fedor@indutny.com"},bugs={url:"https://github.com/indutny/elliptic/issues"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},description="EC cryptography",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files=["lib"],homepage="https://github.com/indutny/elliptic",keywords=["EC","Elliptic","curve","Cryptography"],license="MIT",main="lib/elliptic.js",name="elliptic",repository={type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version$4="6.5.4",require$$0$1={_args:_args,_from:_from,_id:_id,_inBundle:_inBundle,_integrity:_integrity,_location:_location,_phantomChildren:_phantomChildren,_requested:_requested,_requiredBy:_requiredBy,_resolved:_resolved,_spec:_spec,_where:_where,author:author,bugs:bugs,dependencies:dependencies,description:description,devDependencies:devDependencies,files:files,homepage:homepage,keywords:keywords,license:license,main:main,name:name,repository:repository,scripts:scripts,version:version$4},utils$x={},bn$3={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:c[h-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,d=0;d<a;d++){var p=r[l+d],y=n[l+d],m=r[l+d+a],v=n[l+d+a],g=f*m-h*v;v=f*v+h*m,m=g,r[l+d]=p+m,n[l+d]=y+v,r[l+d+a]=p-m,n[l+d+a]=y-v,d!==s&&(g=u*f-c*h,h=u*h+c*f,f=g)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,f,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new $(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){$.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},$.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},$.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},$.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},$.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},$.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},$.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},$.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},$.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},$.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},$.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},$.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},$.prototype.isqr=function(e){return this.imul(e,e.clone())},$.prototype.sqr=function(e){return this.mul(e,e)},$.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},$.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},$.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},$.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},$.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new x(e)},n(x,$),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn$3);var minimalisticAssert$1=assert$m;function assert$m(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$m.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var utils$w={};!function(e){var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(utils$w),function(e){var t=e,r=bn$3.exports,n=minimalisticAssert$1,i=utils$w;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),a=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(a),s=0==(1&c)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}(utils$x);var brorand={exports:{}},r$2;function Rand(e){this.rand=e}if(brorand.exports=function(e){return r$2||(r$2=new Rand(null)),r$2.generate(e)},brorand.exports.Rand=Rand,Rand.prototype.generate=function(e){return this._rand(e)},Rand.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===("undefined"==typeof self?"undefined":_typeof$2(self)))self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===("undefined"==typeof window?"undefined":_typeof$2(window))&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$2=require("crypto");if("function"!=typeof crypto$2.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(e){return crypto$2.randomBytes(e)}}catch(e){}var curve={},BN$d=bn$3.exports,utils$v=utils$x,getNAF=utils$v.getNAF,getJSF=utils$v.getJSF,assert$l=utils$v.assert;function BaseCurve(e,t){this.type=e,this.p=new BN$d(t.p,16),this.red=t.prime?BN$d.red(t.prime):BN$d.mont(this.p),this.zero=new BN$d(0).toRed(this.red),this.one=new BN$d(1).toRed(this.red),this.two=new BN$d(2).toRed(this.red),this.n=t.n&&new BN$d(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(e,t){assert$l(e.precomputed);var r=e._getDoubles(),n=getNAF(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<s.length;o++)(a=s[o])===f?l=l.mixedAdd(r.points[o]):a===-f&&(l=l.mixedAdd(r.points[o].neg()));c=c.add(l)}return c.toP()},BaseCurve.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF(t,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var c=o[s];assert$l(0!==c),a="affine"===e.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},BaseCurve.prototype._wnafMulAdd=function(e,t,r,n,i){var o,a,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<n;o++){var h=(s=t[o])._getNAFPoints(e);u[o]=h.wnd,c[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var y=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(y[1]=t[d].add(t[p]),y[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(y[1]=t[d].toJ().mixedAdd(t[p]),y[2]=t[d].add(t[p].neg())):(y[1]=t[d].toJ().mixedAdd(t[p]),y[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=getJSF(r[d],r[p]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[p]=new Array(f),a=0;a<f;a++){var g=0|v[0][a],b=0|v[1][a];l[d][a]=m[3*(g+1)+(b+1)],l[p][a]=0,c[d]=y}}else l[d]=getNAF(r[d],u[d],this._bitLength),l[p]=getNAF(r[p],u[p],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=f;o>=0;o--){for(var $=0;o>=0;){var x=!0;for(a=0;a<n;a++)_[a]=0|l[a][o],0!==_[a]&&(x=!1);if(!x)break;$++,o--}if(o>=0&&$++,w=w.dblp($),o<0)break;for(a=0;a<n;a++){var S=_[a];0!==S&&(S>0?s=c[a][S-1>>1]:S<0&&(s=c[a][-S-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)c[o]=null;return i?w:w.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(e,t){e=utils$v.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?assert$l(e[e.length-1]%2==0):7===e[0]&&assert$l(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)},BasePoint.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function(e,t){return utils$v.encode(this._encode(t),e)},BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var utils$u=utils$x,BN$c=bn$3.exports,inherits$g=inherits_browser$1.exports,Base$3=base,assert$k=utils$u.assert;function ShortCurve(e){Base$3.call(this,"short",e),this.a=new BN$c(e.a,16).toRed(this.red),this.b=new BN$c(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$g(ShortCurve,Base$3);var _short=ShortCurve;function Point$2(e,t,r,n){Base$3.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$c(t,16),this.y=new BN$c(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,n){Base$3.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$c(0)):(this.x=new BN$c(t,16),this.y=new BN$c(r,16),this.z=new BN$c(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ShortCurve.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new BN$c(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new BN$c(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],assert$k(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new BN$c(e.a,16),b:new BN$c(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:BN$c.mont(e),r=new BN$c(2).toRed(t).redInvm(),n=r.redNeg(),i=new BN$c(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new BN$c(1),p=new BN$c(0),y=new BN$c(0),m=new BN$c(1),v=0;0!==f.cmpn(0);){var g=h.div(f);u=h.sub(g.mul(f)),c=y.sub(g.mul(d));var b=m.sub(g.mul(p));if(!n&&u.cmp(l)<0)t=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++v)break;s=u,h=f,f=u,y=d,d=c,m=p,p=b}o=u.neg(),a=c;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},ShortCurve.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(c).neg()}},ShortCurve.prototype.pointFromX=function(e,t){(e=new BN$c(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return c},inherits$g(Point$2,Base$3.BasePoint),ShortCurve.prototype.point=function(e,t,r){return new Point$2(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function(e,t){return Point$2.fromJSON(this,e,t)},Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function(){return this.inf},Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Point$2.prototype.getX=function(){return this.x.fromRed()},Point$2.prototype.getY=function(){return this.y.fromRed()},Point$2.prototype.mul=function(e){return e=new BN$c(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point$2.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Point$2.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point$2.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Point$2.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits$g(JPoint,Base$3.BasePoint),ShortCurve.prototype.jpoint=function(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(f,h,d)},JPoint.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),f=c.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(f),y=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),v=d.redMul(m);v=v.redIAdd(v).redISub(h);var g=c.redMul(s);t+1<e&&(u=u.redMul(h)),o=y,s=g,c=v}return this.curve.jpoint(o,c.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,d)},JPoint.prototype.mul=function(e,t){return e=new BN$c(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},JPoint.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var BN$b=bn$3.exports,inherits$f=inherits_browser$1.exports,Base$2=base,utils$t=utils$x;function MontCurve(e){Base$2.call(this,"mont",e),this.a=new BN$b(e.a,16).toRed(this.red),this.b=new BN$b(e.b,16).toRed(this.red),this.i4=new BN$b(4).toRed(this.red).redInvm(),this.two=new BN$b(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$f(MontCurve,Base$2);var mont=MontCurve;function Point$1(e,t,r){Base$2.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$b(t,16),this.z=new BN$b(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}MontCurve.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},inherits$f(Point$1,Base$2.BasePoint),MontCurve.prototype.decodePoint=function(e,t){return this.point(utils$t.toArray(e,t),1)},MontCurve.prototype.point=function(e,t){return new Point$1(this,e,t)},MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)},Point$1.prototype.precompute=function(){},Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function(e,t){return new Point$1(e,t[0],t[1]||e.one)},Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},Point$1.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$s=utils$x,BN$a=bn$3.exports,inherits$e=inherits_browser$1.exports,Base$1=base,assert$j=utils$s.assert;function EdwardsCurve(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Base$1.call(this,"edwards",e),this.a=new BN$a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$j(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}inherits$e(EdwardsCurve,Base$1);var edwards=EdwardsCurve;function Point(e,t,r,n,i){Base$1.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$a(t,16),this.y=new BN$a(r,16),this.z=n?new BN$a(n,16):this.curve.one,this.t=i&&new BN$a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},EdwardsCurve.prototype.pointFromX=function(e,t){(e=new BN$a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var s=a.fromRed().isOdd();return(t&&!s||!t&&s)&&(a=a.redNeg()),this.point(e,a)},EdwardsCurve.prototype.pointFromY=function(e,t){(e=new BN$a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},inherits$e(Point,Base$1.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function(e,t,r,n){return new Point(this,e,t,r,n)},Point.fromJSON=function(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),u=i.redMul(a),c=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(u,c,f,l)},Point.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=a.redSub(s).redISub(u).redMul(o),t=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=o.redMul(a),l=s.redMul(u),f=o.redMul(u),h=a.redMul(s);return this.curve.point(c,l,h,f)},Point.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(a.redSub(this.curve._mulA(o))),r=u.redMul(c)):(t=n.redMul(c).redMul(a.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,r)},Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(e){var t=e;t.base=base,t.short=_short,t.mont=mont,t.edwards=edwards}(curve);var curves$2={},hash$7={},utils$r={},assert$i=minimalisticAssert$1,inherits$d=inherits_browser$1.exports;function isSurrogatePair$1(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray$1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):isSurrogatePair$1(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function toHex$1(e){for(var t="",r=0;r<e.length;r++)t+=zero2$1(e[r].toString(16));return t}function htonl$1(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32$1(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl$1(i)),r+=zero8$1(i.toString(16))}return r}function zero2$1(e){return 1===e.length?"0"+e:e}function zero8$1(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32$1(e,t,r,n){var i=r-t;assert$i(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=u>>>0}return o}function split32$1(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function rotr32$3(e,t){return e>>>t|e<<32-t}function rotl32$5(e,t){return e<<t|e>>>32-t}function sum32$7(e,t){return e+t>>>0}function sum32_3$3(e,t,r){return e+t+r>>>0}function sum32_4$5(e,t,r,n){return e+t+r+n>>>0}function sum32_5$5(e,t,r,n,i){return e+t+r+n+i>>>0}function sum64$3(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}function sum64_hi$3(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo$3(e,t,r,n){return t+n>>>0}function sum64_4_hi$3(e,t,r,n,i,o,a,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0}function sum64_4_lo$3(e,t,r,n,i,o,a,s){return t+n+o+s>>>0}function sum64_5_hi$3(e,t,r,n,i,o,a,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+a+u+(l+=(f=f+c>>>0)<c?1:0)>>>0}function sum64_5_lo$3(e,t,r,n,i,o,a,s,u,c){return t+n+o+s+c>>>0}function rotr64_hi$3(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo$3(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi$3(e,t,r){return e>>>r}function shr64_lo$3(e,t,r){return(e<<32-r|t>>>r)>>>0}utils$r.inherits=inherits$d,utils$r.toArray=toArray$1,utils$r.toHex=toHex$1,utils$r.htonl=htonl$1,utils$r.toHex32=toHex32$1,utils$r.zero2=zero2$1,utils$r.zero8=zero8$1,utils$r.join32=join32$1,utils$r.split32=split32$1,utils$r.rotr32=rotr32$3,utils$r.rotl32=rotl32$5,utils$r.sum32=sum32$7,utils$r.sum32_3=sum32_3$3,utils$r.sum32_4=sum32_4$5,utils$r.sum32_5=sum32_5$5,utils$r.sum64=sum64$3,utils$r.sum64_hi=sum64_hi$3,utils$r.sum64_lo=sum64_lo$3,utils$r.sum64_4_hi=sum64_4_hi$3,utils$r.sum64_4_lo=sum64_4_lo$3,utils$r.sum64_5_hi=sum64_5_hi$3,utils$r.sum64_5_lo=sum64_5_lo$3,utils$r.rotr64_hi=rotr64_hi$3,utils$r.rotr64_lo=rotr64_lo$3,utils$r.shr64_hi=shr64_hi$3,utils$r.shr64_lo=shr64_lo$3;var common$b={},utils$q=utils$r,assert$h=minimalisticAssert$1;function BlockHash$9(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$b.BlockHash=BlockHash$9,BlockHash$9.prototype.update=function(e,t){if(e=utils$q.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$q.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$9.prototype.digest=function(e){return this.update(this._pad()),assert$h(null===this.pending),this._digest(e)},BlockHash$9.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var sha$3={},common$a={},utils$p=utils$r,rotr32$2=utils$p.rotr32;function ft_1$3(e,t,r,n){return 0===e?ch32$3(t,r,n):1===e||3===e?p32$1(t,r,n):2===e?maj32$3(t,r,n):void 0}function ch32$3(e,t,r){return e&t^~e&r}function maj32$3(e,t,r){return e&t^e&r^t&r}function p32$1(e,t,r){return e^t^r}function s0_256$3(e){return rotr32$2(e,2)^rotr32$2(e,13)^rotr32$2(e,22)}function s1_256$3(e){return rotr32$2(e,6)^rotr32$2(e,11)^rotr32$2(e,25)}function g0_256$3(e){return rotr32$2(e,7)^rotr32$2(e,18)^e>>>3}function g1_256$3(e){return rotr32$2(e,17)^rotr32$2(e,19)^e>>>10}common$a.ft_1=ft_1$3,common$a.ch32=ch32$3,common$a.maj32=maj32$3,common$a.p32=p32$1,common$a.s0_256=s0_256$3,common$a.s1_256=s1_256$3,common$a.g0_256=g0_256$3,common$a.g1_256=g1_256$3;var utils$o=utils$r,common$9=common$b,shaCommon$3=common$a,rotl32$4=utils$o.rotl32,sum32$6=utils$o.sum32,sum32_5$4=utils$o.sum32_5,ft_1$2=shaCommon$3.ft_1,BlockHash$8=common$9.BlockHash,sha1_K$1=[1518500249,1859775393,2400959708,3395469782];function SHA1$1(){if(!(this instanceof SHA1$1))return new SHA1$1;BlockHash$8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$o.inherits(SHA1$1,BlockHash$8);var _1$1=SHA1$1;SHA1$1.blockSize=512,SHA1$1.outSize=160,SHA1$1.hmacStrength=80,SHA1$1.padLength=64,SHA1$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$4(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=sum32_5$4(rotl32$4(i,5),ft_1$2(c,o,a,s),u,r[n],sha1_K$1[c]);u=s,s=a,a=rotl32$4(o,30),o=i,i=l}this.h[0]=sum32$6(this.h[0],i),this.h[1]=sum32$6(this.h[1],o),this.h[2]=sum32$6(this.h[2],a),this.h[3]=sum32$6(this.h[3],s),this.h[4]=sum32$6(this.h[4],u)},SHA1$1.prototype._digest=function(e){return"hex"===e?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};var utils$n=utils$r,common$8=common$b,shaCommon$2=common$a,assert$g=minimalisticAssert$1,sum32$5=utils$n.sum32,sum32_4$4=utils$n.sum32_4,sum32_5$3=utils$n.sum32_5,ch32$2=shaCommon$2.ch32,maj32$2=shaCommon$2.maj32,s0_256$2=shaCommon$2.s0_256,s1_256$2=shaCommon$2.s1_256,g0_256$2=shaCommon$2.g0_256,g1_256$2=shaCommon$2.g1_256,BlockHash$7=common$8.BlockHash,sha256_K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$3(){if(!(this instanceof SHA256$3))return new SHA256$3;BlockHash$7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K$1,this.W=new Array(64)}utils$n.inherits(SHA256$3,BlockHash$7);var _256$1=SHA256$3;SHA256$3.blockSize=512,SHA256$3.outSize=256,SHA256$3.hmacStrength=192,SHA256$3.padLength=64,SHA256$3.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$4(g1_256$2(r[n-2]),r[n-7],g0_256$2(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(assert$g(this.k.length===r.length),n=0;n<r.length;n++){var h=sum32_5$3(f,s1_256$2(u),ch32$2(u,c,l),this.k[n],r[n]),d=sum32$5(s0_256$2(i),maj32$2(i,o,a));f=l,l=c,c=u,u=sum32$5(s,h),s=a,a=o,o=i,i=sum32$5(h,d)}this.h[0]=sum32$5(this.h[0],i),this.h[1]=sum32$5(this.h[1],o),this.h[2]=sum32$5(this.h[2],a),this.h[3]=sum32$5(this.h[3],s),this.h[4]=sum32$5(this.h[4],u),this.h[5]=sum32$5(this.h[5],c),this.h[6]=sum32$5(this.h[6],l),this.h[7]=sum32$5(this.h[7],f)},SHA256$3.prototype._digest=function(e){return"hex"===e?utils$n.toHex32(this.h,"big"):utils$n.split32(this.h,"big")};var utils$m=utils$r,SHA256$2=_256$1;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$m.inherits(SHA224$1,SHA256$2);var _224$1=SHA224$1;SHA224$1.blockSize=512,SHA224$1.outSize=224,SHA224$1.hmacStrength=192,SHA224$1.padLength=64,SHA224$1.prototype._digest=function(e){return"hex"===e?utils$m.toHex32(this.h.slice(0,7),"big"):utils$m.split32(this.h.slice(0,7),"big")};var utils$l=utils$r,common$7=common$b,assert$f=minimalisticAssert$1,rotr64_hi$2=utils$l.rotr64_hi,rotr64_lo$2=utils$l.rotr64_lo,shr64_hi$2=utils$l.shr64_hi,shr64_lo$2=utils$l.shr64_lo,sum64$2=utils$l.sum64,sum64_hi$2=utils$l.sum64_hi,sum64_lo$2=utils$l.sum64_lo,sum64_4_hi$2=utils$l.sum64_4_hi,sum64_4_lo$2=utils$l.sum64_4_lo,sum64_5_hi$2=utils$l.sum64_5_hi,sum64_5_lo$2=utils$l.sum64_5_lo,BlockHash$6=common$7.BlockHash,sha512_K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$4(){if(!(this instanceof SHA512$4))return new SHA512$4;BlockHash$6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K$1,this.W=new Array(160)}utils$l.inherits(SHA512$4,BlockHash$6);var _512$1=SHA512$4;function ch64_hi$1(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function ch64_lo$1(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function maj64_hi$1(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function maj64_lo$1(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function s0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,28)^rotr64_hi$2(t,e,2)^rotr64_hi$2(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,28)^rotr64_lo$2(t,e,2)^rotr64_lo$2(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,14)^rotr64_hi$2(e,t,18)^rotr64_hi$2(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,14)^rotr64_lo$2(e,t,18)^rotr64_lo$2(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi$1(e,t){var r=rotr64_hi$2(e,t,1)^rotr64_hi$2(e,t,8)^shr64_hi$2(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo$1(e,t){var r=rotr64_lo$2(e,t,1)^rotr64_lo$2(e,t,8)^shr64_lo$2(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi$1(e,t){var r=rotr64_hi$2(e,t,19)^rotr64_hi$2(t,e,29)^shr64_hi$2(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo$1(e,t){var r=rotr64_lo$2(e,t,19)^rotr64_lo$2(t,e,29)^shr64_lo$2(e,t,6);return r<0&&(r+=4294967296),r}SHA512$4.blockSize=1024,SHA512$4.outSize=512,SHA512$4.hmacStrength=192,SHA512$4.padLength=128,SHA512$4.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi$1(r[n-4],r[n-3]),o=g1_512_lo$1(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=g0_512_hi$1(r[n-30],r[n-29]),c=g0_512_lo$1(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=sum64_4_hi$2(i,o,a,s,u,c,l,f),r[n+1]=sum64_4_lo$2(i,o,a,s,u,c,l,f)}},SHA512$4.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],y=this.h[12],m=this.h[13],v=this.h[14],g=this.h[15];assert$f(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=g,$=s1_512_hi$1(f,h),x=s1_512_lo$1(f,h),S=ch64_hi$1(f,h,d,p,y),k=ch64_lo$1(f,h,d,p,y,m),A=this.k[b],E=this.k[b+1],T=r[b],M=r[b+1],I=sum64_5_hi$2(w,_,$,x,S,k,A,E,T,M),R=sum64_5_lo$2(w,_,$,x,S,k,A,E,T,M);w=s0_512_hi$1(n,i),_=s0_512_lo$1(n,i),$=maj64_hi$1(n,i,o,a,s),x=maj64_lo$1(n,i,o,a,s,u);var O=sum64_hi$2(w,_,$,x),P=sum64_lo$2(w,_,$,x);v=y,g=m,y=d,m=p,d=f,p=h,f=sum64_hi$2(c,l,I,R),h=sum64_lo$2(l,l,I,R),c=s,l=u,s=o,u=a,o=n,a=i,n=sum64_hi$2(I,R,O,P),i=sum64_lo$2(I,R,O,P)}sum64$2(this.h,0,n,i),sum64$2(this.h,2,o,a),sum64$2(this.h,4,s,u),sum64$2(this.h,6,c,l),sum64$2(this.h,8,f,h),sum64$2(this.h,10,d,p),sum64$2(this.h,12,y,m),sum64$2(this.h,14,v,g)},SHA512$4.prototype._digest=function(e){return"hex"===e?utils$l.toHex32(this.h,"big"):utils$l.split32(this.h,"big")};var utils$k=utils$r,SHA512$3=_512$1;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$k.inherits(SHA384$1,SHA512$3);var _384$1=SHA384$1;SHA384$1.blockSize=1024,SHA384$1.outSize=384,SHA384$1.hmacStrength=192,SHA384$1.padLength=128,SHA384$1.prototype._digest=function(e){return"hex"===e?utils$k.toHex32(this.h.slice(0,12),"big"):utils$k.split32(this.h.slice(0,12),"big")},sha$3.sha1=_1$1,sha$3.sha224=_224$1,sha$3.sha256=_256$1,sha$3.sha384=_384$1,sha$3.sha512=_512$1;var ripemd$1={},utils$j=utils$r,common$6=common$b,rotl32$3=utils$j.rotl32,sum32$4=utils$j.sum32,sum32_3$2=utils$j.sum32_3,sum32_4$3=utils$j.sum32_4,BlockHash$5=common$6.BlockHash;function RIPEMD160$3(){if(!(this instanceof RIPEMD160$3))return new RIPEMD160$3;BlockHash$5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f$2(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K$5(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh$1(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}utils$j.inherits(RIPEMD160$3,BlockHash$5),ripemd$1.ripemd160=RIPEMD160$3,RIPEMD160$3.blockSize=512,RIPEMD160$3.outSize=160,RIPEMD160$3.hmacStrength=192,RIPEMD160$3.padLength=64,RIPEMD160$3.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,u=n,c=i,l=o,f=a,h=0;h<80;h++){var d=sum32$4(rotl32$3(sum32_4$3(r,f$2(h,n,i,o),e[r$1[h]+t],K$5(h)),s$1[h]),a);r=a,a=o,o=rotl32$3(i,10),i=n,n=d,d=sum32$4(rotl32$3(sum32_4$3(s,f$2(79-h,u,c,l),e[rh$1[h]+t],Kh$1(h)),sh$1[h]),f),s=f,f=l,l=rotl32$3(c,10),c=u,u=d}d=sum32_3$2(this.h[1],i,l),this.h[1]=sum32_3$2(this.h[2],o,f),this.h[2]=sum32_3$2(this.h[3],a,s),this.h[3]=sum32_3$2(this.h[4],r,u),this.h[4]=sum32_3$2(this.h[0],n,c),this.h[0]=d},RIPEMD160$3.prototype._digest=function(e){return"hex"===e?utils$j.toHex32(this.h,"little"):utils$j.split32(this.h,"little")};var r$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$i=utils$r,assert$e=minimalisticAssert$1;function Hmac$1(e,t,r){if(!(this instanceof Hmac$1))return new Hmac$1(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$i.toArray(t,r))}var hmac$1=Hmac$1;Hmac$1.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),assert$e(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac$1.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac$1.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=utils$r,t.common=common$b,t.sha=sha$3,t.ripemd=ripemd$1,t.hmac=hmac$1,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash$7),function(e){var t,r=e,n=hash$7,i=curve,o=utils$x.assert;function a(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=require("./precomputed/secp256k1")}catch(e){t=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}(curves$2);var hash$6=hash$7,utils$h=utils$w,assert$d=minimalisticAssert$1;function HmacDRBG$1(e){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils$h.toArray(e.entropy,e.entropyEnc||"hex"),r=utils$h.toArray(e.nonce,e.nonceEnc||"hex"),n=utils$h.toArray(e.pers,e.persEnc||"hex");assert$d(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG$1.prototype._hmac=function(){return new hash$6.hmac(this.hash,this.K)},HmacDRBG$1.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG$1.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=utils$h.toArray(e,t),r=utils$h.toArray(r,n),assert$d(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG$1.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=utils$h.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,utils$h.encode(o,t)};var BN$9=bn$3.exports,utils$g=utils$x,assert$c=utils$g.assert;function KeyPair$3(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(e,t,r){return t instanceof KeyPair$3?t:new KeyPair$3(e,{pub:t,pubEnc:r})},KeyPair$3.fromPrivate=function(e,t,r){return t instanceof KeyPair$3?t:new KeyPair$3(e,{priv:t,privEnc:r})},KeyPair$3.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$3.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair$3.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair$3.prototype._importPrivate=function(e,t){this.priv=new BN$9(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$3.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?assert$c(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert$c(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair$3.prototype.derive=function(e){return e.validate()||assert$c(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair$3.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair$3.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$8=bn$3.exports,utils$f=utils$x,assert$b=utils$f.assert;function Signature$3(e,t){if(e instanceof Signature$3)return e;this._importDER(e,t)||(assert$b(e.r&&e.s,"Signature without r or s"),this.r=new BN$8(e.r,16),this.s=new BN$8(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$3=Signature$3;function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Signature$3.prototype._importDER=function(e,t){e=utils$f.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var n=getLength(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=getLength(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=getLength(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new BN$8(o),this.s=new BN$8(s),this.recoveryParam=null,!0},Signature$3.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];constructLength(n,t.length),(n=n.concat(t)).push(2),constructLength(n,r.length);var i=n.concat(r),o=[48];return constructLength(o,i.length),o=o.concat(i),utils$f.encode(o,e)};var BN$7=bn$3.exports,HmacDRBG=hmacDrbg,utils$e=utils$x,curves$1=curves$2,rand=brorand.exports,assert$a=utils$e.assert,KeyPair$2=key$1,Signature$2=signature$3;function EC$3(e){if(!(this instanceof EC$3))return new EC$3(e);"string"==typeof e&&(assert$a(Object.prototype.hasOwnProperty.call(curves$1,e),"Unknown curve "+e),e=curves$1[e]),e instanceof curves$1.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ec$3=EC$3;EC$3.prototype.keyPair=function(e){return new KeyPair$2(this,e)},EC$3.prototype.keyFromPrivate=function(e,t){return KeyPair$2.fromPrivate(this,e,t)},EC$3.prototype.keyFromPublic=function(e,t){return KeyPair$2.fromPublic(this,e,t)},EC$3.prototype.genKeyPair=function(e){e||(e={});for(var t=new HmacDRBG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new BN$7(2));;){var i=new BN$7(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC$3.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC$3.prototype.sign=function(e,t,r,n){"object"===_typeof$2(r)&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new BN$7(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new HmacDRBG({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new BN$7(1)),c=0;;c++){var l=n.k?n.k(c):new BN$7(s.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Signature$2({r:d,s:p,recoveryParam:y})}}}}}},EC$3.prototype.verify=function(e,t,r,n){e=this._truncateToN(new BN$7(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Signature$2(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},EC$3.prototype.recoverPubKey=function(e,t,r,n){assert$a((3&r)===r,"The recovery param is more than two bits"),t=new Signature$2(t,n);var i=this.n,o=new BN$7(e),a=t.r,s=t.s,u=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var l=t.r.invm(i),f=i.sub(o).mul(l).umod(i),h=s.mul(l).umod(i);return this.g.mulAdd(f,a,h)},EC$3.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Signature$2(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var utils$d=utils$x,assert$9=utils$d.assert,parseBytes$2=utils$d.parseBytes,cachedProperty$1=utils$d.cachedProperty;function KeyPair$1(e,t){this.eddsa=e,this._secret=parseBytes$2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair$1.fromPublic=function(e,t){return t instanceof KeyPair$1?t:new KeyPair$1(e,{pub:t})},KeyPair$1.fromSecret=function(e,t){return t instanceof KeyPair$1?t:new KeyPair$1(e,{secret:t})},KeyPair$1.prototype.secret=function(){return this._secret},cachedProperty$1(KeyPair$1,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),cachedProperty$1(KeyPair$1,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),cachedProperty$1(KeyPair$1,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),cachedProperty$1(KeyPair$1,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),cachedProperty$1(KeyPair$1,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),cachedProperty$1(KeyPair$1,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair$1.prototype.sign=function(e){return assert$9(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair$1.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair$1.prototype.getSecret=function(e){return assert$9(this._secret,"KeyPair is public only"),utils$d.encode(this.secret(),e)},KeyPair$1.prototype.getPublic=function(e){return utils$d.encode(this.pubBytes(),e)};var key=KeyPair$1,BN$6=bn$3.exports,utils$c=utils$x,assert$8=utils$c.assert,cachedProperty=utils$c.cachedProperty,parseBytes$1=utils$c.parseBytes;function Signature$1(e,t){this.eddsa=e,"object"!==_typeof$2(t)&&(t=parseBytes$1(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert$8(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN$6&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$1,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),cachedProperty(Signature$1,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),cachedProperty(Signature$1,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),cachedProperty(Signature$1,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature$1.prototype.toHex=function(){return utils$c.encode(this.toBytes(),"hex").toUpperCase()};var signature$2=Signature$1,hash$5=hash$7,curves=curves$2,utils$b=utils$x,assert$7=utils$b.assert,parseBytes=utils$b.parseBytes,KeyPair=key,Signature=signature$2;function EDDSA(e){if(assert$7("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=curves[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hash$5.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,t){e=parseBytes(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),s=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},EDDSA.prototype.verify=function(e,t,r){e=parseBytes(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},EDDSA.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return utils$b.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(e){return KeyPair.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function(e){return KeyPair.fromSecret(this,e)},EDDSA.prototype.makeSignature=function(e){return e instanceof Signature?e:new Signature(this,e)},EDDSA.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function(e){var t=(e=utils$b.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=utils$b.intFromLE(r);return this.curve.pointFromY(i,n)},EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(e){return utils$b.intFromLE(e)},EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=e;t.version=require$$0$1.version,t.utils=utils$x,t.rand=brorand.exports,t.curve=curve,t.curves=curves$2,t.ec=ec$3,t.eddsa=eddsa}(elliptic$2);var EC$2=elliptic$2.ec,ec$2=new EC$2("secp256k1"),ecparams$2=ec$2.curve,BN$5=ecparams$2.n.constructor;function loadCompressedPublicKey(e,t){var r=new BN$5(t);if(r.cmp(ecparams$2.p)>=0)return null;var n=(r=r.toRed(ecparams$2.red)).redSqr().redIMul(r).redIAdd(ecparams$2.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),ec$2.keyPair({pub:{x:r,y:n}})}function loadUncompressedPublicKey(e,t,r){var n=new BN$5(t),i=new BN$5(r);if(n.cmp(ecparams$2.p)>=0||i.cmp(ecparams$2.p)>=0)return null;if(n=n.toRed(ecparams$2.red),i=i.toRed(ecparams$2.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(ecparams$2.b)).isZero()?ec$2.keyPair({pub:{x:n,y:i}}):null}function loadPublicKey(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:loadCompressedPublicKey(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:loadUncompressedPublicKey(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function savePublicKey(e,t){for(var r=t.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=r[n]}var elliptic$1={contextRandomize:function(){return 0},privateKeyVerify:function(e){var t=new BN$5(e);return t.cmp(ecparams$2.n)<0&&!t.isZero()?0:1},privateKeyNegate:function(e){var t=new BN$5(e),r=ecparams$2.n.sub(t).umod(ecparams$2.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd:function(e,t){var r=new BN$5(t);if(r.cmp(ecparams$2.n)>=0)return 1;if(r.iadd(new BN$5(e)),r.cmp(ecparams$2.n)>=0&&r.isub(ecparams$2.n),r.isZero())return 1;var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul:function(e,t){var r=new BN$5(t);if(r.cmp(ecparams$2.n)>=0||r.isZero())return 1;r.imul(new BN$5(e)),r.cmp(ecparams$2.n)>=0&&(r=r.umod(ecparams$2.n));var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:function(e){return null===loadPublicKey(e)?1:0},publicKeyCreate:function(e,t){var r=new BN$5(t);return r.cmp(ecparams$2.n)>=0||r.isZero()?1:(savePublicKey(e,ec$2.keyFromPrivate(t).getPublic()),0)},publicKeyConvert:function(e,t){var r=loadPublicKey(t);return null===r?1:(savePublicKey(e,r.getPublic()),0)},publicKeyNegate:function(e,t){var r=loadPublicKey(t);if(null===r)return 1;var n=r.getPublic();return n.y=n.y.redNeg(),savePublicKey(e,n),0},publicKeyCombine:function(e,t){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=loadPublicKey(t[n]),null===r[n])return 1;for(var i=r[0].getPublic(),o=1;o<r.length;++o)i=i.add(r[o].pub);return i.isInfinity()?2:(savePublicKey(e,i),0)},publicKeyTweakAdd:function(e,t,r){var n=loadPublicKey(t);if(null===n)return 1;if((r=new BN$5(r)).cmp(ecparams$2.n)>=0)return 2;var i=n.getPublic().add(ecparams$2.g.mul(r));return i.isInfinity()?2:(savePublicKey(e,i),0)},publicKeyTweakMul:function(e,t,r){var n=loadPublicKey(t);return null===n?1:(r=new BN$5(r)).cmp(ecparams$2.n)>=0||r.isZero()?2:(savePublicKey(e,n.getPublic().mul(r)),0)},signatureNormalize:function(e){var t=new BN$5(e.subarray(0,32)),r=new BN$5(e.subarray(32,64));return t.cmp(ecparams$2.n)>=0||r.cmp(ecparams$2.n)>=0?1:(1===r.cmp(ec$2.nh)&&e.set(ecparams$2.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(e,t){var r=t.subarray(0,32),n=t.subarray(32,64);if(new BN$5(r).cmp(ecparams$2.n)>=0)return 1;if(new BN$5(n).cmp(ecparams$2.n)>=0)return 1;var i=e.output,o=i.subarray(4,37);o[0]=0,o.set(r,1);for(var a=33,s=0;a>1&&0===o[s]&&!(128&o[s+1]);--a,++s);if(128&(o=o.subarray(s))[0])return 1;if(a>1&&0===o[0]&&!(128&o[1]))return 1;var u=i.subarray(39,72);u[0]=0,u.set(n,1);for(var c=33,l=0;c>1&&0===u[l]&&!(128&u[l+1]);--c,++l);return 128&(u=u.subarray(l))[0]||c>1&&0===u[0]&&!(128&u[1])?1:(e.outputlen=6+a+c,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=u.length,i.set(u,6+a),0)},signatureImport:function(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;var i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;var o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");var a=new BN$5(i);a.cmp(ecparams$2.n)>=0&&(a=new BN$5(0));var s=new BN$5(t.subarray(6+r));return s.cmp(ecparams$2.n)>=0&&(s=new BN$5(0)),e.set(a.toArrayLike(Uint8Array,"be",32),0),e.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(e,t,r,n,i){if(i){var o=i;i=function(e){var i=o(t,r,null,n,e);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new BN$5(i)}}var a,s=new BN$5(r);if(s.cmp(ecparams$2.n)>=0||s.isZero())return 1;try{a=ec$2.sign(t,r,{canonical:!0,k:i,pers:n})}catch(e){return 1}return e.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),e.recid=a.recoveryParam,0},ecdsaVerify:function(e,t,r){var n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new BN$5(n.r),o=new BN$5(n.s);if(i.cmp(ecparams$2.n)>=0||o.cmp(ecparams$2.n)>=0)return 1;if(1===o.cmp(ec$2.nh)||i.isZero()||o.isZero())return 3;var a=loadPublicKey(r);if(null===a)return 2;var s=a.getPublic();return ec$2.verify(t,n,s)?0:3},ecdsaRecover:function(e,t,r,n){var i,o={r:t.slice(0,32),s:t.slice(32,64)},a=new BN$5(o.r),s=new BN$5(o.s);if(a.cmp(ecparams$2.n)>=0||s.cmp(ecparams$2.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;try{i=ec$2.recoverPubKey(n,o,r)}catch(e){return 2}return savePublicKey(e,i),0},ecdh:function(e,t,r,n,i,o,a){var s=loadPublicKey(t);if(null===s)return 1;var u=new BN$5(r);if(u.cmp(ecparams$2.n)>=0||u.isZero())return 2;var c=s.getPublic().mul(u);if(void 0===i)for(var l=c.encode(null,!0),f=ec$2.hash().update(l).digest(),h=0;h<32;++h)e[h]=f[h];else{o||(o=new Uint8Array(32));for(var d=c.getX().toArray("be",32),p=0;p<32;++p)o[p]=d[p];a||(a=new Uint8Array(32));for(var y=c.getY().toArray("be",32),m=0;m<32;++m)a[m]=y[m];var v=i(o,a,n);if(!(v instanceof Uint8Array&&v.length===e.length))return 2;e.set(v)}return 0}},elliptic=lib$3(elliptic$1),random={},browser$2={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Buffer$d=safeBuffer.exports.Buffer,crypto$1=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;function randomBytes(e,t){if(e>MAX_UINT32)throw new RangeError("requested too many random bytes");var r=Buffer$d.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var n=0;n<e;n+=MAX_BYTES)crypto$1.getRandomValues(r.slice(n,n+MAX_BYTES));else crypto$1.getRandomValues(r);return"function"==typeof t?browser$1$1.nextTick((function(){t(null,r)})):r}crypto$1&&crypto$1.getRandomValues?browser$2.exports=randomBytes:browser$2.exports=oldBrowser,Object.defineProperty(random,"__esModule",{value:!0});var randombytes=browser$2.exports;function getRandomBytes(e){return new Promise((function(t,r){randombytes(e,(function(e,n){e?r(e):t(n)}))}))}function getRandomBytesSync(e){return randombytes(e)}random.getRandomBytes=getRandomBytes,random.getRandomBytesSync=getRandomBytesSync,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))},r=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var n=elliptic,i=random;e.createPrivateKey=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.getRandomBytes(32)];case 1:return e=t.sent(),n.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},e.createPrivateKeySync=function(){for(;;){var e=i.getRandomBytesSync(32);if(n.privateKeyVerify(e))return e}},function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(elliptic)}(secp256k1$2);var internal={};function isHexPrefixed$2(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(_typeof$2(e)));return"0"===e[0]&&"x"===e[1]}Object.defineProperty(internal,"__esModule",{value:!0}),internal.isHexString=internal.getKeys=internal.fromAscii=internal.fromUtf8=internal.toAscii=internal.arrayContainsArray=internal.getBinarySize=internal.padToEven=internal.stripHexPrefix=internal.isHexPrefixed=void 0,internal.isHexPrefixed=isHexPrefixed$2;var stripHexPrefix$1=function(e){if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(_typeof$2(e)));return isHexPrefixed$2(e)?e.slice(2):e};function padToEven$1(e){var t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received ".concat(_typeof$2(t)));return t.length%2&&(t="0".concat(t)),t}function getBinarySize$1(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(_typeof$2(e)));return Buffer$j.byteLength(e,"utf8")}function arrayContainsArray$1(e,t,r){if(!0!==Array.isArray(e))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(_typeof$2(e),"'"));if(!0!==Array.isArray(t))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(_typeof$2(t),"'"));return t[r?"some":"every"]((function(t){return e.indexOf(t)>=0}))}function toAscii$1(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}function fromUtf8$1(e){var t=Buffer$j.from(e,"utf8");return"0x".concat(padToEven$1(t.toString("hex")).replace(/^0+|0+$/g,""))}function fromAscii$1(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0".concat(n):n}return"0x".concat(t)}function getKeys$1(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(_typeof$2(e)));if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(_typeof$2(e)));for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi - expected type 'string', received ".concat(_typeof$2(o)));n.push(o)}return n}function isHexString$2(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}internal.stripHexPrefix=stripHexPrefix$1,internal.padToEven=padToEven$1,internal.getBinarySize=getBinarySize$1,internal.arrayContainsArray=arrayContainsArray$1,internal.toAscii=toAscii$1,internal.fromUtf8=fromUtf8$1,internal.fromAscii=fromAscii$1,internal.getKeys=getKeys$1,internal.isHexString=isHexString$2;var bytes$1={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.assertIsString=helpers.assertIsArray=helpers.assertIsBuffer=helpers.assertIsHexString=void 0;var internal_1$1=internal,assertIsHexString=function(e){if(!(0,internal_1$1.isHexString)(e)){var t="This method only supports 0x-prefixed hex strings but input was: ".concat(e);throw new Error(t)}};helpers.assertIsHexString=assertIsHexString;var assertIsBuffer=function(e){if(!Buffer$j.isBuffer(e)){var t="This method only supports Buffer but input was: ".concat(e);throw new Error(t)}};helpers.assertIsBuffer=assertIsBuffer;var assertIsArray=function(e){if(!Array.isArray(e)){var t="This method only supports number arrays but input was: ".concat(e);throw new Error(t)}};helpers.assertIsArray=assertIsArray;var assertIsString=function(e){if("string"!=typeof e){var t="This method only supports strings but input was: ".concat(e);throw new Error(t)}};helpers.assertIsString=assertIsString,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=commonjsGlobal$1&&commonjsGlobal$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;var n=externals,i=internal,o=helpers;e.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Received an invalid integer type: ".concat(e));return"0x".concat(e.toString(16))};e.intToBuffer=function(t){var r=(0,e.intToHex)(t);return Buffer$j.from((0,i.padToEven)(r.slice(2)),"hex")};e.zeros=function(e){return Buffer$j.allocUnsafe(e).fill(0)};var a=function(t,r,n){var i=(0,e.zeros)(r);return n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)};e.setLengthLeft=function(e,t){return(0,o.assertIsBuffer)(e),a(e,t,!1)};e.setLengthRight=function(e,t){return(0,o.assertIsBuffer)(e),a(e,t,!0)};var s=function(e){for(var t=e[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};e.unpadBuffer=function(e){return(0,o.assertIsBuffer)(e),s(e)};e.unpadArray=function(e){return(0,o.assertIsArray)(e),s(e)};e.unpadHexString=function(e){return(0,o.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),s(e)};e.toBuffer=function(t){if(null==t)return Buffer$j.allocUnsafe(0);if(Buffer$j.isBuffer(t))return Buffer$j.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return Buffer$j.from(t);if("string"==typeof t){if(!(0,i.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return Buffer$j.from((0,i.padToEven)((0,i.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,e.intToBuffer)(t);if(n.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(Buffer$j)}if(t.toArray)return Buffer$j.from(t.toArray());if(t.toBuffer)return Buffer$j.from(t.toBuffer());throw new Error("invalid type")};e.bufferToInt=function(t){return new n.BN((0,e.toBuffer)(t)).toNumber()};e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")};e.fromSigned=function(e){return new n.BN(e).fromTwos(256)};e.toUnsigned=function(e){return Buffer$j.from(e.toTwos(256).toArray())};e.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e};e.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer$j.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};e.baToJSON=function(t){if(Buffer$j.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push((0,e.baToJSON)(t[n]));return r}};e.validateNoLeadingZeroes=function(e){var n,i;try{for(var o=t(Object.entries(e)),a=o.next();!a.done;a=o.next()){var s=r(a.value,2),u=s[0],c=s[1];if(void 0!==c&&c.length>0&&0===c[0])throw new Error("".concat(u," cannot have leading zeroes, received: ").concat(c.toString("hex")))}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.arrToBufArr=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):Buffer$j.from(t)},e.bufArrToArr=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):Uint8Array.from(null!=t?t:[])}}(bytes$1);var hash$4={},keccak$2={},hashUtils={};function createHashFunction(e){return function(t){var r=e();return r.update(t),Buffer$j.from(r.digest())}}function _createSuper$7(e){var t=_isNativeReflectConstruct$7();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$7(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(hashUtils,"__esModule",{value:!0}),hashUtils.createHashFunction=createHashFunction;var Transform$3=readableBrowser.exports.Transform,keccak$1=function(e){return function(t){_inherits(n,t);var r=_createSuper$7(n);function n(t,i,o,a,s){var u;return _classCallCheck$1(this,n),(u=r.call(this,s))._rate=t,u._capacity=i,u._delimitedSuffix=o,u._hashBitLength=a,u._options=s,u._state=new e,u._state.initialize(t,i),u._finalized=!1,u}return _createClass$1(n,[{key:"_transform",value:function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)}},{key:"_flush",value:function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}},{key:"update",value:function(e,t){if(!Buffer$j.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer$j.isBuffer(e)||(e=Buffer$j.from(e,t)),this._state.absorb(e),this}},{key:"digest",value:function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var e=new n(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}]),n}(Transform$3)};function _createSuper$6(e){var t=_isNativeReflectConstruct$6();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$6(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Transform$2=readableBrowser.exports.Transform,shake=function(e){return function(t){_inherits(n,t);var r=_createSuper$6(n);function n(t,i,o,a){var s;return _classCallCheck$1(this,n),(s=r.call(this,a))._rate=t,s._capacity=i,s._delimitedSuffix=o,s._options=a,s._state=new e,s._state.initialize(t,i),s._finalized=!1,s}return _createClass$1(n,[{key:"_transform",value:function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)}},{key:"_flush",value:function(){}},{key:"_read",value:function(e){this.push(this.squeeze(e))}},{key:"update",value:function(e,t){if(!Buffer$j.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer$j.isBuffer(e)||(e=Buffer$j.from(e,t)),this._state.absorb(e),this}},{key:"squeeze",value:function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}},{key:"_resetState",value:function(){return this._state.initialize(this._rate,this._capacity),this}},{key:"_clone",value:function(){var e=new n(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}]),n}(Transform$2)},createKeccak=keccak$1,createShake=shake,api=function(e){var t=createKeccak(e),r=createShake(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}},keccakStateUnroll={},P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],s=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],h=l^(i<<1|o>>>31),d=f^(o<<1|i>>>31),p=e[0]^h,y=e[1]^d,m=e[10]^h,v=e[11]^d,g=e[20]^h,b=e[21]^d,w=e[30]^h,_=e[31]^d,$=e[40]^h,x=e[41]^d;h=r^(a<<1|s>>>31),d=n^(s<<1|a>>>31);var S=e[2]^h,k=e[3]^d,A=e[12]^h,E=e[13]^d,T=e[22]^h,M=e[23]^d,I=e[32]^h,R=e[33]^d,O=e[42]^h,P=e[43]^d;h=i^(u<<1|c>>>31),d=o^(c<<1|u>>>31);var C=e[4]^h,B=e[5]^d,N=e[14]^h,L=e[15]^d,j=e[24]^h,F=e[25]^d,U=e[34]^h,D=e[35]^d,z=e[44]^h,H=e[45]^d;h=a^(l<<1|f>>>31),d=s^(f<<1|l>>>31);var G=e[6]^h,q=e[7]^d,K=e[16]^h,Z=e[17]^d,J=e[26]^h,V=e[27]^d,W=e[36]^h,Y=e[37]^d,X=e[46]^h,Q=e[47]^d;h=u^(r<<1|n>>>31),d=c^(n<<1|r>>>31);var ee=e[8]^h,te=e[9]^d,re=e[18]^h,ne=e[19]^d,ie=e[28]^h,oe=e[29]^d,ae=e[38]^h,se=e[39]^d,ue=e[48]^h,ce=e[49]^d,le=p,fe=y,he=v<<4|m>>>28,de=m<<4|v>>>28,pe=g<<3|b>>>29,ye=b<<3|g>>>29,me=_<<9|w>>>23,ve=w<<9|_>>>23,ge=$<<18|x>>>14,be=x<<18|$>>>14,we=S<<1|k>>>31,_e=k<<1|S>>>31,$e=E<<12|A>>>20,xe=A<<12|E>>>20,Se=T<<10|M>>>22,ke=M<<10|T>>>22,Ae=R<<13|I>>>19,Ee=I<<13|R>>>19,Te=O<<2|P>>>30,Me=P<<2|O>>>30,Ie=B<<30|C>>>2,Re=C<<30|B>>>2,Oe=N<<6|L>>>26,Pe=L<<6|N>>>26,Ce=F<<11|j>>>21,Be=j<<11|F>>>21,Ne=U<<15|D>>>17,Le=D<<15|U>>>17,je=H<<29|z>>>3,Fe=z<<29|H>>>3,Ue=G<<28|q>>>4,De=q<<28|G>>>4,ze=Z<<23|K>>>9,He=K<<23|Z>>>9,Ge=J<<25|V>>>7,qe=V<<25|J>>>7,Ke=W<<21|Y>>>11,Ze=Y<<21|W>>>11,Je=Q<<24|X>>>8,Ve=X<<24|Q>>>8,We=ee<<27|te>>>5,Ye=te<<27|ee>>>5,Xe=re<<20|ne>>>12,Qe=ne<<20|re>>>12,et=oe<<7|ie>>>25,tt=ie<<7|oe>>>25,rt=ae<<8|se>>>24,nt=se<<8|ae>>>24,it=ue<<14|ce>>>18,ot=ce<<14|ue>>>18;e[0]=le^~$e&Ce,e[1]=fe^~xe&Be,e[10]=Ue^~Xe&pe,e[11]=De^~Qe&ye,e[20]=we^~Oe&Ge,e[21]=_e^~Pe&qe,e[30]=We^~he&Se,e[31]=Ye^~de&ke,e[40]=Ie^~ze&et,e[41]=Re^~He&tt,e[2]=$e^~Ce&Ke,e[3]=xe^~Be&Ze,e[12]=Xe^~pe&Ae,e[13]=Qe^~ye&Ee,e[22]=Oe^~Ge&rt,e[23]=Pe^~qe&nt,e[32]=he^~Se&Ne,e[33]=de^~ke&Le,e[42]=ze^~et&me,e[43]=He^~tt&ve,e[4]=Ce^~Ke&it,e[5]=Be^~Ze&ot,e[14]=pe^~Ae&je,e[15]=ye^~Ee&Fe,e[24]=Ge^~rt&ge,e[25]=qe^~nt&be,e[34]=Se^~Ne&Je,e[35]=ke^~Le&Ve,e[44]=et^~me&Te,e[45]=tt^~ve&Me,e[6]=Ke^~it&le,e[7]=Ze^~ot&fe,e[16]=Ae^~je&Ue,e[17]=Ee^~Fe&De,e[26]=rt^~ge&we,e[27]=nt^~be&_e,e[36]=Ne^~Je&We,e[37]=Le^~Ve&Ye,e[46]=me^~Te&Ie,e[47]=ve^~Me&Re,e[8]=it^~le&$e,e[9]=ot^~fe&xe,e[18]=je^~Ue&Xe,e[19]=Fe^~De&Qe,e[28]=ge^~we&Oe,e[29]=be^~_e&Pe,e[38]=Je^~We&he,e[39]=Ve^~Ye&de,e[48]=Te^~Ie&ze,e[49]=Me^~Re&He,e[0]^=P1600_ROUND_CONSTANTS[2*t],e[1]^=P1600_ROUND_CONSTANTS[2*t+1]}};var keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},Keccak.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)},Keccak.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,keccakState.p1600(this.state),this.count=0,this.squeezing=!0},Keccak.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var t=Buffer$j.alloc(e),r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return t},Keccak.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var keccak=Keccak,js=api(keccak);Object.defineProperty(keccak$2,"__esModule",{value:!0});var hash_utils_1=hashUtils,createKeccakHash=js;keccak$2.keccak224=hash_utils_1.createHashFunction((function(){return createKeccakHash("keccak224")})),keccak$2.keccak256=hash_utils_1.createHashFunction((function(){return createKeccakHash("keccak256")})),keccak$2.keccak384=hash_utils_1.createHashFunction((function(){return createKeccakHash("keccak384")})),keccak$2.keccak512=hash_utils_1.createHashFunction((function(){return createKeccakHash("keccak512")}));var Buffer$c=safeBuffer.exports.Buffer,Transform$1=readableBrowser.exports.Transform,inherits$c=inherits_browser$1.exports;function throwIfNotStringOrBuffer(e,t){if(!Buffer$c.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function HashBase$2(e){Transform$1.call(this),this._block=Buffer$c.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$c(HashBase$2,Transform$1),HashBase$2.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},HashBase$2.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},HashBase$2.prototype.update=function(e,t){if(throwIfNotStringOrBuffer(e,"Data"),this._finalized)throw new Error("Digest already called");Buffer$c.isBuffer(e)||(e=Buffer$c.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")},HashBase$2.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$b=inherits_browser$1.exports,HashBase$1=hashBase,Buffer$b=safeBuffer.exports.Buffer,ARRAY16$1=new Array(16);function MD5$1(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl$1(e,t){return e<<t|e>>>32-t}function fnF(e,t,r,n,i,o,a){return rotl$1(e+(t&r|~t&n)+i+o|0,a)+t|0}function fnG(e,t,r,n,i,o,a){return rotl$1(e+(t&n|r&~n)+i+o|0,a)+t|0}function fnH(e,t,r,n,i,o,a){return rotl$1(e+(t^r^n)+i+o|0,a)+t|0}function fnI(e,t,r,n,i,o,a){return rotl$1(e+(r^(t|~n))+i+o|0,a)+t|0}inherits$b(MD5$1,HashBase$1),MD5$1.prototype._update=function(){for(var e=ARRAY16$1,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=fnF(r,n,i,o,e[0],3614090360,7),o=fnF(o,r,n,i,e[1],3905402710,12),i=fnF(i,o,r,n,e[2],606105819,17),n=fnF(n,i,o,r,e[3],3250441966,22),r=fnF(r,n,i,o,e[4],4118548399,7),o=fnF(o,r,n,i,e[5],1200080426,12),i=fnF(i,o,r,n,e[6],2821735955,17),n=fnF(n,i,o,r,e[7],4249261313,22),r=fnF(r,n,i,o,e[8],1770035416,7),o=fnF(o,r,n,i,e[9],2336552879,12),i=fnF(i,o,r,n,e[10],4294925233,17),n=fnF(n,i,o,r,e[11],2304563134,22),r=fnF(r,n,i,o,e[12],1804603682,7),o=fnF(o,r,n,i,e[13],4254626195,12),i=fnF(i,o,r,n,e[14],2792965006,17),r=fnG(r,n=fnF(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=fnG(o,r,n,i,e[6],3225465664,9),i=fnG(i,o,r,n,e[11],643717713,14),n=fnG(n,i,o,r,e[0],3921069994,20),r=fnG(r,n,i,o,e[5],3593408605,5),o=fnG(o,r,n,i,e[10],38016083,9),i=fnG(i,o,r,n,e[15],3634488961,14),n=fnG(n,i,o,r,e[4],3889429448,20),r=fnG(r,n,i,o,e[9],568446438,5),o=fnG(o,r,n,i,e[14],3275163606,9),i=fnG(i,o,r,n,e[3],4107603335,14),n=fnG(n,i,o,r,e[8],1163531501,20),r=fnG(r,n,i,o,e[13],2850285829,5),o=fnG(o,r,n,i,e[2],4243563512,9),i=fnG(i,o,r,n,e[7],1735328473,14),r=fnH(r,n=fnG(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=fnH(o,r,n,i,e[8],2272392833,11),i=fnH(i,o,r,n,e[11],1839030562,16),n=fnH(n,i,o,r,e[14],4259657740,23),r=fnH(r,n,i,o,e[1],2763975236,4),o=fnH(o,r,n,i,e[4],1272893353,11),i=fnH(i,o,r,n,e[7],4139469664,16),n=fnH(n,i,o,r,e[10],3200236656,23),r=fnH(r,n,i,o,e[13],681279174,4),o=fnH(o,r,n,i,e[0],3936430074,11),i=fnH(i,o,r,n,e[3],3572445317,16),n=fnH(n,i,o,r,e[6],76029189,23),r=fnH(r,n,i,o,e[9],3654602809,4),o=fnH(o,r,n,i,e[12],3873151461,11),i=fnH(i,o,r,n,e[15],530742520,16),r=fnI(r,n=fnH(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=fnI(o,r,n,i,e[7],1126891415,10),i=fnI(i,o,r,n,e[14],2878612391,15),n=fnI(n,i,o,r,e[5],4237533241,21),r=fnI(r,n,i,o,e[12],1700485571,6),o=fnI(o,r,n,i,e[3],2399980690,10),i=fnI(i,o,r,n,e[10],4293915773,15),n=fnI(n,i,o,r,e[1],2240044497,21),r=fnI(r,n,i,o,e[8],1873313359,6),o=fnI(o,r,n,i,e[15],4264355552,10),i=fnI(i,o,r,n,e[6],2734768916,15),n=fnI(n,i,o,r,e[13],1309151649,21),r=fnI(r,n,i,o,e[4],4149444226,6),o=fnI(o,r,n,i,e[11],3174756917,10),i=fnI(i,o,r,n,e[2],718787259,15),n=fnI(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},MD5$1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$b.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var md5_js=MD5$1,Buffer$a=buffer$1.Buffer,inherits$a=inherits_browser$1.exports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$2(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,r,n,i,o,a,s){return rotl(e+(t^r^n)+o+a|0,s)+i|0}function fn2(e,t,r,n,i,o,a,s){return rotl(e+(t&r|~t&n)+o+a|0,s)+i|0}function fn3(e,t,r,n,i,o,a,s){return rotl(e+((t|~r)^n)+o+a|0,s)+i|0}function fn4(e,t,r,n,i,o,a,s){return rotl(e+(t&n|r&~n)+o+a|0,s)+i|0}function fn5(e,t,r,n,i,o,a,s){return rotl(e+(t^(r|~n))+o+a|0,s)+i|0}inherits$a(RIPEMD160$2,HashBase),RIPEMD160$2.prototype._update=function(){for(var e=ARRAY16,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._a,u=0|this._b,c=0|this._c,l=0|this._d,f=0|this._e,h=0;h<80;h+=1){var d,p;h<16?(d=fn1(r,n,i,o,a,e[zl[h]],hl[0],sl[h]),p=fn5(s,u,c,l,f,e[zr[h]],hr[0],sr[h])):h<32?(d=fn2(r,n,i,o,a,e[zl[h]],hl[1],sl[h]),p=fn4(s,u,c,l,f,e[zr[h]],hr[1],sr[h])):h<48?(d=fn3(r,n,i,o,a,e[zl[h]],hl[2],sl[h]),p=fn3(s,u,c,l,f,e[zr[h]],hr[2],sr[h])):h<64?(d=fn4(r,n,i,o,a,e[zl[h]],hl[3],sl[h]),p=fn2(s,u,c,l,f,e[zr[h]],hr[3],sr[h])):(d=fn5(r,n,i,o,a,e[zl[h]],hl[4],sl[h]),p=fn1(s,u,c,l,f,e[zr[h]],hr[4],sr[h])),r=a,a=o,o=rotl(i,10),i=n,n=d,s=f,f=l,l=rotl(c,10),c=u,u=p}var y=this._b+i+l|0;this._b=this._c+o+f|0,this._c=this._d+a+s|0,this._d=this._e+r+u|0,this._e=this._a+n+c|0,this._a=y},RIPEMD160$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Buffer$a.alloc?Buffer$a.alloc(20):new Buffer$a(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var ripemd160=RIPEMD160$2,sha_js={exports:{}},Buffer$9=safeBuffer.exports.Buffer;function Hash$7(e,t){this._block=Buffer$9.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Hash$7.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=Buffer$9.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,a=0;a<i;){for(var s=o%n,u=Math.min(i-a,n-s),c=0;c<u;c++)r[s+c]=e[a+c];a+=u,(o+=u)%n==0&&this._update(r)}return this._len+=i,this},Hash$7.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$3=Hash$7,inherits$9=inherits_browser$1.exports,Hash$6=hash$3,Buffer$8=safeBuffer.exports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}function rotl5$1(e){return e<<5|e>>>27}function rotl30$1(e){return e<<30|e>>>2}function ft$1(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}inherits$9(Sha,Hash$6),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0;s<16;++s)t[s]=e.readInt32BE(4*s);for(;s<80;++s)t[s]=t[s-3]^t[s-8]^t[s-14]^t[s-16];for(var u=0;u<80;++u){var c=~~(u/20),l=rotl5$1(r)+ft$1(c,n,i,o)+a+t[u]+K$4[c]|0;a=o,o=i,i=rotl30$1(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},Sha.prototype._hash=function(){var e=Buffer$8.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var sha$2=Sha,inherits$8=inherits_browser$1.exports,Hash$5=hash$3,Buffer$7=safeBuffer.exports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}inherits$8(Sha1,Hash$5),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0;s<16;++s)t[s]=e.readInt32BE(4*s);for(;s<80;++s)t[s]=rotl1(t[s-3]^t[s-8]^t[s-14]^t[s-16]);for(var u=0;u<80;++u){var c=~~(u/20),l=rotl5(r)+ft(c,n,i,o)+a+t[u]+K$3[c]|0;a=o,o=i,i=rotl30(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},Sha1.prototype._hash=function(){var e=Buffer$7.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var sha1$1=Sha1,inherits$7=inherits_browser$1.exports,Hash$4=hash$3,Buffer$6=safeBuffer.exports.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}function ch(e,t,r){return r^e&(t^r)}function maj$1(e,t,r){return e&t|r&(e|t)}function sigma0$1(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1$1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}inherits$7(Sha256$1,Hash$4),Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256$1.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._f,u=0|this._g,c=0|this._h,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<64;++l)t[l]=gamma1(t[l-2])+t[l-7]+gamma0(t[l-15])+t[l-16]|0;for(var f=0;f<64;++f){var h=c+sigma1$1(a)+ch(a,s,u)+K$2[f]+t[f]|0,d=sigma0$1(r)+maj$1(r,n,i)|0;c=u,u=s,s=a,a=o+h|0,o=i,i=n,n=r,r=h+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=s+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0},Sha256$1.prototype._hash=function(){var e=Buffer$6.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var sha256$1=Sha256$1,inherits$6=inherits_browser$1.exports,Sha256=sha256$1,Hash$3=hash$3,Buffer$5=safeBuffer.exports.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$6(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var e=Buffer$5.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var sha224=Sha224,inherits$5=inherits_browser$1.exports,Hash$2=hash$3,Buffer$4=safeBuffer.exports.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}inherits$5(Sha512,Hash$2),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,u=0|this._gh,c=0|this._hh,l=0|this._al,f=0|this._bl,h=0|this._cl,d=0|this._dl,p=0|this._el,y=0|this._fl,m=0|this._gl,v=0|this._hl,g=0;g<32;g+=2)t[g]=e.readInt32BE(4*g),t[g+1]=e.readInt32BE(4*g+4);for(;g<160;g+=2){var b=t[g-30],w=t[g-30+1],_=Gamma0(b,w),$=Gamma0l(w,b),x=Gamma1(b=t[g-4],w=t[g-4+1]),S=Gamma1l(w,b),k=t[g-14],A=t[g-14+1],E=t[g-32],T=t[g-32+1],M=$+A|0,I=_+k+getCarry(M,$)|0;I=(I=I+x+getCarry(M=M+S|0,S)|0)+E+getCarry(M=M+T|0,T)|0,t[g]=I,t[g+1]=M}for(var R=0;R<160;R+=2){I=t[R],M=t[R+1];var O=maj(r,n,i),P=maj(l,f,h),C=sigma0(r,l),B=sigma0(l,r),N=sigma1(a,p),L=sigma1(p,a),j=K$1[R],F=K$1[R+1],U=Ch(a,s,u),D=Ch(p,y,m),z=v+L|0,H=c+N+getCarry(z,v)|0;H=(H=(H=H+U+getCarry(z=z+D|0,D)|0)+j+getCarry(z=z+F|0,F)|0)+I+getCarry(z=z+M|0,M)|0;var G=B+P|0,q=C+O+getCarry(G,B)|0;c=u,v=m,u=s,m=y,s=a,y=p,a=o+H+getCarry(p=d+z|0,d)|0,o=i,d=h,i=n,h=f,n=r,f=l,r=H+q+getCarry(l=z+G|0,z)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+y|0,this._gl=this._gl+m|0,this._hl=this._hl+v|0,this._ah=this._ah+r+getCarry(this._al,l)|0,this._bh=this._bh+n+getCarry(this._bl,f)|0,this._ch=this._ch+i+getCarry(this._cl,h)|0,this._dh=this._dh+o+getCarry(this._dl,d)|0,this._eh=this._eh+a+getCarry(this._el,p)|0,this._fh=this._fh+s+getCarry(this._fl,y)|0,this._gh=this._gh+u+getCarry(this._gl,m)|0,this._hh=this._hh+c+getCarry(this._hl,v)|0},Sha512.prototype._hash=function(){var e=Buffer$4.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var sha512=Sha512,inherits$4=inherits_browser$1.exports,SHA512$2=sha512,Hash$1=hash$3,Buffer$3=safeBuffer.exports.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$4(Sha384,SHA512$2),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var e=Buffer$3.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var sha384=Sha384,exports$1=sha_js.exports=function(e){e=e.toLowerCase();var t=exports$1[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};exports$1.sha=sha$2,exports$1.sha1=sha1$1,exports$1.sha224=sha224,exports$1.sha256=sha256$1,exports$1.sha384=sha384,exports$1.sha512=sha512;var Buffer$2=safeBuffer.exports.Buffer,Transform=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$3=inherits_browser$1.exports;function CipherBase(e){Transform.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$3(CipherBase,Transform),CipherBase.prototype.update=function(e,t,r){"string"==typeof e&&(e=Buffer$2.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},CipherBase.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},CipherBase.prototype._finalOrDigest=function(e){var t=this.__final()||Buffer$2.alloc(0);return e&&(t=this._toString(t,e,!0)),t},CipherBase.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new StringDecoder(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var cipherBase=CipherBase,inherits$2=inherits_browser$1.exports,MD5=md5_js,RIPEMD160$1=ripemd160,sha$1=sha_js.exports,Base=cipherBase;function Hash(e){Base.call(this,"digest"),this._hash=e}inherits$2(Hash,Base),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()};var browser$1=function(e){return"md5"===(e=e.toLowerCase())?new MD5:"rmd160"===e||"ripemd160"===e?new RIPEMD160$1:new Hash(sha$1(e))};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160FromArray=e.ripemd160FromString=e.ripemd160=e.sha256FromArray=e.sha256FromString=e.sha256=e.keccakFromArray=e.keccakFromHexString=e.keccakFromString=e.keccak256=e.keccak=void 0;var t=keccak$2,r=browser$1,n=externals,i=bytes$1,o=helpers;e.keccak=function(e,r){switch(void 0===r&&(r=256),(0,o.assertIsBuffer)(e),r){case 224:return(0,t.keccak224)(e);case 256:return(0,t.keccak256)(e);case 384:return(0,t.keccak384)(e);case 512:return(0,t.keccak512)(e);default:throw new Error("Invald algorithm: keccak".concat(r))}};e.keccak256=function(t){return(0,e.keccak)(t)};e.keccakFromString=function(t,r){void 0===r&&(r=256),(0,o.assertIsString)(t);var n=Buffer$j.from(t,"utf8");return(0,e.keccak)(n,r)};e.keccakFromHexString=function(t,r){return void 0===r&&(r=256),(0,o.assertIsHexString)(t),(0,e.keccak)((0,i.toBuffer)(t),r)};e.keccakFromArray=function(t,r){return void 0===r&&(r=256),(0,o.assertIsArray)(t),(0,e.keccak)((0,i.toBuffer)(t),r)};var a=function(e){return e=(0,i.toBuffer)(e),r("sha256").update(e).digest()};e.sha256=function(e){return(0,o.assertIsBuffer)(e),a(e)};e.sha256FromString=function(e){return(0,o.assertIsString)(e),a(e)};e.sha256FromArray=function(e){return(0,o.assertIsArray)(e),a(e)};var s=function(e,t){e=(0,i.toBuffer)(e);var n=r("rmd160").update(e).digest();return!0===t?(0,i.setLengthLeft)(n,32):n};e.ripemd160=function(e,t){return(0,o.assertIsBuffer)(e),s(e,t)};e.ripemd160FromString=function(e,t){return(0,o.assertIsString)(e),s(e,t)};e.ripemd160FromArray=function(e,t){return(0,o.assertIsArray)(e),s(e,t)};e.rlphash=function(t){return(0,e.keccak)(n.rlp.encode(t))}}(hash$4);var types={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=e.bnToRlp=e.bnToUnpaddedBuffer=e.bnToHex=void 0;var t,r=externals,n=internal,i=bytes$1;function o(e){return(0,i.unpadBuffer)(e.toArrayLike(Buffer$j))}e.bnToHex=function(e){return"0x".concat(e.toString(16))},e.bnToUnpaddedBuffer=o,e.bnToRlp=function(e){return o(e)},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(t=e.TypeOutput||(e.TypeOutput={})),e.toType=function(e,o){if(null===e)return null;if(void 0!==e){if("string"==typeof e&&!(0,n.isHexString)(e))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(e));if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var a=(0,i.toBuffer)(e);if(o===t.Buffer)return a;if(o===t.BN)return new r.BN(a);if(o===t.Number){var s=new r.BN(a),u=new r.BN(Number.MAX_SAFE_INTEGER.toString());if(s.gt(u))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return s.toNumber()}return"0x".concat(a.toString("hex"))}}}(types),function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;var n=r(require$$0$2),i=externals,o=secp256k1$2,a=internal,s=constants$1,u=bytes$1,c=hash$4,l=helpers,f=types,h=function(){function e(e,t,r,n){void 0===e&&(e=new i.BN(0)),void 0===t&&(t=new i.BN(0)),void 0===r&&(r=s.KECCAK256_RLP),void 0===n&&(n=s.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}return e.fromAccountData=function(t){var r=t.nonce,n=t.balance,o=t.stateRoot,a=t.codeHash;return new e(r?new i.BN((0,u.toBuffer)(r)):void 0,n?new i.BN((0,u.toBuffer)(n)):void 0,o?(0,u.toBuffer)(o):void 0,a?(0,u.toBuffer)(a):void 0)},e.fromRlpSerializedAccount=function(e){var t=i.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},e.fromValuesArray=function(r){var n=t(r,4),o=n[0],a=n[1],s=n[2],u=n[3];return new e(new i.BN(o),new i.BN(a),s,u)},e.prototype._validate=function(){if(this.nonce.lt(new i.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new i.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[(0,f.bnToUnpaddedBuffer)(this.nonce),(0,f.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return i.rlp.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(s.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(s.KECCAK256_NULL)},e}();e.Account=h;e.isValidAddress=function(e){try{(0,l.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};e.toChecksumAddress=function(e,t){(0,l.assertIsHexString)(e);var r=(0,a.stripHexPrefix)(e).toLowerCase(),n="";t&&(n=(0,f.toType)(t,f.TypeOutput.BN).toString()+"0x");for(var i=(0,c.keccakFromString)(n+r).toString("hex"),o="0x",s=0;s<r.length;s++)parseInt(i[s],16)>=8?o+=r[s].toUpperCase():o+=r[s];return o};e.isValidChecksumAddress=function(t,r){return(0,e.isValidAddress)(t)&&(0,e.toChecksumAddress)(t,r)===t};e.generateAddress=function(e,t){(0,l.assertIsBuffer)(e),(0,l.assertIsBuffer)(t);var r=new i.BN(t);return r.isZero()?(0,c.rlphash)([e,null]).slice(-20):(0,c.rlphash)([e,Buffer$j.from(r.toArray())]).slice(-20)};e.generateAddress2=function(e,t,r){return(0,l.assertIsBuffer)(e),(0,l.assertIsBuffer)(t),(0,l.assertIsBuffer)(r),(0,n.default)(20===e.length),(0,n.default)(32===t.length),(0,c.keccak256)(Buffer$j.concat([Buffer$j.from("ff","hex"),e,t,(0,c.keccak256)(r)])).slice(-20)};e.isValidPrivate=function(e){return(0,o.privateKeyVerify)(e)};e.isValidPublic=function(e,t){return void 0===t&&(t=!1),(0,l.assertIsBuffer)(e),64===e.length?(0,o.publicKeyVerify)(Buffer$j.concat([Buffer$j.from([4]),e])):!!t&&(0,o.publicKeyVerify)(e)};e.pubToAddress=function(e,t){return void 0===t&&(t=!1),(0,l.assertIsBuffer)(e),t&&64!==e.length&&(e=Buffer$j.from((0,o.publicKeyConvert)(e,!1).slice(1))),(0,n.default)(64===e.length),(0,c.keccak)(e).slice(-20)},e.publicToAddress=e.pubToAddress;e.privateToPublic=function(e){return(0,l.assertIsBuffer)(e),Buffer$j.from((0,o.publicKeyCreate)(e,!1)).slice(1)};e.privateToAddress=function(t){return(0,e.publicToAddress)((0,e.privateToPublic)(t))};e.importPublic=function(e){return(0,l.assertIsBuffer)(e),64!==e.length&&(e=Buffer$j.from((0,o.publicKeyConvert)(e,!1).slice(1))),e};e.zeroAddress=function(){var e=(0,u.zeros)(20);return(0,u.bufferToHex)(e)};e.isZeroAddress=function(t){try{(0,l.assertIsString)(t)}catch(e){return!1}return(0,e.zeroAddress)()===t}}(account$1);var address={},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(address,"__esModule",{value:!0}),address.Address=void 0;var assert_1$1=__importDefault$2(require$$0$2),externals_1$2=externals,bytes_1$4=bytes$1,account_1=account$1,Address=function(){function e(e){(0,assert_1$1.default)(20===e.length,"Invalid address length"),this.buf=e}return e.zero=function(){return new e((0,bytes_1$4.zeros)(20))},e.fromString=function(t){return(0,assert_1$1.default)((0,account_1.isValidAddress)(t),"Invalid address"),new e((0,bytes_1$4.toBuffer)(t))},e.fromPublicKey=function(t){return(0,assert_1$1.default)(Buffer$j.isBuffer(t),"Public key should be Buffer"),new e((0,account_1.pubToAddress)(t))},e.fromPrivateKey=function(t){return(0,assert_1$1.default)(Buffer$j.isBuffer(t),"Private key should be Buffer"),new e((0,account_1.privateToAddress)(t))},e.generate=function(t,r){return(0,assert_1$1.default)(externals_1$2.BN.isBN(r)),new e((0,account_1.generateAddress)(t.buf,r.toArrayLike(Buffer$j)))},e.generate2=function(t,r,n){return(0,assert_1$1.default)(Buffer$j.isBuffer(r)),(0,assert_1$1.default)(Buffer$j.isBuffer(n)),new e((0,account_1.generateAddress2)(t.buf,r,n))},e.prototype.equals=function(e){return this.buf.equals(e.buf)},e.prototype.isZero=function(){return this.equals(e.zero())},e.prototype.isPrecompileOrSystemAddress=function(){var e=new externals_1$2.BN(this.buf),t=new externals_1$2.BN(0),r=new externals_1$2.BN("ffff","hex");return e.gte(t)&&e.lte(r)},e.prototype.toString=function(){return"0x"+this.buf.toString("hex")},e.prototype.toBuffer=function(){return Buffer$j.from(this.buf)},e}();address.Address=Address;var signature$1={};Object.defineProperty(signature$1,"__esModule",{value:!0}),signature$1.hashPersonalMessage=signature$1.isValidSignature=signature$1.fromRpcSig=signature$1.toCompactSig=signature$1.toRpcSig=signature$1.ecrecover=signature$1.ecsign=void 0;var secp256k1_1=secp256k1$2,externals_1$1=externals,bytes_1$3=bytes$1,hash_1$1=hash$4,helpers_1=helpers,types_1=types;function ecsign(e,t,r){var n=(0,secp256k1_1.ecdsaSign)(e,t),i=n.signature,o=n.recid,a=Buffer$j.from(i.slice(0,32)),s=Buffer$j.from(i.slice(32,64));if(!r||"number"==typeof r){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:a,s:s,v:r?o+(2*r+35):o+27}}return{r:a,s:s,v:(0,types_1.toType)(r,types_1.TypeOutput.BN).muln(2).addn(35).addn(o).toArrayLike(Buffer$j)}}function calculateSigRecovery$1(e,t){var r=(0,types_1.toType)(e,types_1.TypeOutput.BN);if(!t)return r.subn(27);var n=(0,types_1.toType)(t,types_1.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function isValidSigRecovery$1(e){var t=new externals_1$1.BN(e);return t.eqn(0)||t.eqn(1)}signature$1.ecsign=ecsign;var ecrecover=function(e,t,r,n,i){var o=Buffer$j.concat([(0,bytes_1$3.setLengthLeft)(r,32),(0,bytes_1$3.setLengthLeft)(n,32)],64),a=calculateSigRecovery$1(t,i);if(!isValidSigRecovery$1(a))throw new Error("Invalid signature v value");var s=(0,secp256k1_1.ecdsaRecover)(o,a.toNumber(),e);return Buffer$j.from((0,secp256k1_1.publicKeyConvert)(s,!1).slice(1))};signature$1.ecrecover=ecrecover;var toRpcSig=function(e,t,r,n){if(!isValidSigRecovery$1(calculateSigRecovery$1(e,n)))throw new Error("Invalid signature v value");return(0,bytes_1$3.bufferToHex)(Buffer$j.concat([(0,bytes_1$3.setLengthLeft)(t,32),(0,bytes_1$3.setLengthLeft)(r,32),(0,bytes_1$3.toBuffer)(e)]))};signature$1.toRpcSig=toRpcSig;var toCompactSig=function(e,t,r,n){if(!isValidSigRecovery$1(calculateSigRecovery$1(e,n)))throw new Error("Invalid signature v value");var i=(0,types_1.toType)(e,types_1.TypeOutput.Number),o=r;return(i>28&&i%2==1||1===i||28===i)&&((o=Buffer$j.from(r))[0]|=128),(0,bytes_1$3.bufferToHex)(Buffer$j.concat([(0,bytes_1$3.setLengthLeft)(t,32),(0,bytes_1$3.setLengthLeft)(o,32)]))};signature$1.toCompactSig=toCompactSig;var fromRpcSig=function(e){var t,r,n,i=(0,bytes_1$3.toBuffer)(e);if(i.length>=65)t=i.slice(0,32),r=i.slice(32,64),n=(0,bytes_1$3.bufferToInt)(i.slice(64));else{if(64!==i.length)throw new Error("Invalid signature length");t=i.slice(0,32),r=i.slice(32,64),n=(0,bytes_1$3.bufferToInt)(i.slice(32,33))>>7,r[0]&=127}return n<27&&(n+=27),{v:n,r:t,s:r}};signature$1.fromRpcSig=fromRpcSig;var isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var o=new externals_1$1.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new externals_1$1.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!isValidSigRecovery$1(calculateSigRecovery$1(e,i)))return!1;var s=new externals_1$1.BN(t),u=new externals_1$1.BN(r);return!(s.isZero()||s.gt(a)||u.isZero()||u.gt(a))&&(!n||1!==u.cmp(o))};signature$1.isValidSignature=isValidSignature;var hashPersonalMessage=function(e){(0,helpers_1.assertIsBuffer)(e);var t=Buffer$j.from("Ethereum Signed Message:\n".concat(e.length),"utf-8");return(0,hash_1$1.keccak)(Buffer$j.concat([t,e]))};signature$1.hashPersonalMessage=hashPersonalMessage;var object$1={},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(object$1,"__esModule",{value:!0}),object$1.defineProperties=void 0;var assert_1=__importDefault$1(require$$0$2),internal_1=internal,externals_1=externals,bytes_1$2=bytes$1,defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x".concat(e[t].toString("hex"))})),r}return(0,bytes_1$2.baToJSON)(e.raw)},e.serialize=function(){return externals_1.rlp.encode(e.raw)},t.forEach((function(t,r){function n(){return e.raw[r]}function i(n){"00"!==(n=(0,bytes_1$2.toBuffer)(n)).toString("hex")||t.allowZero||(n=Buffer$j.allocUnsafe(0)),t.allowLess&&t.length?(n=(0,bytes_1$2.unpadBuffer)(n),(0,assert_1.default)(t.length>=n.length,"The field ".concat(t.name," must not have more ").concat(t.length," bytes"))):t.allowZero&&0===n.length||!t.length||(0,assert_1.default)(t.length===n.length,"The field ".concat(t.name," must have byte length of ").concat(t.length)),e.raw[r]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=Buffer$j.from((0,internal_1.stripHexPrefix)(r),"hex")),Buffer$j.isBuffer(r)&&(r=externals_1.rlp.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=(0,bytes_1$2.toBuffer)(t)}))}else{if("object"!==_typeof$2(r))throw new Error("invalid data");var n=Object.keys(r);t.forEach((function(t){-1!==n.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==n.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}};object$1.defineProperties=defineProperties,function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,r(constants$1,e),r(account$1,e),r(address,e),r(hash$4,e),r(signature$1,e),r(bytes$1,e),r(object$1,e),r(externals,e),r(types,e);var n=internal;Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}})}(dist_browser$1);var sha3={exports:{}};!function(e){!function(){var t="input is invalid type",r="object"===("undefined"==typeof window?"undefined":_typeof$2(window)),n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"===("undefined"==typeof self?"undefined":_typeof$2(self));!n.JS_SHA3_NO_NODE_JS&&"object"===_typeof$2(browser$1$1)&&browser$1$1.versions&&browser$1$1.versions.node?n=commonjsGlobal$1:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&e.exports,a=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!a||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===_typeof$2(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var y=function(e,t,r){return function(n){return new I(e,t,e).update(n)[r]()}},m=function(e,t,r){return function(n,i){return new I(e,t,i).update(n)[r]()}},v=function(e,t,r){return function(t,n,i,o){return $["cshake"+e].update(t,n,i,o)[r]()}},g=function(e,t,r){return function(t,n,i,o){return $["kmac"+e].update(t,n,i,o)[r]()}},b=function(e,t,r,n){for(var i=0;i<d.length;++i){var o=d[i];e[o]=t(r,n,o)}return e},w=function(e,t){var r=y(e,t,"hex");return r.create=function(){return new I(e,t,e)},r.update=function(e){return r.create().update(e)},b(r,y,e,t)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var r=m(e,t,"hex");return r.create=function(r){return new I(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},b(r,m,e,t)}},{name:"cshake",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=v(e,0,"hex");return n.create=function(n,i,o){return i||o?new I(e,t,n).bytepad([i,o],r):$["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},b(n,v,e,t)}},{name:"kmac",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=g(e,0,"hex");return n.create=function(n,i,o){return new R(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},b(n,g,e,t)}}],$={},x=[],S=0;S<_.length;++S)for(var k=_[S],A=k.bits,E=0;E<A.length;++E){var T=k.name+"_"+A[E];if(x.push(T),$[T]=k.createMethod(A[E],k.padding),"sha3"!==k.name){var M=k.name+A[E];x.push(M),$[M]=$[T]}}function I(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function R(e,t,r){I.call(this,e,t,r)}I.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=_typeof$2(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,s=this.blocks,u=this.byteCount,l=e.length,f=this.blockCount,h=0,d=this.s;h<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<f+1;++i)s[i]=0;if(r)for(i=this.start;h<l&&i<u;++h)s[i>>2]|=e[h]<<c[3&i++];else for(i=this.start;h<l&&i<u;++h)(o=e.charCodeAt(h))<128?s[i>>2]|=o<<c[3&i++]:o<2048?(s[i>>2]|=(192|o>>6)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]):o<55296||o>=57344?(s[i>>2]|=(224|o>>12)<<c[3&i++],s[i>>2]|=(128|o>>6&63)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++h)),s[i>>2]|=(240|o>>18)<<c[3&i++],s[i>>2]|=(128|o>>12&63)<<c[3&i++],s[i>>2]|=(128|o>>6&63)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=s[f],i=0;i<f;++i)d[i]^=s[i];O(d),this.reset=!0}else this.start=i}return this},I.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},I.prototype.encodeString=function(e){var r,n=_typeof$2(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(a&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||a&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,o=e.length;if(r)i=o;else for(var s=0;s<e.length;++s){var u=e.charCodeAt(s);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&e.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(e),i},I.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];O(n)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,u="";a<n;){for(o=0;o<t&&a<n;++o,++a)e=r[o],u+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(O(r),o=0)}return i&&(e=r[o],u+=s[e>>4&15]+s[15&e],i>1&&(u+=s[e>>12&15]+s[e>>8&15]),i>2&&(u+=s[e>>20&15]+s[e>>16&15])),u},I.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);a<n;){for(o=0;o<t&&a<n;++o,++a)u[a]=r[o];a%t==0&&O(r)}return i&&(u[o]=r[o],e=e.slice(0,s)),e},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<r&&s<i;++a,++s)e=s<<2,t=n[a],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&O(n)}return o&&(e=s<<2,t=n[a],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},R.prototype=new I,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var O=function(e){var t,r,n,i,o,a,s,u,c,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I,R,O,P,C,B,N,L,j,F,U,D,z,H,G,q,K,Z,J,V,W,Y,X,Q,ee,te,re,ne,ie,oe,ae,se,ue,ce,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(f<<1|h>>>31),r=s^(h<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(d<<1|p>>>31),r=c^(p<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],m=e[1],Z=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,M=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,N=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,V=e[22]<<10|e[23]>>>22,W=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,j=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,$=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,E=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,D=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=y^~v&b,e[1]=m^~g&w,e[10]=k^~E&M,e[11]=A^~T&I,e[20]=B^~L&F,e[21]=N^~j&U,e[30]=q^~Z&V,e[31]=K^~J&W,e[40]=te^~ne&oe,e[41]=re^~ie&ae,e[2]=v^~b&_,e[3]=g^~w&$,e[12]=E^~M&R,e[13]=T^~I&O,e[22]=L^~F&D,e[23]=j^~U&z,e[32]=Z^~V&Y,e[33]=J^~W&X,e[42]=ne^~oe&se,e[43]=ie^~ae&ue,e[4]=b^~_&x,e[5]=w^~$&S,e[14]=M^~R&P,e[15]=I^~O&C,e[24]=F^~D&H,e[25]=U^~z&G,e[34]=V^~Y&Q,e[35]=W^~X&ee,e[44]=oe^~se&ce,e[45]=ae^~ue&le,e[6]=_^~x&y,e[7]=$^~S&m,e[16]=R^~P&k,e[17]=O^~C&A,e[26]=D^~H&B,e[27]=z^~G&N,e[36]=Y^~Q&q,e[37]=X^~ee&K,e[46]=se^~ce&te,e[47]=ue^~le&re,e[8]=x^~y&v,e[9]=S^~m&g,e[18]=P^~k&E,e[19]=C^~A&T,e[28]=H^~B&L,e[29]=G^~N&j,e[38]=Q^~q&Z,e[39]=ee^~K&J,e[48]=ce^~te&ne,e[49]=le^~re&ie,e[0]^=l[n],e[1]^=l[n+1]};if(o)e.exports=$;else for(S=0;S<x.length;++S)n[x[S]]=$[x[S]]}()}(sha3);var naclFast={exports:{}};!function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),s=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function y(e,t,r,n){return p(e,t,r,n,16)}function m(e,t,r,n){return p(e,t,r,n,32)}function v(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,$=a,x=s,S=u,k=c,A=l,E=f,T=h,M=d,I=p,R=y,O=m,P=v,C=g,B=b,N=w,L=0;L<20;L+=2)_^=(i=(P^=(i=(M^=(i=(k^=(i=_+P|0)<<7|i>>>25)+_|0)<<9|i>>>23)+k|0)<<13|i>>>19)+M|0)<<18|i>>>14,A^=(i=($^=(i=(C^=(i=(I^=(i=A+$|0)<<7|i>>>25)+A|0)<<9|i>>>23)+I|0)<<13|i>>>19)+C|0)<<18|i>>>14,R^=(i=(E^=(i=(x^=(i=(B^=(i=R+E|0)<<7|i>>>25)+R|0)<<9|i>>>23)+B|0)<<13|i>>>19)+x|0)<<18|i>>>14,N^=(i=(O^=(i=(T^=(i=(S^=(i=N+O|0)<<7|i>>>25)+N|0)<<9|i>>>23)+S|0)<<13|i>>>19)+T|0)<<18|i>>>14,_^=(i=(S^=(i=(x^=(i=($^=(i=_+S|0)<<7|i>>>25)+_|0)<<9|i>>>23)+$|0)<<13|i>>>19)+x|0)<<18|i>>>14,A^=(i=(k^=(i=(T^=(i=(E^=(i=A+k|0)<<7|i>>>25)+A|0)<<9|i>>>23)+E|0)<<13|i>>>19)+T|0)<<18|i>>>14,R^=(i=(I^=(i=(M^=(i=(O^=(i=R+I|0)<<7|i>>>25)+R|0)<<9|i>>>23)+O|0)<<13|i>>>19)+M|0)<<18|i>>>14,N^=(i=(B^=(i=(C^=(i=(P^=(i=N+B|0)<<7|i>>>25)+N|0)<<9|i>>>23)+P|0)<<13|i>>>19)+C|0)<<18|i>>>14;_=_+o|0,$=$+a|0,x=x+s|0,S=S+u|0,k=k+c|0,A=A+l|0,E=E+f|0,T=T+h|0,M=M+d|0,I=I+p|0,R=R+y|0,O=O+m|0,P=P+v|0,C=C+g|0,B=B+b|0,N=N+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=$>>>0&255,e[5]=$>>>8&255,e[6]=$>>>16&255,e[7]=$>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=A>>>0&255,e[21]=A>>>8&255,e[22]=A>>>16&255,e[23]=A>>>24&255,e[24]=E>>>0&255,e[25]=E>>>8&255,e[26]=E>>>16&255,e[27]=E>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=M>>>0&255,e[33]=M>>>8&255,e[34]=M>>>16&255,e[35]=M>>>24&255,e[36]=I>>>0&255,e[37]=I>>>8&255,e[38]=I>>>16&255,e[39]=I>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=C>>>0&255,e[53]=C>>>8&255,e[54]=C>>>16&255,e[55]=C>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}(e,t,r,n)}function g(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(v^=(i=(d^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(a^=(i=(g^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+g|0)<<18|i>>>14,y^=(i=(f^=(i=(s^=(i=(b^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(m^=(i=(h^=(i=(u^=(i=w+m|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(h^=(i=(f^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+h|0)<<18|i>>>14,y^=(i=(p^=(i=(d^=(i=(m^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+m|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(b^=(i=(g^=(i=(v^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+g|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(v(l,c,a,b),u=0;u<64;u++)e[t+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(v(l,c,a,b),u=0;u<i;u++)e[t+u]=r[n+u]^l[u];return 0}function _(e,t,r,n,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(v(u,s,i,b),a=0;a<64;a++)e[t+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(v(u,s,i,b),a=0;a<r;a++)e[t+a]=u[a];return 0}function $(e,t,r,n,i){var o=new Uint8Array(32);g(o,n,i,b);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return _(e,t,r,a,o)}function x(e,t,r,n,i,o,a){var s=new Uint8Array(32);g(s,o,a,b);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return w(e,t,r,n,i,u,s)}var S=function(e){var t,r,n,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,n,i,o){var a=new S(o);return a.update(r,n,i),a.finish(e,t),0}function A(e,t,r,n,i,o){var a=new Uint8Array(16);return k(a,0,r,n,i,o),y(e,t,a,0)}function E(e,t,r,n,i){var o;if(r<32)return-1;for(x(e,0,t,0,r,n,i),k(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function T(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if($(a,0,32,n,i),0!==A(t,16,t,32,r-32,a))return-1;for(x(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function M(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function I(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function R(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,i,o,a=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(I(s),I(s),I(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,R(s,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function P(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),m(r,0,n,0)}function C(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function B(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,i,o=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,y=0,m=0,v=0,g=0,b=0,w=0,_=0,$=0,x=0,S=0,k=0,A=0,E=0,T=0,M=0,I=0,R=0,O=0,P=0,C=0,B=0,N=r[0],L=r[1],j=r[2],F=r[3],U=r[4],D=r[5],z=r[6],H=r[7],G=r[8],q=r[9],K=r[10],Z=r[11],J=r[12],V=r[13],W=r[14],Y=r[15];o+=(n=t[0])*N,a+=n*L,s+=n*j,u+=n*F,c+=n*U,l+=n*D,f+=n*z,h+=n*H,d+=n*G,p+=n*q,y+=n*K,m+=n*Z,v+=n*J,g+=n*V,b+=n*W,w+=n*Y,a+=(n=t[1])*N,s+=n*L,u+=n*j,c+=n*F,l+=n*U,f+=n*D,h+=n*z,d+=n*H,p+=n*G,y+=n*q,m+=n*K,v+=n*Z,g+=n*J,b+=n*V,w+=n*W,_+=n*Y,s+=(n=t[2])*N,u+=n*L,c+=n*j,l+=n*F,f+=n*U,h+=n*D,d+=n*z,p+=n*H,y+=n*G,m+=n*q,v+=n*K,g+=n*Z,b+=n*J,w+=n*V,_+=n*W,$+=n*Y,u+=(n=t[3])*N,c+=n*L,l+=n*j,f+=n*F,h+=n*U,d+=n*D,p+=n*z,y+=n*H,m+=n*G,v+=n*q,g+=n*K,b+=n*Z,w+=n*J,_+=n*V,$+=n*W,x+=n*Y,c+=(n=t[4])*N,l+=n*L,f+=n*j,h+=n*F,d+=n*U,p+=n*D,y+=n*z,m+=n*H,v+=n*G,g+=n*q,b+=n*K,w+=n*Z,_+=n*J,$+=n*V,x+=n*W,S+=n*Y,l+=(n=t[5])*N,f+=n*L,h+=n*j,d+=n*F,p+=n*U,y+=n*D,m+=n*z,v+=n*H,g+=n*G,b+=n*q,w+=n*K,_+=n*Z,$+=n*J,x+=n*V,S+=n*W,k+=n*Y,f+=(n=t[6])*N,h+=n*L,d+=n*j,p+=n*F,y+=n*U,m+=n*D,v+=n*z,g+=n*H,b+=n*G,w+=n*q,_+=n*K,$+=n*Z,x+=n*J,S+=n*V,k+=n*W,A+=n*Y,h+=(n=t[7])*N,d+=n*L,p+=n*j,y+=n*F,m+=n*U,v+=n*D,g+=n*z,b+=n*H,w+=n*G,_+=n*q,$+=n*K,x+=n*Z,S+=n*J,k+=n*V,A+=n*W,E+=n*Y,d+=(n=t[8])*N,p+=n*L,y+=n*j,m+=n*F,v+=n*U,g+=n*D,b+=n*z,w+=n*H,_+=n*G,$+=n*q,x+=n*K,S+=n*Z,k+=n*J,A+=n*V,E+=n*W,T+=n*Y,p+=(n=t[9])*N,y+=n*L,m+=n*j,v+=n*F,g+=n*U,b+=n*D,w+=n*z,_+=n*H,$+=n*G,x+=n*q,S+=n*K,k+=n*Z,A+=n*J,E+=n*V,T+=n*W,M+=n*Y,y+=(n=t[10])*N,m+=n*L,v+=n*j,g+=n*F,b+=n*U,w+=n*D,_+=n*z,$+=n*H,x+=n*G,S+=n*q,k+=n*K,A+=n*Z,E+=n*J,T+=n*V,M+=n*W,I+=n*Y,m+=(n=t[11])*N,v+=n*L,g+=n*j,b+=n*F,w+=n*U,_+=n*D,$+=n*z,x+=n*H,S+=n*G,k+=n*q,A+=n*K,E+=n*Z,T+=n*J,M+=n*V,I+=n*W,R+=n*Y,v+=(n=t[12])*N,g+=n*L,b+=n*j,w+=n*F,_+=n*U,$+=n*D,x+=n*z,S+=n*H,k+=n*G,A+=n*q,E+=n*K,T+=n*Z,M+=n*J,I+=n*V,R+=n*W,O+=n*Y,g+=(n=t[13])*N,b+=n*L,w+=n*j,_+=n*F,$+=n*U,x+=n*D,S+=n*z,k+=n*H,A+=n*G,E+=n*q,T+=n*K,M+=n*Z,I+=n*J,R+=n*V,O+=n*W,P+=n*Y,b+=(n=t[14])*N,w+=n*L,_+=n*j,$+=n*F,x+=n*U,S+=n*D,k+=n*z,A+=n*H,E+=n*G,T+=n*q,M+=n*K,I+=n*Z,R+=n*J,O+=n*V,P+=n*W,C+=n*Y,w+=(n=t[15])*N,a+=38*($+=n*j),s+=38*(x+=n*F),u+=38*(S+=n*U),c+=38*(k+=n*D),l+=38*(A+=n*z),f+=38*(E+=n*H),h+=38*(T+=n*G),d+=38*(M+=n*q),p+=38*(I+=n*K),y+=38*(R+=n*Z),m+=38*(O+=n*J),v+=38*(P+=n*V),g+=38*(C+=n*W),b+=38*(B+=n*Y),o=(n=(o+=38*(_+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=d,e[9]=p,e[10]=y,e[11]=m,e[12]=v,e[13]=g,e[14]=b,e[15]=w}function F(e,t){j(e,t,t)}function U(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function D(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function z(e,r,n){var i,o,a=new Uint8Array(32),u=new Float64Array(80),c=t(),l=t(),f=t(),h=t(),d=t(),p=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,B(u,n),o=0;o<16;o++)l[o]=u[o],h[o]=c[o]=f[o]=0;for(c[0]=h[0]=1,o=254;o>=0;--o)R(c,l,i=a[o>>>3]>>>(7&o)&1),R(f,h,i),N(d,c,f),L(c,c,f),N(f,l,h),L(l,l,h),F(h,d),F(p,c),j(c,f,c),j(f,l,d),N(d,c,f),L(c,c,f),F(l,c),L(f,h,p),j(c,f,s),N(c,c,h),j(f,f,c),j(c,h,p),j(h,l,u),F(l,d),R(c,l,i),R(f,h,i);for(o=0;o<16;o++)u[o+16]=c[o],u[o+32]=f[o],u[o+48]=l[o],u[o+64]=h[o];var y=u.subarray(32),m=u.subarray(16);return U(y,y),j(m,m,y),O(e,m),0}function H(e,t){return z(e,t,i)}function G(e,t){return r(t,32),H(e,t)}function q(e,t,r){var i=new Uint8Array(32);return z(i,r,t),g(e,n,i,b)}S.prototype.blocks=function(e,t,r){for(var n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$=this.fin?0:2048,x=this.h[0],S=this.h[1],k=this.h[2],A=this.h[3],E=this.h[4],T=this.h[5],M=this.h[6],I=this.h[7],R=this.h[8],O=this.h[9],P=this.r[0],C=this.r[1],B=this.r[2],N=this.r[3],L=this.r[4],j=this.r[5],F=this.r[6],U=this.r[7],D=this.r[8],z=this.r[9];r>=16;)h=f=0,h+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*P,h+=(S+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),h+=(k+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*D),h+=(A+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*U),f=(h+=(E+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*F))>>>13,h&=8191,h+=(T+=s>>>1&8191)*(5*j),h+=(M+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),h+=(I+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*N),h+=(R+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*B),d=f+=(h+=(O+=l>>>5|$)*(5*C))>>>13,d+=x*C,d+=S*P,d+=k*(5*z),d+=A*(5*D),f=(d+=E*(5*U))>>>13,d&=8191,d+=T*(5*F),d+=M*(5*j),d+=I*(5*L),d+=R*(5*N),f+=(d+=O*(5*B))>>>13,d&=8191,p=f,p+=x*B,p+=S*C,p+=k*P,p+=A*(5*z),f=(p+=E*(5*D))>>>13,p&=8191,p+=T*(5*U),p+=M*(5*F),p+=I*(5*j),p+=R*(5*L),y=f+=(p+=O*(5*N))>>>13,y+=x*N,y+=S*B,y+=k*C,y+=A*P,f=(y+=E*(5*z))>>>13,y&=8191,y+=T*(5*D),y+=M*(5*U),y+=I*(5*F),y+=R*(5*j),m=f+=(y+=O*(5*L))>>>13,m+=x*L,m+=S*N,m+=k*B,m+=A*C,f=(m+=E*P)>>>13,m&=8191,m+=T*(5*z),m+=M*(5*D),m+=I*(5*U),m+=R*(5*F),v=f+=(m+=O*(5*j))>>>13,v+=x*j,v+=S*L,v+=k*N,v+=A*B,f=(v+=E*C)>>>13,v&=8191,v+=T*P,v+=M*(5*z),v+=I*(5*D),v+=R*(5*U),g=f+=(v+=O*(5*F))>>>13,g+=x*F,g+=S*j,g+=k*L,g+=A*N,f=(g+=E*B)>>>13,g&=8191,g+=T*C,g+=M*P,g+=I*(5*z),g+=R*(5*D),b=f+=(g+=O*(5*U))>>>13,b+=x*U,b+=S*F,b+=k*j,b+=A*L,f=(b+=E*N)>>>13,b&=8191,b+=T*B,b+=M*C,b+=I*P,b+=R*(5*z),w=f+=(b+=O*(5*D))>>>13,w+=x*D,w+=S*U,w+=k*F,w+=A*j,f=(w+=E*L)>>>13,w&=8191,w+=T*N,w+=M*B,w+=I*C,w+=R*P,_=f+=(w+=O*(5*z))>>>13,_+=x*z,_+=S*D,_+=k*U,_+=A*F,f=(_+=E*j)>>>13,_&=8191,_+=T*L,_+=M*N,_+=I*B,_+=R*C,x=h=8191&(f=(f=((f+=(_+=O*P)>>>13)<<2)+f|0)+(h&=8191)|0),S=d+=f>>>=13,k=p&=8191,A=y&=8191,E=m&=8191,T=v&=8191,M=g&=8191,I=b&=8191,R=w&=8191,O=_&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=S,this.h[2]=k,this.h[3]=A,this.h[4]=E,this.h[5]=T,this.h[6]=M,this.h[7]=I,this.h[8]=R,this.h[9]=O},S.prototype.finish=function(e,t){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},S.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var K=E,Z=T;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I=new Int32Array(16),R=new Int32Array(16),O=e[0],P=e[1],C=e[2],B=e[3],N=e[4],L=e[5],j=e[6],F=e[7],U=t[0],D=t[1],z=t[2],H=t[3],G=t[4],q=t[5],K=t[6],Z=t[7],V=0;n>=128;){for($=0;$<16;$++)x=8*$+V,I[$]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],R[$]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for($=0;$<80;$++)if(i=O,o=P,a=C,s=B,u=N,c=L,l=j,F,h=U,d=D,p=z,y=H,m=G,v=q,g=K,Z,A=65535&(k=Z),E=k>>>16,T=65535&(S=F),M=S>>>16,A+=65535&(k=(G>>>14|N<<18)^(G>>>18|N<<14)^(N>>>9|G<<23)),E+=k>>>16,T+=65535&(S=(N>>>14|G<<18)^(N>>>18|G<<14)^(G>>>9|N<<23)),M+=S>>>16,A+=65535&(k=G&q^~G&K),E+=k>>>16,T+=65535&(S=N&L^~N&j),M+=S>>>16,A+=65535&(k=J[2*$+1]),E+=k>>>16,T+=65535&(S=J[2*$]),M+=S>>>16,S=I[$%16],E+=(k=R[$%16])>>>16,T+=65535&S,M+=S>>>16,T+=(E+=(A+=65535&k)>>>16)>>>16,A=65535&(k=_=65535&A|E<<16),E=k>>>16,T=65535&(S=w=65535&T|(M+=T>>>16)<<16),M=S>>>16,A+=65535&(k=(U>>>28|O<<4)^(O>>>2|U<<30)^(O>>>7|U<<25)),E+=k>>>16,T+=65535&(S=(O>>>28|U<<4)^(U>>>2|O<<30)^(U>>>7|O<<25)),M+=S>>>16,E+=(k=U&D^U&z^D&z)>>>16,T+=65535&(S=O&P^O&C^P&C),M+=S>>>16,f=65535&(T+=(E+=(A+=65535&k)>>>16)>>>16)|(M+=T>>>16)<<16,b=65535&A|E<<16,A=65535&(k=y),E=k>>>16,T=65535&(S=s),M=S>>>16,E+=(k=_)>>>16,T+=65535&(S=w),M+=S>>>16,P=i,C=o,B=a,N=s=65535&(T+=(E+=(A+=65535&k)>>>16)>>>16)|(M+=T>>>16)<<16,L=u,j=c,F=l,O=f,D=h,z=d,H=p,G=y=65535&A|E<<16,q=m,K=v,Z=g,U=b,$%16==15)for(x=0;x<16;x++)S=I[x],A=65535&(k=R[x]),E=k>>>16,T=65535&S,M=S>>>16,S=I[(x+9)%16],A+=65535&(k=R[(x+9)%16]),E+=k>>>16,T+=65535&S,M+=S>>>16,w=I[(x+1)%16],A+=65535&(k=((_=R[(x+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),E+=k>>>16,T+=65535&(S=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),M+=S>>>16,w=I[(x+14)%16],E+=(k=((_=R[(x+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,T+=65535&(S=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,I[x]=65535&T|M<<16,R[x]=65535&A|E<<16;A=65535&(k=U),E=k>>>16,T=65535&(S=O),M=S>>>16,S=e[0],E+=(k=t[0])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[0]=O=65535&T|M<<16,t[0]=U=65535&A|E<<16,A=65535&(k=D),E=k>>>16,T=65535&(S=P),M=S>>>16,S=e[1],E+=(k=t[1])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[1]=P=65535&T|M<<16,t[1]=D=65535&A|E<<16,A=65535&(k=z),E=k>>>16,T=65535&(S=C),M=S>>>16,S=e[2],E+=(k=t[2])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[2]=C=65535&T|M<<16,t[2]=z=65535&A|E<<16,A=65535&(k=H),E=k>>>16,T=65535&(S=B),M=S>>>16,S=e[3],E+=(k=t[3])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[3]=B=65535&T|M<<16,t[3]=H=65535&A|E<<16,A=65535&(k=G),E=k>>>16,T=65535&(S=N),M=S>>>16,S=e[4],E+=(k=t[4])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[4]=N=65535&T|M<<16,t[4]=G=65535&A|E<<16,A=65535&(k=q),E=k>>>16,T=65535&(S=L),M=S>>>16,S=e[5],E+=(k=t[5])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[5]=L=65535&T|M<<16,t[5]=q=65535&A|E<<16,A=65535&(k=K),E=k>>>16,T=65535&(S=j),M=S>>>16,S=e[6],E+=(k=t[6])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[6]=j=65535&T|M<<16,t[6]=K=65535&A|E<<16,A=65535&(k=Z),E=k>>>16,T=65535&(S=F),M=S>>>16,S=e[7],E+=(k=t[7])>>>16,T+=65535&S,M+=S>>>16,M+=(T+=(E+=(A+=65535&k)>>>16)>>>16)>>>16,e[7]=F=65535&T|M<<16,t[7]=Z=65535&A|E<<16,V+=128,n-=128}return n}function W(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,V(i,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,d(a,r-8,s/536870912|0,s<<3),V(i,o,a,r),n=0;n<8;n++)d(e,8*n,i[n],o[n]);return 0}function Y(e,r){var n=t(),i=t(),o=t(),a=t(),s=t(),u=t(),l=t(),f=t(),h=t();L(n,e[1],e[0]),L(h,r[1],r[0]),j(n,n,h),N(i,e[0],e[1]),N(h,r[0],r[1]),j(i,i,h),j(o,e[3],r[3]),j(o,o,c),j(a,e[2],r[2]),N(a,a,a),L(s,i,n),L(u,a,o),N(l,a,o),N(f,i,n),j(e[0],s,u),j(e[1],f,l),j(e[2],l,u),j(e[3],s,f)}function X(e,t,r){var n;for(n=0;n<4;n++)R(e[n],t[n],r)}function Q(e,r){var n=t(),i=t(),o=t();U(o,r[2]),j(n,r[0],o),j(i,r[1],o),O(e,i),e[31]^=C(n)<<7}function ee(e,t,r){var n,i;for(M(e[0],o),M(e[1],a),M(e[2],a),M(e[3],o),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),X(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];M(n[0],l),M(n[1],f),M(n[2],a),j(n[3],l,f),ee(e,n,r)}function re(e,n,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),W(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),Q(e,s),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function ae(e,r,n,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];W(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(W(c,e.subarray(32),n+32),oe(c),te(f,c),Q(e,f),o=32;o<64;o++)e[o]=i[o];for(W(u,e,n+64),oe(u),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=u[o]*s[a];return ie(e.subarray(32),l),h}function se(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),f=t(),d=t();return M(e[2],a),B(e[1],r),F(s,e[1]),j(c,s,u),L(s,s,e[2]),N(c,e[2],c),F(l,c),F(f,l),j(d,f,l),j(n,d,s),j(n,n,c),D(n,n),j(n,n,s),j(n,n,c),j(n,n,c),j(e[0],n,c),F(i,e[0]),j(i,i,c),P(i,s)&&j(e[0],e[0],h),F(i,e[0]),j(i,i,c),P(i,s)?-1:(C(e[0])===r[31]>>7&&L(e[0],o,e[0]),j(e[3],e[0],e[1]),0)}(d,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(W(l,e,n),oe(l),ee(f,d,l),te(d,r.subarray(32)),Y(f,d),Q(c,f),n-=64,m(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=16,ce=64,le=32,fe=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:x,crypto_stream:$,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:k,crypto_onetimeauth_verify:A,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:E,crypto_secretbox_open:T,crypto_scalarmult:z,crypto_scalarmult_base:H,crypto_box_beforenm:q,crypto_box_afternm:K,crypto_box:function(e,t,r,n,i,o){var a=new Uint8Array(32);return q(a,i,o),K(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,o){var a=new Uint8Array(32);return q(a,i,o),Z(e,t,r,n,a)},crypto_box_keypair:G,crypto_hash:W,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:se,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ce,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ne,pack25519:O,unpack25519:B,M:j,A:N,S:F,Z:L,pow2523:D,add:Y,set25519:M,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return E(i,n,n.length,t,r),i.subarray(ue)},e.secretbox.open=function(e,t,r){de(e,t,r),he(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ue]=e[o];return n.length<32||0!==T(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(ce+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(de(e,t),t.length!==le)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=se(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ce),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==ce)throw new Error("bad signature size");if(r.length!==le)throw new Error("bad public key size");var n,i=new Uint8Array(ce+e.length),o=new Uint8Array(ce+e.length);for(n=0;n<ce;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ce]=e[n];return se(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(fe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(le),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=ce,e.hash=function(e){de(e);var t=new Uint8Array(64);return W(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}else void 0!==commonjsRequire&&(t=require$$0$4)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}(naclFast);var nacl$1=naclFast.exports,buffer={};function _createSuper$5(e){var t=_isNativeReflectConstruct$5();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$5(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}!function(e){var t=base64Js,r=ieee754,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof$2(e));if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof$2(e))}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|h(e))}function l(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_typeof$2(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(J(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function w(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return K(q(t),e,r,n)}function $(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Z(o,Uint8Array))i+o.length>n.length?(a.isBuffer(o)||(o=a.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_typeof$2(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V[e[o]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n,i){U(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function P(e,t,r,n,i){U(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),a.prototype.readBigInt64BE=W((function(e){D(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%u]}return this};var L={};function j(e,t,r){L[e]=function(r){_inherits(i,r);var n=_createSuper$5(i);function i(){var r;return _classCallCheck$1(this,i),r=n.call(this),Object.defineProperty(_assertThisInitialized(r),"message",{value:t.apply(_assertThisInitialized(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return _createClass$1(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(r)}function F(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function U(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"==typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new L.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){D(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,i,o)}function D(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw D(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(_typeof$2(t))}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=F(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var H=/[^+/0-9A-Za-z-_]/g;function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function W(e){return"undefined"==typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}}(buffer);var bn$2={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?y+n:f[c-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}Math.imul||(y=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):v(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),v(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,b),n($,b),n(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new $;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn$2);var BN$4=bn$2.exports,lib$2={},encoding_lib={};function inRange(e,t,r){return t<=e&&e<=r}function ToDictionary(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}function codePointsToString(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}var end_of_stream=-1;function Stream(e){this.tokens=[].slice.call(e)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var finished=-1;function decoderError(e,t){if(e)throw TypeError("Decoder error");return t||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(e,t){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(e,t);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function TextEncoder$1(e,t){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(e,t);if((e=void 0!==e?String(e).toLowerCase():DEFAULT_ENCODING)!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");t=ToDictionary(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function UTF8Decoder(e){var t=e.fatal,r=0,n=0,i=0,o=128,a=191;this.handler=function(e,s){if(s===end_of_stream&&0!==i)return i=0,decoderError(t);if(s===end_of_stream)return finished;if(0===i){if(inRange(s,0,127))return s;if(inRange(s,194,223))i=1,r=s-192;else if(inRange(s,224,239))224===s&&(o=160),237===s&&(a=159),i=2,r=s-224;else{if(!inRange(s,240,244))return decoderError(t);240===s&&(o=144),244===s&&(a=143),i=3,r=s-240}return r<<=6*i,null}if(!inRange(s,o,a))return r=i=n=0,o=128,a=191,e.prepend(s),decoderError(t);if(o=128,a=191,r+=s-128<<6*(i-(n+=1)),n!==i)return null;var u=r;return r=i=n=0,u}}function UTF8Encoder(e){e.fatal,this.handler=function(e,t){if(t===end_of_stream)return finished;if(inRange(t,0,127))return t;var r,n;inRange(t,128,2047)?(r=1,n=192):inRange(t,2048,65535)?(r=2,n=224):inRange(t,65536,1114111)&&(r=3,n=240);for(var i=[(t>>6*r)+n];r>0;){var o=t>>6*(r-1);i.push(128|63&o),r-=1}return i}}function _createForOfIteratorHelper$4(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$4(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$4(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$4(e,t):void 0}}function _arrayLikeToArray$4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createSuper$4(e){var t=_isNativeReflectConstruct$4();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$4(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}TextDecoder$1.prototype={decode:function(e,t){var r;r="object"===_typeof$2(e)&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===_typeof$2(e)&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=ToDictionary(t),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,i=new Stream(r),o=[];!i.endOfStream()&&(n=this._decoder.handler(i,i.read()))!==finished;)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if((n=this._decoder.handler(i,i.read()))===finished)break;null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),codePointsToString(o)}},TextEncoder$1.prototype={encode:function(e,t){e=e?String(e):"",t=ToDictionary(t),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],i=new Stream(stringToCodePoints(e));!i.endOfStream()&&(r=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(i,i.read()))!==finished;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}},encoding_lib.TextEncoder=TextEncoder$1,encoding_lib.TextDecoder=TextDecoder$1;var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":_typeof$2(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lib$2,"__esModule",{value:!0});var deserializeUnchecked_1=lib$2.deserializeUnchecked=deserialize_1=lib$2.deserialize=serialize_1=lib$2.serialize=lib$2.BinaryReader=lib$2.BinaryWriter=lib$2.BorshError=lib$2.baseDecode=lib$2.baseEncode=void 0,bn_js_1=__importDefault(bn$2.exports),bs58_1=__importDefault(bs58),encoding=__importStar(encoding_lib),ResolvedTextDecoder="function"!=typeof TextDecoder?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(e){return"string"==typeof e&&(e=Buffer$j.from(e,"utf8")),bs58_1.default.encode(Buffer$j.from(e))}function baseDecode(e){return Buffer$j.from(bs58_1.default.decode(e))}lib$2.baseEncode=baseEncode,lib$2.baseDecode=baseDecode;var INITIAL_LENGTH=1024,BorshError=function(e){_inherits(r,e);var t=_createSuper$4(r);function r(e){var n;return _classCallCheck$1(this,r),(n=t.call(this,e)).fieldPath=[],n.originalMessage=e,n}return _createClass$1(r,[{key:"addToFieldPath",value:function(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}]),r}(_wrapNativeSuper(Error));lib$2.BorshError=BorshError;var BinaryWriter=function(){function e(){_classCallCheck$1(this,e),this.buf=Buffer$j.alloc(INITIAL_LENGTH),this.length=0}return _createClass$1(e,[{key:"maybeResize",value:function(){this.buf.length<16+this.length&&(this.buf=Buffer$j.concat([this.buf,Buffer$j.alloc(INITIAL_LENGTH)]))}},{key:"writeU8",value:function(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}},{key:"writeU16",value:function(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}},{key:"writeU32",value:function(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}},{key:"writeU64",value:function(e){this.maybeResize(),this.writeBuffer(Buffer$j.from(new bn_js_1.default(e).toArray("le",8)))}},{key:"writeU128",value:function(e){this.maybeResize(),this.writeBuffer(Buffer$j.from(new bn_js_1.default(e).toArray("le",16)))}},{key:"writeU256",value:function(e){this.maybeResize(),this.writeBuffer(Buffer$j.from(new bn_js_1.default(e).toArray("le",32)))}},{key:"writeU512",value:function(e){this.maybeResize(),this.writeBuffer(Buffer$j.from(new bn_js_1.default(e).toArray("le",64)))}},{key:"writeBuffer",value:function(e){this.buf=Buffer$j.concat([Buffer$j.from(this.buf.subarray(0,this.length)),e,Buffer$j.alloc(INITIAL_LENGTH)]),this.length+=e.length}},{key:"writeString",value:function(e){this.maybeResize();var t=Buffer$j.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}},{key:"writeFixedArray",value:function(e){this.writeBuffer(Buffer$j.from(e))}},{key:"writeArray",value:function(e,t){this.maybeResize(),this.writeU32(e.length);var r,n=_createForOfIteratorHelper$4(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.maybeResize(),t(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"toArray",value:function(){return this.buf.subarray(0,this.length)}}]),e}();function handlingRangeError(e,t,r){var n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(e){if(e instanceof RangeError){var i=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw e}}}lib$2.BinaryWriter=BinaryWriter;var BinaryReader=function(){function e(t){_classCallCheck$1(this,e),this.buf=t,this.offset=0}return _createClass$1(e,[{key:"readU8",value:function(){var e=this.buf.readUInt8(this.offset);return this.offset+=1,e}},{key:"readU16",value:function(){var e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}},{key:"readU32",value:function(){var e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readU64",value:function(){var e=this.readBuffer(8);return new bn_js_1.default(e,"le")}},{key:"readU128",value:function(){var e=this.readBuffer(16);return new bn_js_1.default(e,"le")}},{key:"readU256",value:function(){var e=this.readBuffer(32);return new bn_js_1.default(e,"le")}},{key:"readU512",value:function(){var e=this.readBuffer(64);return new bn_js_1.default(e,"le")}},{key:"readBuffer",value:function(e){if(this.offset+e>this.buf.length)throw new BorshError("Expected buffer length ".concat(e," isn't within bounds"));var t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readString",value:function(){var e=this.readU32(),t=this.readBuffer(e);try{return textDecoder.decode(t)}catch(e){throw new BorshError("Error decoding UTF-8 string: ".concat(e))}}},{key:"readFixedArray",value:function(e){return new Uint8Array(this.readBuffer(e))}},{key:"readArray",value:function(e){for(var t=this.readU32(),r=Array(),n=0;n<t;++n)r.push(e());return r}}]),e}();function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function serializeField(e,t,r,n,i){try{if("string"==typeof n)i["write".concat(capitalizeFirstLetter(n))](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new BorshError("Expecting byte array of length ".concat(n[0],", but got ").concat(r.length," bytes"));i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new BorshError("Expecting byte array of length ".concat(n[1],", but got ").concat(r.length," bytes"));for(var o=0;o<n[1];o++)serializeField(e,null,r[o],n[0],i)}else i.writeArray(r,(function(r){serializeField(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),serializeField(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((function(r,o){serializeField(e,t,o,n.key,i),serializeField(e,t,r,n.value,i)}));break;default:throw new BorshError("FieldType ".concat(n," unrecognized"))}else serializeStruct(e,r,i)}catch(e){throw e instanceof BorshError&&e.addToFieldPath(t),e}}function serializeStruct(e,t,r){if("function"!=typeof t.borshSerialize){var n=e.get(t.constructor);if(!n)throw new BorshError("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===n.kind)n.fields.map((function(n){var i=_slicedToArray(n,2),o=i[0],a=i[1];serializeField(e,o,t[o],a,r)}));else{if("enum"!==n.kind)throw new BorshError("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name));for(var i=t[n.field],o=0;o<n.values.length;++o){var a=_slicedToArray(n.values[o],2),s=a[0],u=a[1];if(s===i){r.writeU8(o),serializeField(e,s,t[s],u,r);break}}}}else t.borshSerialize(r)}function serialize(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BinaryWriter,n=new r;return serializeStruct(e,t,n),n.toArray()}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null),__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null),__decorate([handlingRangeError],BinaryReader.prototype,"readString",null),__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null),__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null),lib$2.BinaryReader=BinaryReader;var serialize_1=lib$2.serialize=serialize;function deserializeField(e,t,r,n){try{if("string"==typeof r)return n["read".concat(capitalizeFirstLetter(r))]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){for(var i=[],o=0;o<r[1];o++)i.push(deserializeField(e,null,r[0],n));return i}return n.readArray((function(){return deserializeField(e,t,r[0],n)}))}if("option"===r.kind)return n.readU8()?deserializeField(e,t,r.type,n):void 0;if("map"===r.kind){for(var a=new Map,s=n.readU32(),u=0;u<s;u++){var c=deserializeField(e,t,r.key,n),l=deserializeField(e,t,r.value,n);a.set(c,l)}return a}return deserializeStruct(e,r,n)}catch(e){throw e instanceof BorshError&&e.addToFieldPath(t),e}}function deserializeStruct(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);var n=e.get(t);if(!n)throw new BorshError("Class ".concat(t.name," is missing in schema"));if("struct"===n.kind){var i,o={},a=_createForOfIteratorHelper$4(e.get(t).fields);try{for(a.s();!(i=a.n()).done;){var s=_slicedToArray(i.value,2),u=s[0],c=s[1];o[u]=deserializeField(e,u,c,r)}}catch(e){a.e(e)}finally{a.f()}return new t(o)}if("enum"===n.kind){var l=r.readU8();if(l>=n.values.length)throw new BorshError("Enum index: ".concat(l," is out of range"));var f=_slicedToArray(n.values[l],2),h=f[0];return new t(_defineProperty$3({},h,deserializeField(e,h,f[1],r)))}throw new BorshError("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name))}function deserialize(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BinaryReader,i=new n(r),o=deserializeStruct(e,t,i);if(i.offset<r.length)throw new BorshError("Unexpected ".concat(r.length-i.offset," bytes after deserialized data"));return o}var deserialize_1=lib$2.deserialize=deserialize;function deserializeUnchecked(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BinaryReader,i=new n(r);return deserializeStruct(e,t,i)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_superPropBase(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},_get.apply(this,arguments)}deserializeUnchecked_1=lib$2.deserializeUnchecked=deserializeUnchecked;var Layout$1={};function _createForOfIteratorHelper$3(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$3(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$3(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$3(e,t):void 0}}function _arrayLikeToArray$3(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$3(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(Layout$1,"__esModule",{value:!0}),Layout$1.s16=Layout$1.s8=Layout$1.nu64be=Layout$1.u48be=Layout$1.u40be=Layout$1.u32be=Layout$1.u24be=Layout$1.u16be=nu64=Layout$1.nu64=Layout$1.u48=Layout$1.u40=u32=Layout$1.u32=Layout$1.u24=u16=Layout$1.u16=u8=Layout$1.u8=offset=Layout$1.offset=Layout$1.greedy=Layout$1.Constant=Layout$1.UTF8=Layout$1.CString=Layout$1.Blob=Layout$1.Boolean=Layout$1.BitField=Layout$1.BitStructure=Layout$1.VariantLayout=Layout$1.Union=Layout$1.UnionLayoutDiscriminator=Layout$1.UnionDiscriminator=Layout$1.Structure=Layout$1.Sequence=Layout$1.DoubleBE=Layout$1.Double=Layout$1.FloatBE=Layout$1.Float=Layout$1.NearInt64BE=Layout$1.NearInt64=Layout$1.NearUInt64BE=Layout$1.NearUInt64=Layout$1.IntBE=Layout$1.Int=Layout$1.UIntBE=Layout$1.UInt=Layout$1.OffsetLayout=Layout$1.GreedyCount=Layout$1.ExternalLayout=Layout$1.bindConstructorLayout=Layout$1.nameWithProperty=Layout$1.Layout=Layout$1.uint8ArrayToBuffer=Layout$1.checkUint8Array=void 0,Layout$1.constant=Layout$1.utf8=Layout$1.cstr=blob=Layout$1.blob=Layout$1.unionLayoutDiscriminator=Layout$1.union=seq=Layout$1.seq=Layout$1.bits=struct=Layout$1.struct=Layout$1.f64be=Layout$1.f64=Layout$1.f32be=Layout$1.f32=Layout$1.ns64be=Layout$1.s48be=Layout$1.s40be=Layout$1.s32be=Layout$1.s24be=Layout$1.s16be=ns64=Layout$1.ns64=Layout$1.s48=Layout$1.s40=Layout$1.s32=Layout$1.s24=void 0;var buffer_1=buffer$1;function checkUint8Array(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function uint8ArrayToBuffer(e){return checkUint8Array(e),buffer_1.Buffer.from(e.buffer,e.byteOffset,e.length)}Layout$1.checkUint8Array=checkUint8Array,Layout$1.uint8ArrayToBuffer=uint8ArrayToBuffer;var Layout=function(){function e(t,r){if(_classCallCheck$1(this,e),!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}return _createClass$1(e,[{key:"makeDestinationObject",value:function(){return{}}},{key:"getSpan",value:function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}},{key:"replicate",value:function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}},{key:"fromArray",value:function(e){}}]),e}();function nameWithProperty(e,t){return t.property?e+"["+t.property+"]":e}function bindConstructorLayout(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Layout))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})}Layout$1.Layout=Layout,Layout$1.nameWithProperty=nameWithProperty,Layout$1.bindConstructorLayout=bindConstructorLayout;var ExternalLayout=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){return _classCallCheck$1(this,r),t.apply(this,arguments)}return _createClass$1(r,[{key:"isCount",value:function(){throw new Error("ExternalLayout is abstract")}}]),r}(Layout);Layout$1.ExternalLayout=ExternalLayout;var GreedyCount=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$1(this,r),!Number.isInteger(n)||0>=n)throw new TypeError("elementSpan must be a (positive) integer");return(e=t.call(this,-1,i)).elementSpan=n,e}return _createClass$1(r,[{key:"isCount",value:function(){return!0}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;checkUint8Array(e);var r=e.length-t;return Math.floor(r/this.elementSpan)}},{key:"encode",value:function(e,t,r){return 0}}]),r}(ExternalLayout);Layout$1.GreedyCount=GreedyCount;var OffsetLayout=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;if(_classCallCheck$1(this,r),!(e instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(i))throw new TypeError("offset must be integer or undefined");return(n=t.call(this,e.span,o||e.property)).layout=e,n.offset=i,n}return _createClass$1(r,[{key:"isCount",value:function(){return this.layout instanceof UInt||this.layout instanceof UIntBE}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,r+this.offset)}}]),r}(ExternalLayout);Layout$1.OffsetLayout=OffsetLayout;var UInt=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),6<(i=t.call(this,e,n)).span)throw new RangeError("span must not exceed 6 bytes");return i}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readUIntLE(t,this.span)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeUIntLE(e,r,this.span),this.span}}]),r}(Layout);Layout$1.UInt=UInt;var UIntBE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),6<(i=t.call(this,e,n)).span)throw new RangeError("span must not exceed 6 bytes");return i}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readUIntBE(t,this.span)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeUIntBE(e,r,this.span),this.span}}]),r}(Layout);Layout$1.UIntBE=UIntBE;var Int=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),6<(i=t.call(this,e,n)).span)throw new RangeError("span must not exceed 6 bytes");return i}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readIntLE(t,this.span)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeIntLE(e,r,this.span),this.span}}]),r}(Layout);Layout$1.Int=Int;var IntBE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),6<(i=t.call(this,e,n)).span)throw new RangeError("span must not exceed 6 bytes");return i}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readIntBE(t,this.span)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeIntBE(e,r,this.span),this.span}}]),r}(Layout);Layout$1.IntBE=IntBE;var V2E32=Math.pow(2,32);function divmodInt64(e){var t=Math.floor(e/V2E32);return{hi32:t,lo32:e-t*V2E32}}function roundedInt64(e,t){return e*V2E32+t}var NearUInt64=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=uint8ArrayToBuffer(e),n=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return roundedInt64(i,n)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=divmodInt64(e),i=uint8ArrayToBuffer(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}]),r}(Layout);Layout$1.NearUInt64=NearUInt64;var NearUInt64BE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=uint8ArrayToBuffer(e),n=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return roundedInt64(n,i)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=divmodInt64(e),i=uint8ArrayToBuffer(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}]),r}(Layout);Layout$1.NearUInt64BE=NearUInt64BE;var NearInt64=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=uint8ArrayToBuffer(e),n=r.readUInt32LE(t),i=r.readInt32LE(t+4);return roundedInt64(i,n)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=divmodInt64(e),i=uint8ArrayToBuffer(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}]),r}(Layout);Layout$1.NearInt64=NearInt64;var NearInt64BE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=uint8ArrayToBuffer(e),n=r.readInt32BE(t),i=r.readUInt32BE(t+4);return roundedInt64(n,i)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=divmodInt64(e),i=uint8ArrayToBuffer(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}]),r}(Layout);Layout$1.NearInt64BE=NearInt64BE;var Float=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,4,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readFloatLE(t)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeFloatLE(e,r),4}}]),r}(Layout);Layout$1.Float=Float;var FloatBE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,4,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readFloatBE(t)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeFloatBE(e,r),4}}]),r}(Layout);Layout$1.FloatBE=FloatBE;var Double=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readDoubleLE(t)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeDoubleLE(e,r),8}}]),r}(Layout);Layout$1.Double=Double;var DoubleBE=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,8,e)}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return uint8ArrayToBuffer(e).readDoubleBE(t)}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return uint8ArrayToBuffer(t).writeDoubleBE(e,r),8}}]),r}(Layout);Layout$1.DoubleBE=DoubleBE;var Sequence=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n,i){var o;if(_classCallCheck$1(this,r),!(e instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var a=-1;return!(n instanceof ExternalLayout)&&0<e.span&&(a=n*e.span),(o=t.call(this,a,i)).elementLayout=e,o.count=n,o}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;var r=0,n=this.count;if(n instanceof ExternalLayout&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else for(var i=0;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i;return r}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.elementLayout,i=e.reduce((function(e,i){return e+n.encode(i,t,r+e)}),0);return this.count instanceof ExternalLayout&&this.count.encode(e.length,t,r),i}}]),r}(Layout);Layout$1.Sequence=Sequence;var Structure=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n,i){var o;if(_classCallCheck$1(this,r),!Array.isArray(e)||!e.reduce((function(e,t){return e&&t instanceof Layout}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof n&&void 0===i&&(i=n,n=void 0);var a,s=_createForOfIteratorHelper$3(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}}catch(e){s.e(e)}finally{s.f()}var c=-1;try{c=e.reduce((function(e,t){return e+t.getSpan()}),0)}catch(e){}return(o=t.call(this,c,n)).fields=e,o.decodePrefixes=!!i,o}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;var r=0;try{r=this.fields.reduce((function(r,n){var i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;checkUint8Array(e);var r,n=this.makeDestinationObject(),i=_createForOfIteratorHelper$3(this.fields);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(void 0!==o.property&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"encode",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=n,o=0,a=0,s=_createForOfIteratorHelper$3(this.fields);try{for(s.s();!(r=s.n()).done;){var u=r.value,c=u.span;if(a=0<c?c:0,void 0!==u.property){var l=e[u.property];void 0!==l&&(a=u.encode(l,t,n),0>c&&(c=u.getSpan(t,n)))}o=n,n+=c}}catch(e){s.e(e)}finally{s.f()}return o+a-i}},{key:"fromArray",value:function(e){var t,r=this.makeDestinationObject(),n=_createForOfIteratorHelper$3(this.fields);try{for(n.s();!(t=n.n()).done;){var i=t.value;void 0!==i.property&&0<e.length&&(r[i.property]=e.shift())}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"layoutFor",value:function(e){if("string"!=typeof e)throw new TypeError("property must be string");var t,r=_createForOfIteratorHelper$3(this.fields);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.property===e)return n}}catch(e){r.e(e)}finally{r.f()}}},{key:"offsetOf",value:function(e){if("string"!=typeof e)throw new TypeError("property must be string");var t,r=0,n=_createForOfIteratorHelper$3(this.fields);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.property===e)return r;0>i.span?r=-1:0<=r&&(r+=i.span)}}catch(e){n.e(e)}finally{n.f()}}}]),r}(Layout);Layout$1.Structure=Structure;var UnionDiscriminator=function(){function e(t){_classCallCheck$1(this,e),this.property=t}return _createClass$1(e,[{key:"decode",value:function(e,t){throw new Error("UnionDiscriminator is abstract")}},{key:"encode",value:function(e,t,r){throw new Error("UnionDiscriminator is abstract")}}]),e}();Layout$1.UnionDiscriminator=UnionDiscriminator;var UnionLayoutDiscriminator=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),!(e instanceof ExternalLayout&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(i=t.call(this,n||e.property||"variant")).layout=e,i}return _createClass$1(r,[{key:"decode",value:function(e,t){return this.layout.decode(e,t)}},{key:"encode",value:function(e,t,r){return this.layout.encode(e,t,r)}}]),r}(UnionDiscriminator);Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;var Union=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n,i){var o,a;if(_classCallCheck$1(this,r),e instanceof UInt||e instanceof UIntBE)a=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout&&e.isCount())a=new UnionLayoutDiscriminator(e);else{if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");a=e}if(void 0===n&&(n=null),!(null===n||n instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==n){if(0>n.span)throw new Error("defaultLayout must have constant span");void 0===n.property&&(n=n.replicate("content"))}var s=-1;n&&0<=(s=n.span)&&(e instanceof UInt||e instanceof UIntBE)&&(s+=a.layout.span),(o=t.call(this,s,i)).discriminator=a,o.usesPrefixDiscriminator=e instanceof UInt||e instanceof UIntBE,o.defaultLayout=n,o.registry={};var u=o.defaultGetSourceVariant.bind(_assertThisInitialized(o));return o.getSourceVariant=function(e){return u(e)},o.configGetSourceVariant=function(e){u=e.bind(this)},o}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;var r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}},{key:"defaultGetSourceVariant",value:function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;var t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(var r in this.registry){var n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}},{key:"decode",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.discriminator,i=n.decode(e,r),o=this.registry[i];if(void 0===o){var a=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(t=this.makeDestinationObject())[n.property]=i,t[a.property]=a.decode(e,r+s)}else t=o.decode(e,r);return t}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.getSourceVariant(e);if(void 0===n){var i=this.discriminator,o=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return n.encode(e,t,r)}},{key:"addVariant",value:function(e,t,r){var n=new VariantLayout(this,e,t,r);return this.registry[e]=n,n}},{key:"getVariant",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,r):e,this.registry[t]}}]),r}(Layout);Layout$1.Union=Union;var VariantLayout=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n,i,o){var a;if(_classCallCheck$1(this,r),!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof i&&void 0===o&&(o=i,i=null),i){if(!(i instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=i.span&&i.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof o)throw new TypeError("variant must have a String property")}var s=e.span;return 0>e.span&&0<=(s=i?i.span:0)&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span),(a=t.call(this,s,o)).union=e,a.variant=n,a.layout=i||null,a}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);var i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}},{key:"fromArray",value:function(e){if(this.layout)return this.layout.fromArray(e)}}]),r}(Layout);function fixBitwiseResult(e){return 0>e&&(e+=4294967296),e}Layout$1.VariantLayout=VariantLayout;var BitStructure=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n,i){var o;if(_classCallCheck$1(this,r),!(e instanceof UInt||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof n&&void 0===i&&(i=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");(o=t.call(this,e.span,i)).word=e,o.msb=!!n,o.fields=[];var a=0;return o._packedSetValue=function(e){return a=fixBitwiseResult(e),this},o._packedGetValue=function(){return a},o}return _createClass$1(r,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);var i,o=_createForOfIteratorHelper$3(this.fields);try{for(o.s();!(i=o.n()).done;){var a=i.value;void 0!==a.property&&(r[a.property]=a.decode(e))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.word.decode(t,r);this._packedSetValue(n);var i,o=_createForOfIteratorHelper$3(this.fields);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==a.property){var s=e[a.property];void 0!==s&&a.encode(s)}}}catch(e){o.e(e)}finally{o.f()}return this.word.encode(this._packedGetValue(),t,r)}},{key:"addField",value:function(e,t){var r=new BitField(this,e,t);return this.fields.push(r),r}},{key:"addBoolean",value:function(e){var t=new _Boolean2(this,e);return this.fields.push(t),t}},{key:"fieldFor",value:function(e){if("string"!=typeof e)throw new TypeError("property must be string");var t,r=_createForOfIteratorHelper$3(this.fields);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.property===e)return n}}catch(e){r.e(e)}finally{r.f()}}}]),r}(Layout);Layout$1.BitStructure=BitStructure;var BitField=function(){function e(t,r,n){if(_classCallCheck$1(this,e),!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");var i=8*t.span,o=t.fields.reduce((function(e,t){return e+t.bits}),0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,32===r&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=n}return _createClass$1(e,[{key:"decode",value:function(e,t){return fixBitwiseResult(this.container._packedGetValue()&this.wordMask)>>>this.start}},{key:"encode",value:function(e){if("number"!=typeof e||!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),r=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(t&~this.wordMask)|r)}}]),e}();Layout$1.BitField=BitField;var _Boolean2=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){return _classCallCheck$1(this,r),t.call(this,e,1,n)}return _createClass$1(r,[{key:"decode",value:function(e,t){return!!_get(_getPrototypeOf(r.prototype),"decode",this).call(this,e,t)}},{key:"encode",value:function(e){"boolean"==typeof e&&(e=+e),_get(_getPrototypeOf(r.prototype),"encode",this).call(this,e)}}]),r}(BitField);Layout$1.Boolean=_Boolean2;var Blob$1=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var o=-1;return e instanceof ExternalLayout||(o=e),(i=t.call(this,o,n)).length=e,i}return _createClass$1(r,[{key:"getSpan",value:function(e,t){var r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.span;return 0>r&&(r=this.length.decode(e,t)),uint8ArrayToBuffer(e).slice(t,t+r)}},{key:"encode",value:function(e,t,r){var n=this.length;if(this.length instanceof ExternalLayout&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");var i=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,t,r),n}}]),r}(Layout);Layout$1.Blob=Blob$1;var CString=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e){return _classCallCheck$1(this,r),t.call(this,-1,e)}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;checkUint8Array(e);for(var r=t;r<e.length&&0!==e[r];)r+=1;return 1+r-t}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.getSpan(e,t);return uint8ArrayToBuffer(e).slice(t,t+r-1).toString("utf-8")}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!=typeof e&&(e=String(e));var n=buffer_1.Buffer.from(e,"utf8"),i=n.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");var o=uint8ArrayToBuffer(t);return n.copy(o,r),o[r+i]=0,i+1}}]),r}(Layout);Layout$1.CString=CString;var UTF8=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;if(_classCallCheck$1(this,r),"string"==typeof e&&void 0===n&&(n=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");return(i=t.call(this,-1,n)).maxSpan=e,i}return _createClass$1(r,[{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return checkUint8Array(e),e.length-t}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(t,t+r).toString("utf-8")}},{key:"encode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!=typeof e&&(e=String(e));var n=buffer_1.Buffer.from(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(uint8ArrayToBuffer(t),r),i}}]),r}(Layout);Layout$1.UTF8=UTF8;var Constant=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(e,n){var i;return _classCallCheck$1(this,r),(i=t.call(this,0,n)).value=e,i}return _createClass$1(r,[{key:"decode",value:function(e,t){return this.value}},{key:"encode",value:function(e,t,r){return 0}}]),r}(Layout);Layout$1.Constant=Constant,Layout$1.greedy=function(e,t){return new GreedyCount(e,t)};var offset=Layout$1.offset=function(e,t,r){return new OffsetLayout(e,t,r)},u8=Layout$1.u8=function(e){return new UInt(1,e)},u16=Layout$1.u16=function(e){return new UInt(2,e)};Layout$1.u24=function(e){return new UInt(3,e)};var u32=Layout$1.u32=function(e){return new UInt(4,e)};Layout$1.u40=function(e){return new UInt(5,e)},Layout$1.u48=function(e){return new UInt(6,e)};var nu64=Layout$1.nu64=function(e){return new NearUInt64(e)};Layout$1.u16be=function(e){return new UIntBE(2,e)},Layout$1.u24be=function(e){return new UIntBE(3,e)},Layout$1.u32be=function(e){return new UIntBE(4,e)},Layout$1.u40be=function(e){return new UIntBE(5,e)},Layout$1.u48be=function(e){return new UIntBE(6,e)},Layout$1.nu64be=function(e){return new NearUInt64BE(e)},Layout$1.s8=function(e){return new Int(1,e)},Layout$1.s16=function(e){return new Int(2,e)},Layout$1.s24=function(e){return new Int(3,e)},Layout$1.s32=function(e){return new Int(4,e)},Layout$1.s40=function(e){return new Int(5,e)},Layout$1.s48=function(e){return new Int(6,e)};var ns64=Layout$1.ns64=function(e){return new NearInt64(e)};Layout$1.s16be=function(e){return new IntBE(2,e)},Layout$1.s24be=function(e){return new IntBE(3,e)},Layout$1.s32be=function(e){return new IntBE(4,e)},Layout$1.s40be=function(e){return new IntBE(5,e)},Layout$1.s48be=function(e){return new IntBE(6,e)},Layout$1.ns64be=function(e){return new NearInt64BE(e)},Layout$1.f32=function(e){return new Float(e)},Layout$1.f32be=function(e){return new FloatBE(e)},Layout$1.f64=function(e){return new Double(e)},Layout$1.f64be=function(e){return new DoubleBE(e)};var struct=Layout$1.struct=function(e,t,r){return new Structure(e,t,r)};Layout$1.bits=function(e,t,r){return new BitStructure(e,t,r)};var seq=Layout$1.seq=function(e,t,r){return new Sequence(e,t,r)};Layout$1.union=function(e,t,r){return new Union(e,t,r)},Layout$1.unionLayoutDiscriminator=function(e,t){return new UnionLayoutDiscriminator(e,t)};var blob=Layout$1.blob=function(e,t){return new Blob$1(e,t)};Layout$1.cstr=function(e){return new CString(e)},Layout$1.utf8=function(e,t){return new UTF8(e,t)},Layout$1.constant=function(e,t){return new Constant(e,t)};var _excluded=["message"],_marked=regenerator.mark(toFailures),_marked2=regenerator.mark(run);function _createForOfIteratorHelper$2(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$2(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(e,t):void 0}}function _arrayLikeToArray$2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys$4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$4(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var StructError=function(e){_inherits(r,e);var t=_createSuper$2(r);function r(e,n){var i,o;_classCallCheck$1(this,r);var a=e.message,s=_objectWithoutProperties(e,_excluded),u=e.path,c=0===u.length?a:"At path: "+u.join(".")+" -- "+a;return i=t.call(this,c),Object.assign(_assertThisInitialized(i),s),i.name=i.constructor.name,i.failures=function(){var t;return null!=(t=o)?t:o=[e].concat(_toConsumableArray(n()))},i}return _createClass$1(r)}(_wrapNativeSuper(TypeError));function isIterable(e){return isObject(e)&&"function"==typeof e[Symbol.iterator]}function isObject(e){return"object"===_typeof$2(e)&&null!=e}function print(e){return"string"==typeof e?JSON.stringify(e):""+e}function shiftIterator(e){var t=e.next(),r=t.done,n=t.value;return r?void 0:n}function toFailure(e,t,r,n){if(!0!==e){!1===e?e={}:"string"==typeof e&&(e={message:e});var i=t.path,o=t.branch,a=r.type,s=e,u=s.refinement,c=s.message,l=void 0===c?"Expected a value of type `"+a+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print(n)+"`":c;return _objectSpread$4(_objectSpread$4({value:n,type:a,refinement:u,key:i[i.length-1],path:i,branch:o},e),{},{message:l})}}function toFailures(e,t,r,n){var i,o,a,s;return regenerator.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:isIterable(e)||(e=[e]),i=_createForOfIteratorHelper$2(e),u.prev=2,i.s();case 4:if((o=i.n()).done){u.next=12;break}if(a=o.value,!(s=toFailure(a,t,r,n))){u.next=10;break}return u.next=10,s;case 10:u.next=4;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(2),i.e(u.t0);case 17:return u.prev=17,i.f(),u.finish(17);case 20:case"end":return u.stop()}}),_marked,null,[[2,14,17,20]])}function run(e,t){var r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_,$,x,S,k,A,E,T,M,I=arguments;return regenerator.wrap((function(R){for(;;)switch(R.prev=R.next){case 0:if(r=I.length>2&&void 0!==I[2]?I[2]:{},n=r.path,i=void 0===n?[]:n,o=r.branch,a=void 0===o?[e]:o,s=r.coerce,u=void 0!==s&&s,c=r.mask,l=void 0!==c&&c,f={path:i,branch:a},u&&(e=t.coercer(e,f),l&&"type"!==t.type&&isObject(t.schema)&&isObject(e)&&!Array.isArray(e)))for(h in e)void 0===t.schema[h]&&delete e[h];d=!0,p=_createForOfIteratorHelper$2(t.validator(e,f)),R.prev=6,p.s();case 8:if((y=p.n()).done){R.next=15;break}return m=y.value,d=!1,R.next=13,[m,void 0];case 13:R.next=8;break;case 15:R.next=20;break;case 17:R.prev=17,R.t0=R.catch(6),p.e(R.t0);case 20:return R.prev=20,p.f(),R.finish(20);case 23:v=_createForOfIteratorHelper$2(t.entries(e,f)),R.prev=24,v.s();case 26:if((g=v.n()).done){R.next=53;break}b=_slicedToArray(g.value,3),w=b[0],_=b[1],$=b[2],x=run(_,$,{path:void 0===w?i:[].concat(_toConsumableArray(i),[w]),branch:void 0===w?a:[].concat(_toConsumableArray(a),[_]),coerce:u,mask:l}),S=_createForOfIteratorHelper$2(x),R.prev=30,S.s();case 32:if((k=S.n()).done){R.next=43;break}if(!(A=k.value)[0]){R.next=40;break}return d=!1,R.next=38,[A[0],void 0];case 38:R.next=41;break;case 40:u&&(_=A[1],void 0===w?e=_:e instanceof Map?e.set(w,_):e instanceof Set?e.add(_):isObject(e)&&(e[w]=_));case 41:R.next=32;break;case 43:R.next=48;break;case 45:R.prev=45,R.t1=R.catch(30),S.e(R.t1);case 48:return R.prev=48,S.f(),R.finish(48);case 51:R.next=26;break;case 53:R.next=58;break;case 55:R.prev=55,R.t2=R.catch(24),v.e(R.t2);case 58:return R.prev=58,v.f(),R.finish(58);case 61:if(!d){R.next=80;break}E=_createForOfIteratorHelper$2(t.refiner(e,f)),R.prev=63,E.s();case 65:if((T=E.n()).done){R.next=72;break}return M=T.value,d=!1,R.next=70,[M,void 0];case 70:R.next=65;break;case 72:R.next=77;break;case 74:R.prev=74,R.t3=R.catch(63),E.e(R.t3);case 77:return R.prev=77,E.f(),R.finish(77);case 80:if(!d){R.next=83;break}return R.next=83,[void 0,e];case 83:case"end":return R.stop()}}),_marked2,null,[[6,17,20,23],[24,55,58,61],[30,45,48,51],[63,74,77,80]])}var Struct$1=function(){function e(t){var r=this;_classCallCheck$1(this,e);var n=t.type,i=t.schema,o=t.validator,a=t.refiner,s=t.coercer,u=void 0===s?function(e){return e}:s,c=t.entries,l=void 0===c?regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})):c;this.type=n,this.schema=i,this.entries=l,this.coercer=u,this.validator=o?function(e,t){return toFailures(o(e,t),t,r,e)}:function(){return[]},this.refiner=a?function(e,t){return toFailures(a(e,t),t,r,e)}:function(){return[]}}return _createClass$1(e,[{key:"assert",value:function(e){return _assert(e,this)}},{key:"create",value:function(e){return _create(e,this)}},{key:"is",value:function(e){return _is(e,this)}},{key:"mask",value:function(e){return _mask(e,this)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _validate(e,this,t)}}]),e}();function _assert(e,t){var r=_validate(e,t);if(r[0])throw r[0]}function _create(e,t){var r=_validate(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function _mask(e,t){var r=_validate(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function _is(e,t){return!_validate(e,t)[0]}function _validate(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=run(e,t,r),i=shiftIterator(n);if(i[0]){var o=new StructError(i[0],regenerator.mark((function e(){var t,r,i;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper$2(n),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=10;break}if(!(i=r.value)[0]){e.next=8;break}return e.next=8,i[0];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return[o,void 0]}var a=i[1];return[void 0,a]}function define(e,t){return new Struct$1({type:e,schema:null,validator:t})}function any(){return define("any",(function(){return!0}))}function array(e){return new Struct$1({type:"array",schema:e,entries:regenerator.mark((function t(r){var n,i,o,a,s;return regenerator.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!Array.isArray(r)){t.next=18;break}n=_createForOfIteratorHelper$2(r.entries()),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return o=_slicedToArray(i.value,2),a=o[0],s=o[1],t.next=8,[a,s,e];case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})),coercer:function(e){return Array.isArray(e)?e.slice():e},validator:function(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function _boolean(){return define("boolean",(function(e){return"boolean"==typeof e}))}function instance(e){return define("instance",(function(t){return t instanceof e||"Expected a `"+e.name+"` instance, but received: "+print(t)}))}function literal(e){var t=print(e),r=_typeof$2(e);return new Struct$1({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:function(r){return r===e||"Expected the literal `"+t+"`, but received: "+print(r)}})}function never(){return define("never",(function(){return!1}))}function nullable(e){return new Struct$1(_objectSpread$4(_objectSpread$4({},e),{},{validator:function(t,r){return null===t||e.validator(t,r)},refiner:function(t,r){return null===t||e.refiner(t,r)}}))}function number(){return define("number",(function(e){return"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+print(e)}))}function optional(e){return new Struct$1(_objectSpread$4(_objectSpread$4({},e),{},{validator:function(t,r){return void 0===t||e.validator(t,r)},refiner:function(t,r){return void 0===t||e.refiner(t,r)}}))}function record(e,t){return new Struct$1({type:"record",schema:null,entries:regenerator.mark((function r(n){var i,o;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!isObject(n)){r.next=11;break}r.t0=regenerator.keys(n);case 2:if((r.t1=r.t0()).done){r.next=11;break}return i=r.t1.value,o=n[i],r.next=7,[i,i,e];case 7:return r.next=9,[i,o,t];case 9:r.next=2;break;case 11:case"end":return r.stop()}}),r)})),validator:function(e){return isObject(e)||"Expected an object, but received: "+print(e)}})}function string(){return define("string",(function(e){return"string"==typeof e||"Expected a string, but received: "+print(e)}))}function tuple(e){var t=never();return new Struct$1({type:"tuple",schema:null,entries:regenerator.mark((function r(n){var i,o;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Array.isArray(n)){r.next=9;break}i=Math.max(e.length,n.length),o=0;case 3:if(!(o<i)){r.next=9;break}return r.next=6,[o,n[o],e[o]||t];case 6:o++,r.next=3;break;case 9:case"end":return r.stop()}}),r)})),validator:function(e){return Array.isArray(e)||"Expected an array, but received: "+print(e)}})}function type(e){var t=Object.keys(e);return new Struct$1({type:"type",schema:e,entries:regenerator.mark((function r(n){var i,o,a;return regenerator.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!isObject(n)){r.next=18;break}i=_createForOfIteratorHelper$2(t),r.prev=2,i.s();case 4:if((o=i.n()).done){r.next=10;break}return a=o.value,r.next=8,[a,n[a],e[a]];case 8:r.next=4;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),i.e(r.t0);case 15:return r.prev=15,i.f(),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[2,12,15,18]])})),validator:function(e){return isObject(e)||"Expected an object, but received: "+print(e)}})}function union(e){var t=e.map((function(e){return e.type})).join(" | ");return new Struct$1({type:"union",schema:null,validator:function(r,n){var i,o=[],a=_createForOfIteratorHelper$2(e);try{for(a.s();!(i=a.n()).done;){var s=_toArray(run(r,i.value,n)).slice(0);if(!_slicedToArray(s,1)[0][0])return[];var u,c=_createForOfIteratorHelper$2(s);try{for(c.s();!(u=c.n()).done;){var l=_slicedToArray(u.value,1)[0];l&&o.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return["Expected the value to satisfy a union of `"+t+"`, but received: "+print(r)].concat(o)}})}function unknown(){return define("unknown",(function(){return!0}))}function coerce(e,t,r){return new Struct$1(_objectSpread$4(_objectSpread$4({},e),{},{coercer:function(n,i){return _is(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)}}))}var index_browser={},interopRequireDefault={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(interopRequireDefault);var classCallCheck={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(classCallCheck);var inherits$1={exports:{}},setPrototypeOf={exports:{}};!function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(setPrototypeOf),function(e){var t=setPrototypeOf.exports;e.exports=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports}(inherits$1);var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};!function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(assertThisInitialized),function(e){var t=_typeof.exports.default,r=assertThisInitialized.exports;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(possibleConstructorReturn);var getPrototypeOf={exports:{}};!function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(getPrototypeOf);var websocket_browser={},createClass={exports:{}};!function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(createClass);var eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(eventemitter3),function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return new u(e,t)};var r=t(classCallCheck.exports),n=t(createClass.exports),i=t(inherits$1.exports),o=t(possibleConstructorReturn.exports),a=t(getPrototypeOf.exports);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,a.default)(e);if(t){var i=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var u=function(e){(0,i.default)(o,e);var t=s(o);function o(e,n,i){var a;return(0,r.default)(this,o),(a=t.call(this)).socket=new window.WebSocket(e,i),a.socket.onopen=function(){return a.emit("open")},a.socket.onmessage=function(e){return a.emit("message",e.data)},a.socket.onerror=function(e){return a.emit("error",e)},a.socket.onclose=function(e){a.emit("close",e.code,e.reason)},a}return(0,n.default)(o,[{key:"send",value:function(e,t,r){var n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,r){this.socket.addEventListener(e,t,r)}}]),o}(eventemitter3.exports.EventEmitter)}(websocket_browser);var client={},asyncToGenerator={exports:{}};!function(e){function t(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(asyncToGenerator);var specialChar="~",safeSpecialChar="\\x"+("0"+specialChar.charCodeAt(0).toString(16)).slice(-2),escapedSafeSpecialChar="\\"+safeSpecialChar,specialCharRG=new RegExp(safeSpecialChar,"g"),safeSpecialCharRG=new RegExp(escapedSafeSpecialChar,"g"),safeStartWithSpecialCharRG=new RegExp("(?:^|([^\\\\]))"+escapedSafeSpecialChar),indexOf=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},$String=String;function generateReplacer(e,t,r){var n,i,o=!1,a=!!t,s=[],u=[e],c=[e],l=[r?specialChar:"[Circular]"],f=e,h=1;return a&&(i="object"===_typeof$2(t)?function(e,r){return""!==e&&t.indexOf(e)<0?void 0:r}:t),function(e,t){return a&&(t=i.call(this,e,t)),o?(f!==this&&(n=h-indexOf.call(u,this)-1,h-=n,u.splice(h,u.length),s.splice(h-1,s.length),f=this),"object"===_typeof$2(t)&&t?(indexOf.call(u,t)<0&&u.push(f=t),h=u.length,(n=indexOf.call(c,t))<0?(n=c.push(t)-1,r?(s.push((""+e).replace(specialCharRG,safeSpecialChar)),l[n]=specialChar+s.join(specialChar)):l[n]=l[0]):t=l[n]):"string"==typeof t&&r&&(t=t.replace(safeSpecialChar,escapedSafeSpecialChar).replace(specialChar,safeSpecialChar))):o=!0,t}}function retrieveFromPath(e,t){for(var r=0,n=t.length;r<n;e=e[t[r++].replace(safeSpecialCharRG,specialChar)]);return e}function generateReviver(e){return function(t,r){var n="string"==typeof r;return n&&r.charAt(0)===specialChar?new $String(r.slice(1)):(""===t&&(r=regenerate(r,r,{})),n&&(r=r.replace(safeStartWithSpecialCharRG,"$1"+specialChar).replace(escapedSafeSpecialChar,safeSpecialChar)),e?e.call(this,t,r):r)}}function regenerateArray(e,t,r){for(var n=0,i=t.length;n<i;n++)t[n]=regenerate(e,t[n],r);return t}function regenerateObject(e,t,r){for(var n in t)t.hasOwnProperty(n)&&(t[n]=regenerate(e,t[n],r));return t}function regenerate(e,t,r){return t instanceof Array?regenerateArray(e,t,r):t instanceof $String?t.length?r.hasOwnProperty(t)?r[t]:r[t]=retrieveFromPath(e,t.split(specialChar)):e:t instanceof Object?regenerateObject(e,t,r):t}var CircularJSON={stringify:function(e,t,r,n){return CircularJSON.parser.stringify(e,generateReplacer(e,t,!n),r)},parse:function(e,t){return CircularJSON.parser.parse(e,generateReviver(t))},parser:JSON},circularJson_node=CircularJSON;!function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(regenerator),n=t(asyncToGenerator.exports),i=t(_typeof.exports),o=t(classCallCheck.exports),a=t(createClass.exports),s=t(inherits$1.exports),u=t(possibleConstructorReturn.exports),c=t(getPrototypeOf.exports),l=eventemitter3.exports,f=t(circularJson_node);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},p=function(e){(0,s.default)(y,e);var t,u,c,l,p=h(y);function y(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,o.default)(this,y);var a=n.autoconnect,s=void 0===a||a,u=n.reconnect,c=void 0===u||u,l=n.reconnect_interval,f=void 0===l?1e3:l,h=n.max_reconnects,m=void 0===h?5:h,v=d(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(t=p.call(this)).webSocketFactory=e,t.queue={},t.rpc_id=0,t.address=r,t.autoconnect=s,t.ready=!1,t.reconnect=c,t.reconnect_interval=f,t.max_reconnects=m,t.rest_options=v,t.current_reconnects=0,t.generate_request_id=i||function(){return++t.rpc_id},t.autoconnect&&t._connect(t.address,Object.assign({autoconnect:t.autoconnect,reconnect:t.reconnect,reconnect_interval:t.reconnect_interval,max_reconnects:t.max_reconnects},t.rest_options)),t}return(0,a.default)(y,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(e,t,r,n){var o=this;return n||"object"!==(0,i.default)(r)||(n=r,r=null),new Promise((function(i,a){if(!o.ready)return a(new Error("socket not ready"));var s=o.generate_request_id(e,t),u={jsonrpc:"2.0",method:e,params:t||null,id:s};o.socket.send(JSON.stringify(u),n,(function(e){if(e)return a(e);o.queue[s]={promise:[i,a]},r&&(o.queue[s].timeout=setTimeout((function(){delete o.queue[s],a(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(l=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rpc.login",t);case 2:if(n=e.sent){e.next=5;break}throw new Error("authentication failed");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"listMethods",value:(c=(0,n.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("__listMethods");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"notify",value:function(e,t){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:e,params:t||null};r.socket.send(JSON.stringify(o),(function(e){if(e)return i(e);n()}))}))}},{key:"subscribe",value:(u=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.on",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"unsubscribe",value:(t=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.off",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"close",value:function(e,t){this.socket.close(e||1e3,t)}},{key:"_connect",value:function(e,t){var r=this;this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var t=e.data;t instanceof ArrayBuffer&&(t=Buffer$j.from(t).toString());try{t=f.default.parse(t)}catch(e){return}if(t.notification&&r.listeners(t.notification).length){if(!Object.keys(t.params).length)return r.emit(t.notification);var n=[t.notification];if(t.params.constructor===Object)n.push(t.params);else for(var i=0;i<t.params.length;i++)n.push(t.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[t.id])return t.method&&t.params?Promise.resolve().then((function(){r.emit(t.method,t.params)})):void 0;"error"in t=="result"in t&&r.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[t.id].timeout&&clearTimeout(r.queue[t.id].timeout),t.error?r.queue[t.id].promise[1](t.error):r.queue[t.id].promise[0](t.result),delete r.queue[t.id]})),this.socket.addEventListener("error",(function(e){return r.emit("error",e)})),this.socket.addEventListener("close",(function(n){var i=n.code,o=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,o)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&setTimeout((function(){return r._connect(e,t)}),r.reconnect_interval))}))}}]),y}(l.EventEmitter);e.default=p}(client);var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0}),index_browser.Client=void 0;var _classCallCheck2=_interopRequireDefault(classCallCheck.exports),_inherits2=_interopRequireDefault(inherits$1.exports),_possibleConstructorReturn2=_interopRequireDefault(possibleConstructorReturn.exports),_getPrototypeOf2=_interopRequireDefault(getPrototypeOf.exports),_websocket=_interopRequireDefault(websocket_browser),_client=_interopRequireDefault(client);function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var r,n=(0,_getPrototypeOf2.default)(e);if(t){var i=(0,_getPrototypeOf2.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,r)}}function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Client=function(e){(0,_inherits2.default)(r,e);var t=_createSuper$1(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.autoconnect,o=void 0===i||i,a=n.reconnect,s=void 0===a||a,u=n.reconnect_interval,c=void 0===u?1e3:u,l=n.max_reconnects,f=void 0===l?5:l,h=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,r),t.call(this,_websocket.default,e,{autoconnect:o,reconnect:s,reconnect_interval:c,max_reconnects:f},h)}return r}(_client.default),getRandomValues;index_browser.Client=Client;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return"string"==typeof e&&REGEX.test(e)}for(var byteToHex=[],i=0,_nodeId,_clockseq;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}var _lastMSecs=0,_lastNSecs=0;function v1(e,t,r){var n=t&&r||0,i=t||new Array(16),o=(e=e||{}).node||_nodeId,a=void 0!==e.clockseq?e.clockseq:_clockseq;if(null==o||null==a){var s=e.random||(e.rng||rng)();null==o&&(o=_nodeId=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=_clockseq=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,l=u-_lastMSecs+(c-_lastNSecs)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>_lastMSecs)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=u,_lastNSecs=c,_clockseq=a;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var h=u/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=255&h,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var d=0;d<6;++d)i[n+d]=o[d];return t||stringify$1(i)}function parse(e){if(!validate(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}function stringToBytes(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=stringToBytes(e)),"string"==typeof n&&(n=parse(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return stringify$1(a)}try{n.name=e}catch(e){}return n.DNS=DNS,n.URL=URL$1,n}function md5(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(e),8*e.length))}function md5ToHexEncodedArray(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(a)}return t}function getOutputLength(e){return 14+(e+64>>>9<<4)+1}function wordsToMd5(e,t){e[t>>5]|=128<<t%32,e[getOutputLength(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,u=n,c=i,l=o;r=md5ff(r,n,i,o,e[a],7,-680876936),o=md5ff(o,r,n,i,e[a+1],12,-389564586),i=md5ff(i,o,r,n,e[a+2],17,606105819),n=md5ff(n,i,o,r,e[a+3],22,-1044525330),r=md5ff(r,n,i,o,e[a+4],7,-176418897),o=md5ff(o,r,n,i,e[a+5],12,1200080426),i=md5ff(i,o,r,n,e[a+6],17,-1473231341),n=md5ff(n,i,o,r,e[a+7],22,-45705983),r=md5ff(r,n,i,o,e[a+8],7,1770035416),o=md5ff(o,r,n,i,e[a+9],12,-1958414417),i=md5ff(i,o,r,n,e[a+10],17,-42063),n=md5ff(n,i,o,r,e[a+11],22,-1990404162),r=md5ff(r,n,i,o,e[a+12],7,1804603682),o=md5ff(o,r,n,i,e[a+13],12,-40341101),i=md5ff(i,o,r,n,e[a+14],17,-1502002290),r=md5gg(r,n=md5ff(n,i,o,r,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=md5gg(o,r,n,i,e[a+6],9,-1069501632),i=md5gg(i,o,r,n,e[a+11],14,643717713),n=md5gg(n,i,o,r,e[a],20,-373897302),r=md5gg(r,n,i,o,e[a+5],5,-701558691),o=md5gg(o,r,n,i,e[a+10],9,38016083),i=md5gg(i,o,r,n,e[a+15],14,-660478335),n=md5gg(n,i,o,r,e[a+4],20,-405537848),r=md5gg(r,n,i,o,e[a+9],5,568446438),o=md5gg(o,r,n,i,e[a+14],9,-1019803690),i=md5gg(i,o,r,n,e[a+3],14,-187363961),n=md5gg(n,i,o,r,e[a+8],20,1163531501),r=md5gg(r,n,i,o,e[a+13],5,-1444681467),o=md5gg(o,r,n,i,e[a+2],9,-51403784),i=md5gg(i,o,r,n,e[a+7],14,1735328473),r=md5hh(r,n=md5gg(n,i,o,r,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=md5hh(o,r,n,i,e[a+8],11,-2022574463),i=md5hh(i,o,r,n,e[a+11],16,1839030562),n=md5hh(n,i,o,r,e[a+14],23,-35309556),r=md5hh(r,n,i,o,e[a+1],4,-1530992060),o=md5hh(o,r,n,i,e[a+4],11,1272893353),i=md5hh(i,o,r,n,e[a+7],16,-155497632),n=md5hh(n,i,o,r,e[a+10],23,-1094730640),r=md5hh(r,n,i,o,e[a+13],4,681279174),o=md5hh(o,r,n,i,e[a],11,-358537222),i=md5hh(i,o,r,n,e[a+3],16,-722521979),n=md5hh(n,i,o,r,e[a+6],23,76029189),r=md5hh(r,n,i,o,e[a+9],4,-640364487),o=md5hh(o,r,n,i,e[a+12],11,-421815835),i=md5hh(i,o,r,n,e[a+15],16,530742520),r=md5ii(r,n=md5hh(n,i,o,r,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=md5ii(o,r,n,i,e[a+7],10,1126891415),i=md5ii(i,o,r,n,e[a+14],15,-1416354905),n=md5ii(n,i,o,r,e[a+5],21,-57434055),r=md5ii(r,n,i,o,e[a+12],6,1700485571),o=md5ii(o,r,n,i,e[a+3],10,-1894986606),i=md5ii(i,o,r,n,e[a+10],15,-1051523),n=md5ii(n,i,o,r,e[a+1],21,-2054922799),r=md5ii(r,n,i,o,e[a+8],6,1873313359),o=md5ii(o,r,n,i,e[a+15],10,-30611744),i=md5ii(i,o,r,n,e[a+6],15,-1560198380),n=md5ii(n,i,o,r,e[a+13],21,1309151649),r=md5ii(r,n,i,o,e[a+4],6,-145523070),o=md5ii(o,r,n,i,e[a+11],10,-1120210379),i=md5ii(i,o,r,n,e[a+2],15,718787259),n=md5ii(n,i,o,r,e[a+9],21,-343485551),r=safeAdd(r,s),n=safeAdd(n,u),i=safeAdd(i,c),o=safeAdd(o,l)}return[r,n,i,o]}function bytesToWords(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(getOutputLength(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}function safeAdd(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bitRotateLeft(e,t){return e<<t|e>>>32-t}function md5cmn(e,t,r,n,i,o){return safeAdd(bitRotateLeft(safeAdd(safeAdd(t,e),safeAdd(n,o)),i),r)}function md5ff(e,t,r,n,i,o,a){return md5cmn(t&r|~t&n,e,t,i,o,a)}function md5gg(e,t,r,n,i,o,a){return md5cmn(t&n|r&~n,e,t,i,o,a)}function md5hh(e,t,r,n,i,o,a){return md5cmn(t^r^n,e,t,i,o,a)}function md5ii(e,t,r,n,i,o,a){return md5cmn(r^(t|~n),e,t,i,o,a)}var v3=v35("v3",48,md5),v3$1=v3;function v4(e,t,r){var n=(e=e||{}).random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return stringify$1(n)}function f$1(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=s[f][d];for(var p=16;p<80;++p)h[p]=ROTL(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var y=r[0],m=r[1],v=r[2],g=r[3],b=r[4],w=0;w<80;++w){var _=Math.floor(w/20),$=ROTL(y,5)+f$1(_,m,v,g)+b+t[_]+h[w]>>>0;b=g,g=v,v=ROTL(m,30)>>>0,m=y,y=$}r[0]=r[0]+y>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$3(e){if(!validate(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var esmBrowser=Object.freeze({__proto__:null,v1:v1,v3:v3$1,v4:v4,v5:v5$1,NIL:nil,version:version$3,validate:validate,stringify:stringify$1,parse:parse}),require$$0=getAugmentedNamespace(esmBrowser);function ownKeys$3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$3(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}require$$0.v4,require$$0.v4;var toBuffer=function(e){return buffer.Buffer.isBuffer(e)?e:e instanceof Uint8Array?buffer.Buffer.from(e.buffer,e.byteOffset,e.byteLength):buffer.Buffer.from(e)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global$1?global$1:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hash$1={},utils$9={},minimalisticAssert=assert$6;function assert$6(e,t){if(!e)throw new Error(t||"Assertion failed")}assert$6.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var inherits_browser={exports:{}};"function"==typeof Object.create?inherits_browser.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var assert$5=minimalisticAssert,inherits=inherits_browser.exports;function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):isSurrogatePair(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function toHex32(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=htonl(i)),r+=zero8(i.toString(16))}return r}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function join32(e,t,r,n){var i=r-t;assert$5(i%4==0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=u>>>0}return o}function split32(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function rotr32$1(e,t){return e>>>t|e<<32-t}function rotl32$2(e,t){return e<<t|e>>>32-t}function sum32$3(e,t){return e+t>>>0}function sum32_3$1(e,t,r){return e+t+r>>>0}function sum32_4$2(e,t,r,n){return e+t+r+n>>>0}function sum32_5$2(e,t,r,n,i){return e+t+r+n+i>>>0}function sum64$1(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o}function sum64_hi$1(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0}function sum64_lo$1(e,t,r,n){return t+n>>>0}function sum64_4_hi$1(e,t,r,n,i,o,a,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0}function sum64_4_lo$1(e,t,r,n,i,o,a,s){return t+n+o+s>>>0}function sum64_5_hi$1(e,t,r,n,i,o,a,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+a+u+(l+=(f=f+c>>>0)<c?1:0)>>>0}function sum64_5_lo$1(e,t,r,n,i,o,a,s,u,c){return t+n+o+s+c>>>0}function rotr64_hi$1(e,t,r){return(t<<32-r|e>>>r)>>>0}function rotr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}function shr64_hi$1(e,t,r){return e>>>r}function shr64_lo$1(e,t,r){return(e<<32-r|t>>>r)>>>0}utils$9.inherits=inherits,utils$9.toArray=toArray,utils$9.toHex=toHex,utils$9.htonl=htonl,utils$9.toHex32=toHex32,utils$9.zero2=zero2,utils$9.zero8=zero8,utils$9.join32=join32,utils$9.split32=split32,utils$9.rotr32=rotr32$1,utils$9.rotl32=rotl32$2,utils$9.sum32=sum32$3,utils$9.sum32_3=sum32_3$1,utils$9.sum32_4=sum32_4$2,utils$9.sum32_5=sum32_5$2,utils$9.sum64=sum64$1,utils$9.sum64_hi=sum64_hi$1,utils$9.sum64_lo=sum64_lo$1,utils$9.sum64_4_hi=sum64_4_hi$1,utils$9.sum64_4_lo=sum64_4_lo$1,utils$9.sum64_5_hi=sum64_5_hi$1,utils$9.sum64_5_lo=sum64_5_lo$1,utils$9.rotr64_hi=rotr64_hi$1,utils$9.rotr64_lo=rotr64_lo$1,utils$9.shr64_hi=shr64_hi$1,utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$4=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(e,t){if(e=utils$8.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=utils$8.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$4(null===this.pending),this._digest(e)},BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(e,t,r,n){return 0===e?ch32$1(t,r,n):1===e||3===e?p32(t,r,n):2===e?maj32$1(t,r,n):void 0}function ch32$1(e,t,r){return e&t^~e&r}function maj32$1(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}function s0_256$1(e){return rotr32(e,2)^rotr32(e,13)^rotr32(e,22)}function s1_256$1(e){return rotr32(e,6)^rotr32(e,11)^rotr32(e,25)}function g0_256$1(e){return rotr32(e,7)^rotr32(e,18)^e>>>3}function g1_256$1(e){return rotr32(e,17)^rotr32(e,19)^e>>>10}common$4.ft_1=ft_1$1,common$4.ch32=ch32$1,common$4.maj32=maj32$1,common$4.p32=p32,common$4.s0_256=s0_256$1,common$4.s1_256=s1_256$1,common$4.g0_256=g0_256$1,common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=rotl32$1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=sum32_5$1(rotl32$1(i,5),ft_1(c,o,a,s),u,r[n],sha1_K[c]);u=s,s=a,a=rotl32$1(o,30),o=i,i=l}this.h[0]=sum32$2(this.h[0],i),this.h[1]=sum32$2(this.h[1],o),this.h[2]=sum32$2(this.h[2],a),this.h[3]=sum32$2(this.h[3],s),this.h[4]=sum32$2(this.h[4],u)},SHA1.prototype._digest=function(e){return"hex"===e?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$3=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=sum32_4$1(g1_256(r[n-2]),r[n-7],g0_256(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(assert$3(this.k.length===r.length),n=0;n<r.length;n++){var h=sum32_5(f,s1_256(u),ch32(u,c,l),this.k[n],r[n]),d=sum32$1(s0_256(i),maj32(i,o,a));f=l,l=c,c=u,u=sum32$1(s,h),s=a,a=o,o=i,i=sum32$1(h,d)}this.h[0]=sum32$1(this.h[0],i),this.h[1]=sum32$1(this.h[1],o),this.h[2]=sum32$1(this.h[2],a),this.h[3]=sum32$1(this.h[3],s),this.h[4]=sum32$1(this.h[4],u),this.h[5]=sum32$1(this.h[5],c),this.h[6]=sum32$1(this.h[6],l),this.h[7]=sum32$1(this.h[7],f)},SHA256$1.prototype._digest=function(e){return"hex"===e?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(e){return"hex"===e?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$2=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;function ch64_hi(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function ch64_lo(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function maj64_hi(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function maj64_lo(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function s0_512_hi(e,t){var r=rotr64_hi(e,t,28)^rotr64_hi(t,e,2)^rotr64_hi(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo(e,t){var r=rotr64_lo(e,t,28)^rotr64_lo(t,e,2)^rotr64_lo(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi(e,t){var r=rotr64_hi(e,t,14)^rotr64_hi(e,t,18)^rotr64_hi(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo(e,t){var r=rotr64_lo(e,t,14)^rotr64_lo(e,t,18)^rotr64_lo(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi(e,t){var r=rotr64_hi(e,t,1)^rotr64_hi(e,t,8)^shr64_hi(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo(e,t){var r=rotr64_lo(e,t,1)^rotr64_lo(e,t,8)^shr64_lo(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi(e,t){var r=rotr64_hi(e,t,19)^rotr64_hi(t,e,29)^shr64_hi(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo(e,t){var r=rotr64_lo(e,t,19)^rotr64_lo(t,e,29)^shr64_lo(e,t,6);return r<0&&(r+=4294967296),r}SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=g1_512_hi(r[n-4],r[n-3]),o=g1_512_lo(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=g0_512_hi(r[n-30],r[n-29]),c=g0_512_lo(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=sum64_4_hi(i,o,a,s,u,c,l,f),r[n+1]=sum64_4_lo(i,o,a,s,u,c,l,f)}},SHA512$1.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],y=this.h[12],m=this.h[13],v=this.h[14],g=this.h[15];assert$2(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=g,$=s1_512_hi(f,h),x=s1_512_lo(f,h),S=ch64_hi(f,h,d,p,y),k=ch64_lo(f,h,d,p,y,m),A=this.k[b],E=this.k[b+1],T=r[b],M=r[b+1],I=sum64_5_hi(w,_,$,x,S,k,A,E,T,M),R=sum64_5_lo(w,_,$,x,S,k,A,E,T,M);w=s0_512_hi(n,i),_=s0_512_lo(n,i),$=maj64_hi(n,i,o,a,s),x=maj64_lo(n,i,o,a,s,u);var O=sum64_hi(w,_,$,x),P=sum64_lo(w,_,$,x);v=y,g=m,y=d,m=p,d=f,p=h,f=sum64_hi(c,l,I,R),h=sum64_lo(l,l,I,R),c=s,l=u,s=o,u=a,o=n,a=i,n=sum64_hi(I,R,O,P),i=sum64_lo(I,R,O,P)}sum64(this.h,0,n,i),sum64(this.h,2,o,a),sum64(this.h,4,s,u),sum64(this.h,6,c,l),sum64(this.h,8,f,h),sum64(this.h,10,d,p),sum64(this.h,12,y,m),sum64(this.h,14,v,g)},SHA512$1.prototype._digest=function(e){return"hex"===e?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(e){return"hex"===e?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$1=utils$9,common=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function K(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}utils$1.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=n,l=i,h=o,d=a,p=u,y=0;y<80;y++){var m=sum32(rotl32(sum32_4(n,f(y,i,o,a),e[r[y]+t],K(y)),s[y]),u);n=u,u=a,a=rotl32(o,10),o=i,i=m,m=sum32(rotl32(sum32_4(c,f(79-y,l,h,d),e[rh[y]+t],Kh(y)),sh[y]),p),c=p,p=d,d=rotl32(h,10),h=l,l=m}m=sum32_3(this.h[1],o,d),this.h[1]=sum32_3(this.h[2],a,p),this.h[2]=sum32_3(this.h[3],u,c),this.h[3]=sum32_3(this.h[4],n,l),this.h[4]=sum32_3(this.h[0],i,h),this.h[0]=m},RIPEMD160.prototype._digest=function(e){return"hex"===e?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$a=utils$9,assert$1=minimalisticAssert;function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(utils$a.toArray(t,r))}var hmac=Hmac;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),assert$1(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=utils$9,t.common=common$5,t.sha=sha,t.ripemd=ripemd,t.hmac=hmac,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash$1);var hash$2=hash$1,version$2="logger/5.6.0",_permanentCensorErrors=!1,_censorErrors=!1,LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5},_logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var _normalizeError=_checkNormalize(),LogLevel,ErrorCode;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(LogLevel||(LogLevel={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ErrorCode||(ErrorCode={}));var HEX="0123456789abcdef",Logger=function(){function e(t){_classCallCheck$1(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return _createClass$1(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==LogLevels[r]&&this.throwArgumentError("invalid log level name","logLevel",e),_logLevel>LogLevels[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(_censorErrors)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",o=0;o<t.length;o++)r+=HEX[t[o]>>4],r+=HEX[15&t[o]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var o=t,a="";switch(r){case ErrorCode.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:a=r}a&&(t+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=o,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){_normalizeError&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}},{key:"checkSafeUint53",value:function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return _globalLogger||(_globalLogger=new e(version$2)),_globalLogger}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!t,_permanentCensorErrors=!!r}},{key:"setLogLevel",value:function(t){var r=LogLevels[t.toLowerCase()];null!=r?_logLevel=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Logger.errors=ErrorCode,Logger.levels=LogLevel;var version$1="bytes/5.6.0",logger=new Logger(version$1);function isHexable(e){return!!e.toHexString}function addSlice(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function isInteger(e){return"number"==typeof e&&e==e&&e%1==0}function isBytes(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!isInteger(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!isInteger(r)||r<0||r>=256)return!1}return!0}function arrayify(e,t){if(t||(t={}),"number"==typeof e){logger.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),addSlice(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),isHexable(e)&&(e=e.toHexString()),isHexString$1(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":logger.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return addSlice(new Uint8Array(i))}return isBytes(e)?addSlice(new Uint8Array(e)):logger.throwArgumentError("invalid arrayify value","value",e)}function isHexString$1(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var version="sha2/5.6.0";function sha256(e){return"0x"+hash$2.sha256().update(arrayify(e)).digest("hex")}new Logger(version);var Struct=function(){function e(t){_classCallCheck$1(this,e),Object.assign(this,t)}return _createClass$1(e,[{key:"encode",value:function(){return buffer.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}}],[{key:"decode",value:function(e){return deserialize_1(SOLANA_SCHEMA,this,e)}},{key:"decodeUnchecked",value:function(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}]),e}(),SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32;function isPublicKeyData(e){return void 0!==e._bn}var PublicKey=function(e){_inherits(o,e);var t,r,n,i=_createSuper(o);function o(e){var t;if(_classCallCheck$1(this,o),(t=i.call(this,{}))._bn=void 0,isPublicKeyData(e))t._bn=e._bn;else{if("string"==typeof e){var r=bs58.decode(e);if(32!=r.length)throw new Error("Invalid public key input");t._bn=new BN$4(r)}else t._bn=new BN$4(e);if(t._bn.byteLength()>32)throw new Error("Invalid public key input")}return t}return _createClass$1(o,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return bs58.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(buffer.Buffer);if(32===e.length)return e;var t=buffer.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:(n=_asyncToGenerator(regenerator.mark((function e(t,r,n){var i,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=buffer.Buffer.concat([t.toBuffer(),buffer.Buffer.from(r),n.toBuffer()]),a=sha256(new Uint8Array(i)).slice(2),e.abrupt("return",new o(buffer.Buffer.from(a,"hex")));case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createProgramAddress",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=buffer.Buffer.alloc(0),t.forEach((function(e){if(e.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=buffer.Buffer.concat([n,toBuffer(e)])})),n=buffer.Buffer.concat([n,r.toBuffer(),buffer.Buffer.from("ProgramDerivedAddress")]),i=sha256(new Uint8Array(n)).slice(2),!is_on_curve(a=new BN$4(i,16).toArray(void 0,32))){e.next=7;break}throw new Error("Invalid seeds, address must fall off the curve");case 7:return e.abrupt("return",new o(a));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"findProgramAddress",value:(t=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=255;case 1:if(0==n){e.next=18;break}return e.prev=2,o=t.concat(buffer.Buffer.from([n])),e.next=6,this.createProgramAddress(o,r);case 6:i=e.sent,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof TypeError)){e.next=13;break}throw e.t0;case 13:return n--,e.abrupt("continue",1);case 15:return e.abrupt("return",[i,n]);case 18:throw new Error("Unable to find a viable program address nonce");case 19:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,r){return t.apply(this,arguments)})},{key:"isOnCurve",value:function(e){return 1==is_on_curve(e)}}]),o}(Struct);PublicKey.default=new PublicKey("11111111111111111111111111111111"),SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});var naclLowLevel=nacl$1.lowlevel;function is_on_curve(e){var t=[naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf()],r=naclLowLevel.gf(),n=naclLowLevel.gf(),i=naclLowLevel.gf(),o=naclLowLevel.gf(),a=naclLowLevel.gf(),s=naclLowLevel.gf(),u=naclLowLevel.gf();return naclLowLevel.set25519(t[2],gf1),naclLowLevel.unpack25519(t[1],e),naclLowLevel.S(i,t[1]),naclLowLevel.M(o,i,naclLowLevel.D),naclLowLevel.Z(i,i,t[2]),naclLowLevel.A(o,t[2],o),naclLowLevel.S(a,o),naclLowLevel.S(s,a),naclLowLevel.M(u,s,a),naclLowLevel.M(r,u,i),naclLowLevel.M(r,r,o),naclLowLevel.pow2523(r,r),naclLowLevel.M(r,r,i),naclLowLevel.M(r,r,o),naclLowLevel.M(r,r,o),naclLowLevel.M(t[0],r,o),naclLowLevel.S(n,t[0]),naclLowLevel.M(n,n,o),neq25519(n,i)&&naclLowLevel.M(t[0],t[0],I),naclLowLevel.S(n,t[0]),naclLowLevel.M(n,n,o),neq25519(n,i)?0:1}var gf1=naclLowLevel.gf([1]),I=naclLowLevel.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function neq25519(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return naclLowLevel.pack25519(r,e),naclLowLevel.pack25519(n,t),naclLowLevel.crypto_verify_32(r,0,n,0)}new PublicKey("BPFLoader1111111111111111111111111111111111");var publicKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return blob(32,e)},rustString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:buffer.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return u32().span+u32().span+buffer.Buffer.from(e,"utf8").length},i},authorized=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return struct([publicKey("staker"),publicKey("withdrawer")],e)},lockup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return struct([ns64("unixTimestamp"),ns64("epoch"),publicKey("custodian")],e)},voteInit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),u8("commission")],e)};buffer.Buffer.alloc(64).fill(0),new PublicKey("SysvarC1ock11111111111111111111111111111111"),new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),new PublicKey("Sysvar1nstructions1111111111111111111111111"),new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),new PublicKey("SysvarRent111111111111111111111111111111111"),new PublicKey("SysvarRewards111111111111111111111111111111"),new PublicKey("SysvarS1otHashes111111111111111111111111111"),new PublicKey("SysvarS1otHistory11111111111111111111111111"),new PublicKey("SysvarStakeHistory1111111111111111111111111");var FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct([u32("version"),u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),struct([FeeCalculatorLayout],"feeCalculator")]);NonceAccountLayout.span,Object.freeze({Create:{index:0,layout:struct([u32("instruction"),ns64("lamports"),ns64("space"),publicKey("programId")])},Assign:{index:1,layout:struct([u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:struct([u32("instruction"),ns64("lamports")])},CreateWithSeed:{index:3,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:struct([u32("instruction")])},WithdrawNonceAccount:{index:5,layout:struct([u32("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct([u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct([u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:struct([u32("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:struct([u32("instruction"),ns64("lamports"),rustString("seed"),publicKey("programId")])}}),new PublicKey("11111111111111111111111111111111"),new PublicKey("BPFLoader2111111111111111111111111111111111");var browserPonyfill={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:commonjsGlobal,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var $=[301,302,303,307,308];_.redirect=function(e,t){if(-1===$.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,o){var a=new b(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new _(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(browserPonyfill,browserPonyfill.exports),browserPonyfill.exports;var PublicKeyFromString=coerce(instance(PublicKey),string(),(function(e){return new PublicKey(e)})),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer.Buffer),RawAccountDataResult,(function(e){return buffer.Buffer.from(e[0],"base64")}));function createRpcResult(e){return union([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}var UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(e){return coerce(createRpcResult(e),UnknownRpcResult,(function(t){return"error"in t?t:_objectSpread$3(_objectSpread$3({},t),{},{result:_create(t.result,e)})}))}function jsonRpcResultAndContext(e){return jsonRpcResult(type({context:type({slot:number()}),value:e}))}function notificationResultAndContext(e){return type({context:type({slot:number()}),value:e})}var GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()});jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()}))));var GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:_boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature");type({"solana-core":string(),"feature-set":optional(number())}),jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:_boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())})),jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})})),jsonRpcResult(GetInflationGovernorResult),jsonRpcResult(GetEpochInfoResult),jsonRpcResult(GetEpochScheduleResult),jsonRpcResult(GetLeaderScheduleResult),jsonRpcResult(number()),jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)}));var TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())});jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:_boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})})));var ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()});jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:_boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString})));var AccountInfoResult=type({executable:_boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:AccountInfoResult});var ParsedOrRawAccountData=coerce(union([instance(buffer.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),(function(e){return Array.isArray(e)?_create(e,BufferFromRawAccountData):e})),ParsedAccountInfoResult=type({executable:_boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)});var ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult});type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)});var SlotInfoResult=type({parent:number(),slot:number(),root:number()});type({subscription:number(),result:SlotInfoResult});var SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]);type({subscription:number(),result:SlotUpdateResult}),type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),type({subscription:number(),result:number()}),type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())});var VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:_boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())});jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)}));var ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)});jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),jsonRpcResult(number());var ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string()})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,(function(e){return _create(e,"accounts"in e?RawInstructionResult:ParsedInstructionResult)})),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:_boolean(),writable:_boolean()})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string()})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult)))}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult)))});jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number()),blockHeight:nullable(number())}))),jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult}))),jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number()))}))),jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()}));var PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()});jsonRpcResult(array(PerfSampleResult)),jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),jsonRpcResult(string()),jsonRpcResult(string());var LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()});type({result:notificationResultAndContext(LogsResult),subscription:number()});var Keypair=function(){function e(t){_classCallCheck$1(this,e),this._keypair=void 0,this._keypair=t||nacl$1.sign.keyPair()}return _createClass$1(e,[{key:"publicKey",get:function(){return new PublicKey(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(nacl$1.sign.keyPair())}},{key:"fromSecretKey",value:function(t,r){var n=nacl$1.sign.keyPair.fromSecretKey(t);if(!r||!r.skipValidation){var i=(new TextEncoder).encode("@solana/web3.js-validation-v1"),o=nacl$1.sign.detached(i,n.secretKey);if(!nacl$1.sign.detached.verify(i,o,n.publicKey))throw new Error("provided secretKey is invalid")}return new e(n)}},{key:"fromSeed",value:function(t){return new e(nacl$1.sign.keyPair.fromSeed(t))}}]),e}();struct([u8("numSignatures"),u8("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]),new PublicKey("Ed25519SigVerify111111111111111111111111111"),new PublicKey("StakeConfig11111111111111111111111111111111");var Lockup=_createClass$1((function e(t,r,n){_classCallCheck$1(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));Lockup.default=new Lockup(0,0,PublicKey.default),Object.freeze({Initialize:{index:0,layout:struct([u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType")])},Delegate:{index:2,layout:struct([u32("instruction")])},Split:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct([u32("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct([u32("instruction")])},Merge:{index:7,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:8,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new PublicKey("Stake11111111111111111111111111111111111111"),elliptic.publicKeyCreate,elliptic.ecdsaSign,struct([u8("numSignatures"),u16("signatureOffset"),u8("signatureInstructionIndex"),u16("ethAddressOffset"),u8("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8("messageInstructionIndex"),blob(20,"ethAddress"),blob(64,"signature"),u8("recoveryId")]),new PublicKey("KeccakSecp256k11111111111111111111111111111"),new PublicKey("Va1idator1nfo111111111111111111111111111111"),type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())}),new PublicKey("Vote111111111111111111111111111111111111111"),struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),u8("commission"),nu64(),seq(struct([nu64("slot"),u32("confirmationCount")]),offset(u32(),-8),"votes"),u8("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct([nu64("epoch"),publicKey("authorizedVoter")]),offset(u32(),-8),"authorizedVoters"),struct([seq(struct([publicKey("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8("isEmpty")],"priorVoters"),nu64(),seq(struct([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32(),-8),"epochCredits"),struct([nu64("slot"),nu64("timestamp")],"lastTimestamp")]),Object.freeze({InitializeAccount:{index:0,layout:struct([u32("instruction"),voteInit()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("voteAuthorizationType")])},Withdraw:{index:3,layout:struct([u32("instruction"),ns64("lamports")])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new PublicKey("Vote111111111111111111111111111111111111111"),Keypair.generate();var crc32c={};
/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */function _createForOfIteratorHelper$1(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$1(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray$1(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$1(e,t):void 0}}function _arrayLikeToArray$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){!function(t){"undefined"==typeof DO_NOT_EXPORT_CRC?t(e):t({})}((function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1)?-2097792136^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var o=[];for(n=1;16!=n;++n)o[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return o}(t),n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],f=r[8],h=r[9],d=r[10],p=r[11],y=r[12],m=r[13],v=r[14];e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,o=e.length;i<o;)n=n>>>8^t[255&(n^e.charCodeAt(i++))];return~n},e.buf=function(e,r){for(var g=-1^r,b=e.length-15,w=0;w<b;)g=v[e[w++]^255&g]^m[e[w++]^g>>8&255]^y[e[w++]^g>>16&255]^p[e[w++]^g>>>24]^d[e[w++]]^h[e[w++]]^f[e[w++]]^l[e[w++]]^c[e[w++]]^u[e[w++]]^s[e[w++]]^a[e[w++]]^o[e[w++]]^i[e[w++]]^n[e[w++]]^t[e[w++]];for(b+=15;w<b;)g=g>>>8^t[255&(g^e[w++])];return~g},e.str=function(e,r){for(var n=-1^r,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?n=n>>>8^t[255&(n^a)]:a<2048?n=(n=n>>>8^t[255&(n^(192|a>>6&31))])>>>8^t[255&(n^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[255&(n^(240|a>>8&7))])>>>8^t[255&(n^(128|a>>2&63))])>>>8^t[255&(n^(128|s>>6&15|(3&a)<<4))])>>>8^t[255&(n^(128|63&s))]):n=(n=(n=n>>>8^t[255&(n^(224|a>>12&15))])>>>8^t[255&(n^(128|a>>6&63))])>>>8^t[255&(n^(128|63&a))];return~n}}))}(crc32c);var NodeScore=_createClass$1((function e(t){_classCallCheck$1(this,e),_defineProperty$3(this,"node",void 0),_defineProperty$3(this,"score",void 0),this.node=t,this.score=0})),RendezvousHash=function(){function e(){_classCallCheck$1(this,e),_defineProperty$3(this,"nodes",[]),this.add.apply(this,arguments)}return _createClass$1(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.nodes.push(new NodeScore(buffer$1.Buffer.from(o)))}}},{key:"get",value:function(e){var t,r,n,i=0,o=null,a=buffer$1.Buffer.from(e),s=_createForOfIteratorHelper$1(this.nodes);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=this.hash(u.node,a);(c>i||c===i&&u.node.compare(o)<0)&&(i=c,o=u.node)}}catch(e){s.e(e)}finally{s.f()}return null!==(t=null===(r=o)||void 0===r?void 0:r.toString())&&void 0!==t?t:""}},{key:"getN",value:function(e,t){var r,n=buffer$1.Buffer.from(t),i=_createForOfIteratorHelper$1(this.nodes);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.score=this.hash(o.node,n)}}catch(e){i.e(e)}finally{i.f()}this.nodes.sort((function(e,t){return e.score===t.score?e.node.compare(t.node):t.score-e.score})),e>this.nodes.length&&(e=this.nodes.length);for(var a=[],s=0;s<e;s++)a.push(this.nodes[s].node.toString());return a}},{key:"getNodes",value:function(){return this.nodes.map((function(e){return e.node.toString()}))}},{key:"hash",value:function(e,t){var r=buffer$1.Buffer.concat([t,e]);return crc32c.buf(r,0)>>>0}}]),e}(),isNodeHealthy=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:console,e.prev=1,e.next=4,axios({baseURL:t,url:"/health_check",method:"get",timeout:3e3});case 4:if(200!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",!0);case 9:return r.warn("isNodeHealthy: ".concat(t," returned non-200 status ").concat(n.status)),e.abrupt("return",!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),r.error("isNodeHealthy: Error checking health: ".concat(e.t0)),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),defaultStorageNodeSelectorConfig={bootstrapNodes:servicesConfig.storageNodes,logger:new Logger$1},DISCOVERY_RESPONSE_TIMEOUT=15e3,StorageNodeSelector=function(){function e(t){var r,n,i=this;_classCallCheck$1(this,e),_defineProperty$3(this,"config",void 0),_defineProperty$3(this,"auth",void 0),_defineProperty$3(this,"logger",void 0),_defineProperty$3(this,"nodes",void 0),_defineProperty$3(this,"orderedNodes",void 0),_defineProperty$3(this,"selectedNode",void 0),_defineProperty$3(this,"selectedDiscoveryNode",void 0),_defineProperty$3(this,"discoveryNodeSelector",void 0),_defineProperty$3(this,"initialDiscoveryFetchPromise",void 0),_defineProperty$3(this,"resolveInitialDiscoveryFetchPromise",(function(){})),this.config=mergeConfigWithDefaults(t,defaultStorageNodeSelectorConfig),this.discoveryNodeSelector=t.discoveryNodeSelector,this.auth=t.auth,this.logger=this.config.logger.createPrefixedLogger("[storage-node-selector]"),this.nodes=null!==(r=this.config.bootstrapNodes)&&void 0!==r?r:[],null===(n=this.discoveryNodeSelector)||void 0===n||n.addEventListener("change",this.onChangeDiscoveryNode.bind(this)),this.checkIfDiscoveryNodeAlreadyAvailable(),this.initialDiscoveryFetchPromise=new Promise((function(e){i.resolveInitialDiscoveryFetchPromise=e}))}var t,r,n,i;return _createClass$1(e,[{key:"checkIfDiscoveryNodeAlreadyAvailable",value:(i=_asyncToGenerator(regenerator.mark((function e(){var t,r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.discoveryNodeSelector)||void 0===t?void 0:t.getSelectedEndpoint();case 2:(r=e.sent)&&this.onChangeDiscoveryNode(r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onChangeDiscoveryNode",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("Updating list of available content nodes"),this.selectedDiscoveryNode!==t){e.next=3;break}return e.abrupt("return");case 3:return this.selectedDiscoveryNode=t,n="".concat(t,"/health_check"),e.next=7,fetch$1(n);case 7:if((i=e.sent).ok){e.next=11;break}return this.logger.warn("Discovery provider health check did not respond successfully"),e.abrupt("return");case 11:return e.next=13,i.json();case 13:if(o=e.sent,a=null===(r=o.data.network)||void 0===r?void 0:r.content_nodes){e.next=18;break}return this.logger.warn("Discovery provider health check did not contain any available content nodes"),e.abrupt("return");case 18:this.nodes=a,this.resolveInitialDiscoveryFetchPromise();case 20:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getSelectedNode",value:(r=_asyncToGenerator(regenerator.mark((function e(){var t=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.selectedNode){e.next=2;break}return e.abrupt("return",this.selectedNode);case 2:if(this.nodes.length){e.next=5;break}return e.next=5,Promise.race([this.initialDiscoveryFetchPromise,new Promise((function(e){return setTimeout((function(){t.logger.warn("List of storage nodes could not be fetched"),e()}),DISCOVERY_RESPONSE_TIMEOUT)}))]);case 5:return e.next=7,this.select();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getNodes",value:function(e){return this.orderNodes(e)}},{key:"select",value:(t=_asyncToGenerator(regenerator.mark((function e(){var t,r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.orderedNodes){e.next=8;break}return e.t0=this,e.next=4,this.auth.getAddress();case 4:return e.t1=e.sent.toLowerCase(),e.next=7,e.t0.orderNodes.call(e.t0,e.t1);case 7:this.orderedNodes=e.sent;case 8:if(0!==this.orderedNodes.length){e.next=10;break}return e.abrupt("return",null);case 10:r=this.selectedNode?this.orderedNodes.indexOf(this.selectedNode):-1,i=r;case 12:if(n){e.next=25;break}if((i=(i+1)%this.orderedNodes.length)!==r){e.next=16;break}return e.abrupt("break",25);case 16:if(o=this.orderedNodes[i]){e.next=19;break}return e.abrupt("continue",12);case 19:return e.next=21,isNodeHealthy(o);case 21:if(!e.sent){e.next=23;break}n=o;case 23:e.next=12;break;case 25:return this.selectedNode=n,this.logger.info("Selected content node",this.selectedNode),e.abrupt("return",null!==(t=this.selectedNode)&&void 0!==t?t:null);case 28:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"orderNodes",value:function(e){var t=this.nodes.map((function(e){return e.endpoint.toLowerCase()}));return _construct(RendezvousHash,_toConsumableArray(t)).getN(this.nodes.length,e)}}]),e}(),domains={};function getDomainData(e,t,r,n){return{name:e,version:t,chainId:r,verifyingContract:n}}domains.getEntityManagerDomain=function(e,t){return getDomainData("Entity Manager","1",e,t)};var schemas={domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],manageEntity:[{name:"userId",type:"uint"},{name:"entityType",type:"string"},{name:"entityId",type:"uint"},{name:"action",type:"string"},{name:"metadata",type:"string"},{name:"nonce",type:"bytes32"}]},generators={},nodeCrypto;function getRequestData(e,t,r,n,i,o){var a=e(t,r),s={EIP712Domain:schemas.domain};return s[n]=i,{types:s,domain:a,primaryType:n,message:o}}function browserRandomHash(e){var t=Math.ceil(e=(+e||8)/2),r=new Uint8Array(t);window.crypto.getRandomValues(r);var n=Array.prototype.map.call(r,(function(e){return function(e){return"00".slice(e.length)+e}(e.toString(16))})),i=n.join("").toLowerCase();return e%2&&(i=i.slice(1)),i}generators.getAddUserRequestData=function(e,t,r,n){var i={handle:r,nonce:n};return getRequestData(domains.getUserFactoryDomain,e,t,"AddUserRequest",schemas.addUserRequest,i)},generators.getManageEntityData=function(e,t,r,n,i,o,a,s){var u={userId:r,entityType:n,entityId:i,action:o,metadata:a,nonce:s};return getRequestData(domains.getEntityManagerDomain,e,t,"ManageEntity",schemas.manageEntity,u)};try{nodeCrypto=require("crypto")}catch(e){nodeCrypto=null}function getNonce(){return"undefined"==typeof window||null===window?"0x"+nodeCrypto.randomBytes(32).toString("hex"):"0x"+browserRandomHash(64)}var signatureSchemas={domains:domains,schemas:schemas,generators:generators,getNonce:getNonce},abi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_userId",type:"uint256"},{indexed:!1,internalType:"address",name:"_signer",type:"address"},{indexed:!1,internalType:"string",name:"_entityType",type:"string"},{indexed:!1,internalType:"uint256",name:"_entityId",type:"uint256"},{indexed:!1,internalType:"string",name:"_metadata",type:"string"},{indexed:!1,internalType:"string",name:"_action",type:"string"}],name:"ManageEntity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_userId",type:"uint256"},{indexed:!1,internalType:"bool",name:"_isVerified",type:"bool"}],name:"ManageIsVerified",type:"event"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedSignatures",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_verifierAddress",type:"address"},{internalType:"uint256",name:"_networkId",type:"uint256"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_userId",type:"uint256"},{internalType:"string",name:"_entityType",type:"string"},{internalType:"uint256",name:"_entityId",type:"uint256"},{internalType:"string",name:"_action",type:"string"},{internalType:"string",name:"_metadata",type:"string"},{internalType:"bytes32",name:"_nonce",type:"bytes32"},{internalType:"bytes",name:"_subjectSig",type:"bytes"}],name:"manageEntity",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_userId",type:"uint256"},{internalType:"bool",name:"_isVerified",type:"bool"}],name:"manageIsVerified",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],defaultEntityManagerConfig={contractAddress:servicesConfig.entityManagerContractAddress,web3ProviderUrl:servicesConfig.web3ProviderUrl,identityServiceUrl:servicesConfig.identityServiceUrl,useDiscoveryRelay:!1,logger:new Logger$1},DEFAULT_GAS_LIMIT=2e6,CONFIRMATION_POLLING_INTERVAL=2e3,CONFIRMATION_TIMEOUT=45e3,EntityManager=function(){function e(t){_classCallCheck$1(this,e),_defineProperty$3(this,"config",void 0),_defineProperty$3(this,"discoveryNodeSelector",void 0),_defineProperty$3(this,"contract",void 0),_defineProperty$3(this,"web3",void 0),_defineProperty$3(this,"logger",void 0),this.config=mergeConfigWithDefaults(t,defaultEntityManagerConfig),this.discoveryNodeSelector=t.discoveryNodeSelector,this.web3=new Web3$1(new Web3$1.providers.HttpProvider(this.config.web3ProviderUrl,{timeout:1e4})),this.contract=new this.web3.eth.Contract(abi,this.config.contractAddress),this.logger=this.config.logger.createPrefixedLogger("[entity-manager]")}var t,r,n,i;return _createClass$1(e,[{key:"manageEntity",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,h,d,p,y,m,v,g,b,w,_;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n=t.entityType,i=t.entityId,o=t.action,a=t.metadata,s=void 0===a?"":a,u=t.auth,c=t.confirmationTimeout,l=void 0===c?CONFIRMATION_TIMEOUT:c,f=t.skipConfirmation,h=void 0!==f&&f,d=signatureSchemas.getNonce(),e.next=4,this.web3.eth.net.getId();case 4:return p=e.sent,y=signatureSchemas.generators.getManageEntityData(p,this.config.contractAddress,r,n,i,o,s,d),e.next=8,u.getAddress();case 8:return m=e.sent,e.next=11,u.signTransaction(y);case 11:return v=e.sent,e.next=14,this.contract.methods.manageEntity(r,n,i,o,s,d,v);case 14:return g=e.sent,e.t0=fetch$1,e.t1="",e.next=19,this.getRelayEndpoint();case 19:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2,"/relay"),e.t4={method:"POST",headers:new browserPonyfill$1.exports.Headers({"Content-Type":"application/json"}),body:JSON.stringify({contractAddress:this.config.contractAddress,contractRegistryKey:"EntityManager",encodedABI:g.encodeABI(),gasLimit:DEFAULT_GAS_LIMIT,senderAddress:m})},e.next=24,(0,e.t0)(e.t3,e.t4);case 24:return b=e.sent,e.next=27,b.json();case 27:if(w=e.sent,!b.ok){e.next=35;break}if(h){e.next=32;break}return e.next=32,this.confirmWrite({blockHash:w.receipt.blockHash,blockNumber:w.receipt.blockNumber,confirmationTimeout:l});case 32:return e.abrupt("return",{blockHash:w.receipt.blockHash,blockNumber:w.receipt.blockNumber});case 35:if(429!==b.status){e.next=40;break}throw this.logger.error("API Rate Limit Exceeded: You have exceeded the allowed number of requests for this action. Please wait and try again later. If you require a higher rate limit, please send an email to api@audius.co with your request, detailing the reasons and expected usage."),new Error("Error making relay request: API Rate Limit Exceeded. If you require a higher rate limit, please send an email to api@audius.co with your request.");case 40:throw new Error("Error making relay request".concat(null!=w&&null!==(_=w.error)&&void 0!==_&&_.message?": ".concat(w.error.message):"."));case 41:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"confirmWrite",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l,f=this;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockHash,n=t.blockNumber,i=t.confirmationTimeout,o=void 0===i?CONFIRMATION_TIMEOUT:i,a=t.confirmationPollingInterval,s=void 0===a?CONFIRMATION_POLLING_INTERVAL:a,u=function(){var e=_asyncToGenerator(regenerator.mark((function e(){var t,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.discoveryNodeSelector.getSelectedEndpoint();case 2:return t=e.sent,e.next=5,fetch$1("".concat(t,"/block_confirmation?blocknumber=").concat(n,"&blockhash=").concat(r));case 5:return e.next=7,e.sent.json();case 7:return i=e.sent,o=i.data.block_passed,e.abrupt("return",o?BlockConfirmation.CONFIRMED:BlockConfirmation.UNKNOWN);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,u();case 4:c=e.sent,l=Date.now();case 6:if(c!==BlockConfirmation.UNKNOWN){e.next=16;break}if(!(Date.now()-l>o)){e.next=9;break}throw new Error("Could not confirm write within ".concat(o,"ms"));case 9:return e.next=11,new Promise((function(e){return setTimeout(e,s)}));case 11:return e.next=13,u();case 13:c=e.sent,e.next=6;break;case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getCurrentBlock",value:(r=_asyncToGenerator(regenerator.mark((function e(){var t;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlockNumber();case 2:return t=e.sent,e.next=5,this.web3.eth.getBlock(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRelayEndpoint",value:(t=_asyncToGenerator(regenerator.mark((function e(){var t,r;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.config.useDiscoveryRelay)&&t){e.next=3;break}return e.abrupt("return",this.config.identityServiceUrl);case 3:return e.next=5,this.discoveryNodeSelector.getSelectedEndpoint();case 5:if(null!==(r=e.sent)){e.next=8;break}return e.abrupt("return",this.config.identityServiceUrl);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),browser="object"==("undefined"==typeof self?"undefined":_typeof$2(self))?self.FormData:window.FormData,wait=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),defaultStorageServiceConfig={logger:new Logger$1},MAX_TRACK_TRANSCODE_TIMEOUT=36e5,MAX_IMAGE_RESIZE_TIMEOUT_MS=3e5,POLL_STATUS_INTERVAL=3e3;function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sortObjectKeys(e){return"object"===_typeof$2(e)&&e?Array.isArray(e)?e.map(sortObjectKeys):Object.keys(e).sort().reduce((function(t,r){return _objectSpread$2(_objectSpread$2({},t),{},_defineProperty$3({},r,sortObjectKeys(e[r])))}),{}):e}var Storage=function(){function e(t){_classCallCheck$1(this,e),_defineProperty$3(this,"config",void 0),_defineProperty$3(this,"storageNodeSelector",void 0),_defineProperty$3(this,"logger",void 0),this.config=mergeConfigWithDefaults(t,defaultStorageServiceConfig),this.storageNodeSelector=t.storageNodeSelector,this.logger=this.config.logger.createPrefixedLogger("[storage]")}var t,r,n,i;return _createClass$1(e,[{key:"editFile",value:(i=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uploadId,n=t.data,i=t.auth,o={upload_id:r,timestamp:Date.now()},e.next=4,i.hashAndSign(JSON.stringify(sortObjectKeys(o)));case 4:return a=e.sent,s={data:JSON.stringify(o),signature:a},e.next=8,this.storageNodeSelector.getSelectedNode();case 8:if(u=e.sent){e.next=11;break}throw new Error("No content node available for upload");case 11:return e.next=13,axios({method:"post",url:"".concat(u,"/uploads/").concat(r),maxContentLength:1/0,data:n,params:{signature:JSON.stringify(s)}});case 13:return c=e.sent,e.next=16,this.pollProcessingStatus(r,"audio"===c.data.template?MAX_TRACK_TRANSCODE_TIMEOUT:MAX_IMAGE_RESIZE_TIMEOUT_MS);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"uploadFile",value:(n=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o,a,s,u,c,l;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,i=t.onProgress,o=t.template,a=t.options,s=void 0===a?{}:a,(u=new browser).append("template",o),Object.keys(s).forEach((function(e){u.append(e,"".concat(s[e]))})),u.append("files",isNodeFile(n)?n.buffer:n,null!==(r=n.name)&&void 0!==r?r:"blob"),e.next=7,this.storageNodeSelector.getSelectedNode();case 7:if(c=e.sent){e.next=10;break}throw new Error("No content node available for upload");case 10:return e.next=12,axios({method:"post",url:"".concat(c,"/uploads"),maxContentLength:1/0,data:u,headers:u.getBoundary?{"Content-Type":"multipart/form-data; boundary=".concat(u.getBoundary())}:void 0,onUploadProgress:function(e){return null==i?void 0:i(e.loaded,e.total)}});case 12:return l=e.sent,e.next=15,this.pollProcessingStatus(l.data[0].id,"audio"===o?MAX_TRACK_TRANSCODE_TIMEOUT:MAX_IMAGE_RESIZE_TIMEOUT_MS);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"pollProcessingStatus",value:(r=_asyncToGenerator(regenerator.mark((function e(t,r){var n,i,o,a;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();case 1:if(!(Date.now()-n<r)){e.next=21;break}return e.prev=2,e.next=5,this.getProcessingStatus(t);case 5:if("done"!==(null==(i=e.sent)?void 0:i.status)){e.next=8;break}return e.abrupt("return",i);case 8:if("error"!==(null==i?void 0:i.status)&&"error_retranscode_preview"!==(null==i?void 0:i.status)){e.next=10;break}throw new Error("Upload failed: id=".concat(t,", resp=").concat(JSON.stringify(i)));case 10:e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(2),!(null!==(o=e.t0.message)&&void 0!==o&&o.startsWith("Upload failed")||e.t0.response&&422===(null===(a=e.t0.response)||void 0===a?void 0:a.status))){e.next=16;break}throw e.t0;case 16:this.logger.error("Failed to poll for processing status, ".concat(e.t0));case 17:return e.next=19,wait(POLL_STATUS_INTERVAL);case 19:e.next=1;break;case 21:throw new Error("Upload took over ".concat(r,"ms. id=").concat(t));case 22:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(e,t){return r.apply(this,arguments)})},{key:"getProcessingStatus",value:(t=_asyncToGenerator(regenerator.mark((function e(t){var r,n;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageNodeSelector.getSelectedNode();case 2:return r=e.sent,e.next=5,fetch$1("".concat(r,"/uploads/").concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),NOT_INITIALIZED="Auth not initialized - Please provide an apiKey and apiSecret, or a custom implementation of Auth",Auth=_createClass$1((function e(){_classCallCheck$1(this,e),_defineProperty$3(this,"getSharedSecret",(function(){throw new Error(NOT_INITIALIZED)})),_defineProperty$3(this,"sign",(function(){throw new Error(NOT_INITIALIZED)})),_defineProperty$3(this,"hashAndSign",(function(){throw new Error("Auth not initialized")})),_defineProperty$3(this,"signTransaction",(function(){throw new Error(NOT_INITIALIZED)})),_defineProperty$3(this,"getAddress",(function(){throw new Error(NOT_INITIALIZED)}))})),dist$1={},secp256k1Lib={},bn$1={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:c[h-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,d=0;d<a;d++){var p=r[l+d],y=n[l+d],m=r[l+d+a],v=n[l+d+a],g=f*m-h*v;v=f*v+h*m,m=g,r[l+d]=p+m,n[l+d]=y+v,r[l+d+a]=p-m,n[l+d+a]=y-v,d!==s&&(g=u*f-c*h,h=u*h+c*f,f=g)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,f,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new $(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){$.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},$.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},$.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},$.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},$.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},$.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},$.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},$.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},$.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},$.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},$.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},$.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},$.prototype.isqr=function(e){return this.imul(e,e.clone())},$.prototype.sqr=function(e){return this.mul(e,e)},$.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},$.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},$.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},$.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},$.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new x(e)},n(x,$),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn$1);var BN$3=bn$1.exports,EC$1=elliptic$2.ec,ec$1=new EC$1("secp256k1"),ecparams$1=ec$1.curve;secp256k1Lib.privateKeyExport=function(e,t){var r=new BN$3(e);if(r.ucmp(ecparams$1.n)>=0)throw new Error("couldn't export to DER format");var n=ec$1.g.mul(r);return toPublicKey$1(n.getX(),n.getY(),t)},secp256k1Lib.privateKeyModInverse=function(e){var t=new BN$3(e);if(t.ucmp(ecparams$1.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(ecparams$1.n).toArrayLike(Buffer$j,"be",32)},secp256k1Lib.signatureImport=function(e){var t=new BN$3(e.r);t.ucmp(ecparams$1.n)>=0&&(t=new BN$3(0));var r=new BN$3(e.s);return r.ucmp(ecparams$1.n)>=0&&(r=new BN$3(0)),Buffer$j.concat([t.toArrayLike(Buffer$j,"be",32),r.toArrayLike(Buffer$j,"be",32)])},secp256k1Lib.ecdhUnsafe=function(e,t,r){var n=ec$1.keyFromPublic(e),i=new BN$3(t);if(i.ucmp(ecparams$1.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return toPublicKey$1(o.getX(),o.getY(),r)};var toPublicKey$1=function(e,t,r){var n=void 0;return r?((n=Buffer$j.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(Buffer$j,"be",32).copy(n,1)):((n=Buffer$j.alloc(65))[0]=4,e.toArrayLike(Buffer$j,"be",32).copy(n,1),t.toArrayLike(Buffer$j,"be",32).copy(n,33)),n},der$2={},EC_PRIVKEY_EXPORT_DER_COMPRESSED$1=Buffer$j.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1=Buffer$j.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der$2.privateKeyExport=function(e,t,r){var n=Buffer$j.from(r?EC_PRIVKEY_EXPORT_DER_COMPRESSED$1:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED$1);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},der$2.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},der$2.signatureImportLax=function(e){var t=Buffer$j.alloc(32,0),r=Buffer$j.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var u=e[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+e[i]}if(u>n-i)return null;var c=i;for(i+=u;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var l=e.slice(s,s+a);for(l.copy(t,32-l.length);u>0&&0===e[c];u-=1,c+=1);if(u>32)return null;var f=e.slice(c,c+u);return f.copy(r,32-f.length),{r:t,s:r}};var secp256k1$1=secp256k1$2,secp256k1v3=secp256k1Lib,der$1=der$2,privateKeyVerify=function(e){return 32===e.length&&secp256k1$1.privateKeyVerify(Uint8Array.from(e))},privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=secp256k1v3.privateKeyExport(e,t);return der$1.privateKeyExport(e,r,t)},privateKeyImport=function(e){if(null!==(e=der$1.privateKeyImport(e))&&32===e.length&&privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate=function(e){return Buffer$j.from(secp256k1$1.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return Buffer$j.from(secp256k1v3.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd=function(e,t){return Buffer$j.from(secp256k1$1.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul=function(e,t){return Buffer$j.from(secp256k1$1.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate=function(e,t){return Buffer$j.from(secp256k1$1.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert=function(e,t){return Buffer$j.from(secp256k1$1.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify=function(e){return(33===e.length||65===e.length)&&secp256k1$1.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd=function(e,t,r){return Buffer$j.from(secp256k1$1.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyTweakMul=function(e,t,r){return Buffer$j.from(secp256k1$1.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyCombine=function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),Buffer$j.from(secp256k1$1.publicKeyCombine(r,t))},signatureNormalize=function(e){return Buffer$j.from(secp256k1$1.signatureNormalize(Uint8Array.from(e)))},signatureExport=function(e){return Buffer$j.from(secp256k1$1.signatureExport(Uint8Array.from(e)))},signatureImport=function(e){return Buffer$j.from(secp256k1$1.signatureImport(Uint8Array.from(e)))},signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=der$1.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return secp256k1v3.signatureImport(t)},sign=function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,i,o){var a=null!=n?Buffer$j.from(n):null,s=null!=i?Buffer$j.from(i):null,u=Buffer$j.from("");return r.noncefn&&(u=r.noncefn(Buffer$j.from(e),Buffer$j.from(t),a,s,o)),Uint8Array.from(u)})}var i=secp256k1$1.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:Buffer$j.from(i.signature),recovery:i.recid}},verify=function(e,t,r){return secp256k1$1.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover=function(e,t,r,n){return Buffer$j.from(secp256k1$1.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},ecdh=function(e,t){return Buffer$j.from(secp256k1$1.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe=function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return Buffer$j.from(secp256k1v3.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))},secp256k1Adapter={privateKeyVerify:privateKeyVerify,privateKeyExport:privateKeyExport,privateKeyImport:privateKeyImport,privateKeyNegate:privateKeyNegate,privateKeyModInverse:privateKeyModInverse,privateKeyTweakAdd:privateKeyTweakAdd,privateKeyTweakMul:privateKeyTweakMul,publicKeyCreate:publicKeyCreate,publicKeyConvert:publicKeyConvert,publicKeyVerify:publicKeyVerify,publicKeyTweakAdd:publicKeyTweakAdd,publicKeyTweakMul:publicKeyTweakMul,publicKeyCombine:publicKeyCombine,signatureNormalize:signatureNormalize,signatureExport:signatureExport,signatureImport:signatureImport,signatureImportLax:signatureImportLax,sign:sign,verify:verify,recover:recover,ecdh:ecdh,ecdhUnsafe:ecdhUnsafe},src$1=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+_typeof$2(e)+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)},isHexPrefixed$1=src$1,src=function(e){return"string"!=typeof e?e:isHexPrefixed$1(e)?e.slice(2):e},isHexPrefixed=src$1,stripHexPrefix=src;function padToEven(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+_typeof$2(t)+", while padToEven.");return t.length%2&&(t="0"+t),t}function intToHex(e){return"0x"+e.toString(16)}function intToBuffer(e){return new Buffer$j(padToEven(intToHex(e).slice(2)),"hex")}function getBinarySize(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+_typeof$2(e)+"'.");return Buffer$j.byteLength(e,"utf8")}function arrayContainsArray(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+_typeof$2(e)+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+_typeof$2(t)+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))}function toUtf8(e){return new Buffer$j(padToEven(stripHexPrefix(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")}function toAscii(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}function fromUtf8(e){return"0x"+padToEven(new Buffer$j(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}function fromAscii(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t}function getKeys(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+_typeof$2(e)+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+_typeof$2(t)+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n}function isHexString(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var lib$1={arrayContainsArray:arrayContainsArray,intToBuffer:intToBuffer,getBinarySize:getBinarySize,isHexPrefixed:isHexPrefixed,stripHexPrefix:stripHexPrefix,padToEven:padToEven,intToHex:intToHex,fromAscii:fromAscii,fromUtf8:fromUtf8,toAscii:toAscii,toUtf8:toUtf8,getKeys:getKeys,isHexString:isHexString};!function(e){var t="function"==typeof Symbol&&"symbol"===_typeof$2(Symbol.iterator)?function(e){return _typeof$2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$2(e)},r=keccak$2,n=r.keccak224,i=r.keccak384,o=r.keccak256,a=r.keccak512,s=secp256k1Adapter,u=require$$0$2,c=dist_browser,l=bn$1.exports,f=browser$1,h=safeBuffer.exports.Buffer;Object.assign(e,lib$1),e.MAX_INTEGER=new l("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new l("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=h.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=h.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=h.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=l,e.rlp=c,e.secp256k1=s,e.zeros=function(e){return h.allocUnsafe(e).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!h.isBuffer(t))if(Array.isArray(t))t=h.from(t);else if("string"==typeof t)t=e.isHexString(t)?h.from(e.padToEven(e.stripHexPrefix(t)),"hex"):h.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null==t)t=h.allocUnsafe(0);else if(l.isBN(t))t=t.toArrayLike(h);else{if(!t.toArray)throw new Error("invalid type");t=h.from(t.toArray())}return t},e.bufferToInt=function(t){return new l(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new l(e).fromTwos(256)},e.toUnsigned=function(e){return h.from(e.toTwos(256).toArray())},e.keccak=function(t,r){switch(t=e.toBuffer(t),r||(r=256),r){case 224:return n(t);case 256:return o(t);case 384:return i(t);case 512:return a(t);default:throw new Error("Invald algorithm: keccak"+r)}},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),f("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=f("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(c.encode(t))},e.isValidPrivate=function(e){return s.privateKeyVerify(e)},e.isValidPublic=function(e,t){return 64===e.length?s.publicKeyVerify(h.concat([h.from([4]),e])):!!t&&s.publicKeyVerify(e)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=s.publicKeyConvert(t,!1).slice(1)),u(64===t.length),e.keccak(t).slice(-20)};var d=e.privateToPublic=function(t){return t=e.toBuffer(t),s.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=s.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(e,t){var r=s.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(h.concat([r,t]))},e.ecrecover=function(t,r,n,i){var o=h.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=s.recover(t,o,a);return s.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(h.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(d(t))},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new l(r)).isZero()?null:h.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t||e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(e,t,r,n){var i=new l("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new l("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new l(t),r=new l(r),!(t.isZero()||t.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new l(r).cmp(i))))},e.baToJSON=function(t){if(h.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(r,n,i){if(r.raw=[],r._fields=[],r.toJSON=function(t){if(t){var n={};return r._fields.forEach((function(e){n[e]="0x"+r[e].toString("hex")})),n}return e.baToJSON(this.raw)},r.serialize=function(){return c.encode(r.raw)},n.forEach((function(t,n){function i(){return r.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||t.allowZero||(i=h.allocUnsafe(0)),t.allowLess&&t.length?(i=e.stripZeros(i),u(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||u(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),r.raw[n]=i}r._fields.push(t.name),Object.defineProperty(r,t.name,{enumerable:!0,configurable:!0,get:i,set:o}),t.default&&(r[t.name]=t.default),t.alias&&Object.defineProperty(r,t.alias,{enumerable:!1,configurable:!0,set:o,get:i})})),i)if("string"==typeof i&&(i=h.from(e.stripHexPrefix(i),"hex")),h.isBuffer(i)&&(i=c.decode(i)),Array.isArray(i)){if(i.length>r._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){r[r._fields[n]]=e.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":t(i)))throw new Error("invalid data");var o=Object.keys(i);n.forEach((function(e){-1!==o.indexOf(e.name)&&(r[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(r[e.alias]=i[e.alias])}))}}}(dist$1);var dist={},secp256k1v3Adapter={},secp256k1v3Lib={},bn={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===_typeof$2(e)?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"===_typeof$2(e)&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"===_typeof$2(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:c[h-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,$=0|a[4],x=8191&$,S=$>>>13,k=0|a[5],A=8191&k,E=k>>>13,T=0|a[6],M=8191&T,I=T>>>13,R=0|a[7],O=8191&R,P=R>>>13,C=0|a[8],B=8191&C,N=C>>>13,L=0|a[9],j=8191&L,F=L>>>13,U=0|s[0],D=8191&U,z=U>>>13,H=0|s[1],G=8191&H,q=H>>>13,K=0|s[2],Z=8191&K,J=K>>>13,V=0|s[3],W=8191&V,Y=V>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,D))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,D)|0))<<13)|0;c=((o=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,z))+Math.imul(y,D)|0,o=Math.imul(y,z);var ve=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,z))+Math.imul(g,D)|0,o=Math.imul(g,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,q)|0;var ge=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,z))+Math.imul(_,D)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0;var be=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,W)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,z))+Math.imul(S,D)|0,o=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Y)|0;var we=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,z))+Math.imul(E,D)|0,o=Math.imul(E,z),n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,D),i=(i=Math.imul(M,z))+Math.imul(I,D)|0,o=Math.imul(I,z),n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var $e=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,z))+Math.imul(P,D)|0,o=Math.imul(P,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,D),i=(i=Math.imul(B,z))+Math.imul(N,D)|0,o=Math.imul(N,z),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Se=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,z))+Math.imul(F,D)|0,o=Math.imul(F,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var ke=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,q))+Math.imul(F,G)|0,o=Math.imul(F,q),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,he)|0;var Ae=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,J))+Math.imul(F,Z)|0,o=Math.imul(F,J),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ee=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,Y))+Math.imul(F,W)|0,o=Math.imul(F,Y),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0;var Te=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,he)|0;var Me=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,he)|0;var Re=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,he))+Math.imul(F,fe)|0,o=Math.imul(F,he);var Pe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ce=(c+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=be,u[4]=we,u[5]=_e,u[6]=$e,u[7]=xe,u[8]=Se,u[9]=ke,u[10]=Ae,u[11]=Ee,u[12]=Te,u[13]=Me,u[14]=Ie,u[15]=Re,u[16]=Oe,u[17]=Pe,u[18]=Ce,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(d=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,d=0;d<a;d++){var p=r[l+d],y=n[l+d],m=r[l+d+a],v=n[l+d+a],g=f*m-h*v;v=f*v+h*m,m=g,r[l+d]=p+m,n[l+d]=y+v,r[l+d+a]=p-m,n[l+d+a]=y-v,d!==s&&(g=u*f-c*h,h=u*h+c*f,f=g)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,f,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(o=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s),a.isub(u)):(n.isub(t),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(o=0===t.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new $(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){$.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},$.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},$.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},$.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},$.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},$.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},$.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},$.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},$.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},$.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},$.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},$.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},$.prototype.isqr=function(e){return this.imul(e,e.clone())},$.prototype.sqr=function(e){return this.mul(e,e)},$.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),d=this.pow(e,o),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=m}return h},$.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},$.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},$.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},$.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new x(e)},n(x,$),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,commonjsGlobal$1)}(bn),Object.defineProperty(secp256k1v3Lib,"__esModule",{value:!0});var BN$2=bn.exports,EC=elliptic$2.ec,ec=new EC("secp256k1"),ecparams=ec.curve;secp256k1v3Lib.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new BN$2(e);if(r.ucmp(ecparams.n)>=0)throw new Error("couldn't export to DER format");var n=ec.g.mul(r);return toPublicKey(n.getX(),n.getY(),t)},secp256k1v3Lib.privateKeyModInverse=function(e){var t=new BN$2(e);if(t.ucmp(ecparams.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(ecparams.n).toArrayLike(Buffer$j,"be",32)},secp256k1v3Lib.signatureImport=function(e){var t=new BN$2(e.r);t.ucmp(ecparams.n)>=0&&(t=new BN$2(0));var r=new BN$2(e.s);return r.ucmp(ecparams.n)>=0&&(r=new BN$2(0)),Buffer$j.concat([t.toArrayLike(Buffer$j,"be",32),r.toArrayLike(Buffer$j,"be",32)])},secp256k1v3Lib.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var n=ec.keyFromPublic(e),i=new BN$2(t);if(i.ucmp(ecparams.n)>=0||i.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(i);return toPublicKey(o.getX(),o.getY(),r)};var toPublicKey=function(e,t,r){var n;return r?((n=Buffer$j.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(Buffer$j,"be",32).copy(n,1)):((n=Buffer$j.alloc(65))[0]=4,e.toArrayLike(Buffer$j,"be",32).copy(n,1),t.toArrayLike(Buffer$j,"be",32).copy(n,33)),n},der={};Object.defineProperty(der,"__esModule",{value:!0});var EC_PRIVKEY_EXPORT_DER_COMPRESSED=Buffer$j.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED=Buffer$j.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);der.privateKeyExport=function(e,t,r){void 0===r&&(r=!0);var n=Buffer$j.from(r?EC_PRIVKEY_EXPORT_DER_COMPRESSED:EC_PRIVKEY_EXPORT_DER_UNCOMPRESSED);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},der.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},der.signatureImportLax=function(e){var t=Buffer$j.alloc(32,0),r=Buffer$j.alloc(32,0),n=e.length,i=0;if(48!==e[i++])return null;var o=e[i++];if(128&o&&(i+=o-128)>n)return null;if(2!==e[i++])return null;var a=e[i++];if(128&a){if(i+(o=a-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+e[i]}if(a>n-i)return null;var s=i;if(i+=a,2!==e[i++])return null;var u=e[i++];if(128&u){if(i+(o=u-128)>n)return null;for(;o>0&&0===e[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+e[i]}if(u>n-i)return null;var c=i;for(i+=u;a>0&&0===e[s];a-=1,s+=1);if(a>32)return null;var l=e.slice(s,s+a);for(l.copy(t,32-l.length);u>0&&0===e[c];u-=1,c+=1);if(u>32)return null;var f=e.slice(c,c+u);return f.copy(r,32-f.length),{r:t,s:r}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var t=secp256k1$2,r=secp256k1v3Lib,n=der;e.privateKeyVerify=function(e){return 32===e.length&&t.privateKeyVerify(Uint8Array.from(e))},e.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var i=r.privateKeyExport(e,t);return n.privateKeyExport(e,i,t)},e.privateKeyImport=function(t){if(null!==(t=n.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(e){return Buffer$j.from(t.privateKeyNegate(Uint8Array.from(e)))},e.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return Buffer$j.from(r.privateKeyModInverse(Uint8Array.from(e)))},e.privateKeyTweakAdd=function(e,r){return Buffer$j.from(t.privateKeyTweakAdd(Uint8Array.from(e),r))},e.privateKeyTweakMul=function(e,r){return Buffer$j.from(t.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},e.publicKeyCreate=function(e,r){return Buffer$j.from(t.publicKeyCreate(Uint8Array.from(e),r))},e.publicKeyConvert=function(e,r){return Buffer$j.from(t.publicKeyConvert(Uint8Array.from(e),r))},e.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&t.publicKeyVerify(Uint8Array.from(e))},e.publicKeyTweakAdd=function(e,r,n){return Buffer$j.from(t.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyTweakMul=function(e,r,n){return Buffer$j.from(t.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),n))},e.publicKeyCombine=function(e,r){var n=[];return e.forEach((function(e){n.push(Uint8Array.from(e))})),Buffer$j.from(t.publicKeyCombine(n,r))},e.signatureNormalize=function(e){return Buffer$j.from(t.signatureNormalize(Uint8Array.from(e)))},e.signatureExport=function(e){return Buffer$j.from(t.signatureExport(Uint8Array.from(e)))},e.signatureImport=function(e){return Buffer$j.from(t.signatureImport(Uint8Array.from(e)))},e.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=n.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return r.signatureImport(t)},e.sign=function(e,r,n){if(null===n)throw new TypeError("options should be an Object");var i=void 0;if(n){if(i={},null===n.data)throw new TypeError("options.data should be a Buffer");if(n.data){if(32!=n.data.length)throw new RangeError("options.data length is invalid");i.data=new Uint8Array(n.data)}if(null===n.noncefn)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(i.noncefn=function(e,t,r,i,o){var a=null!=r?Buffer$j.from(r):null,s=null!=i?Buffer$j.from(i):null,u=Buffer$j.from("");return n.noncefn&&(u=n.noncefn(Buffer$j.from(e),Buffer$j.from(t),a,s,o)),new Uint8Array(u)})}var o=t.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),i);return{signature:Buffer$j.from(o.signature),recovery:o.recid}},e.verify=function(e,r,n){return t.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(e),n)},e.recover=function(e,r,n,i){return Buffer$j.from(t.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(e),i))},e.ecdh=function(e,r){return Buffer$j.from(t.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},e.ecdhUnsafe=function(e,t,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return Buffer$j.from(r.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),n))}}(secp256k1v3Adapter);var constants={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var t=bn.exports;e.MAX_INTEGER=new t("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new t("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=Buffer$j.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=Buffer$j.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=Buffer$j.from(e.KECCAK256_RLP_S,"hex")}(constants);var account={},bytes={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var t=lib$1,r=bn.exports;e.zeros=function(e){return Buffer$j.allocUnsafe(e).fill(0)},e.setLengthLeft=function(t,r,n){void 0===n&&(n=!1);var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLength=e.setLengthLeft,e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},e.stripZeros=e.unpad,e.toBuffer=function(e){if(!Buffer$j.isBuffer(e))if(Array.isArray(e))e=Buffer$j.from(e);else if("string"==typeof e){if(!t.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=Buffer$j.from(t.padToEven(t.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=t.intToBuffer(e);else if(null==e)e=Buffer$j.allocUnsafe(0);else if(r.isBN(e))e=e.toArrayLike(Buffer$j);else{if(!e.toArray)throw new Error("invalid type");e=Buffer$j.from(e.toArray())}return e},e.bufferToInt=function(t){return new r(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(e){return new r(e).fromTwos(256)},e.toUnsigned=function(e){return Buffer$j.from(e.toTwos(256).toArray())},e.addHexPrefix=function(e){return"string"!=typeof e||t.isHexPrefixed(e)?e:"0x"+e},e.baToJSON=function(t){if(Buffer$j.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}}}(bytes);var hash={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var t=keccak$2,r=t.keccak224,n=t.keccak384,i=t.keccak256,o=t.keccak512,a=browser$1,s=lib$1,u=dist_browser,c=bytes;e.keccak=function(e,t){switch(void 0===t&&(t=256),e="string"!=typeof e||s.isHexString(e)?c.toBuffer(e):Buffer$j.from(e,"utf8"),t||(t=256),t){case 224:return r(e);case 256:return i(e);case 384:return n(e);case 512:return o(e);default:throw new Error("Invald algorithm: keccak"+t)}},e.keccak256=function(t){return e.keccak(t)},e.sha256=function(e){return e=c.toBuffer(e),a("sha256").update(e).digest()},e.ripemd160=function(e,t){e=c.toBuffer(e);var r=a("rmd160").update(e).digest();return!0===t?c.setLength(r,32):r},e.rlphash=function(t){return e.keccak(u.encode(t))}}(hash),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var t=require$$0$2,r=lib$1,n=secp256k1v3Adapter,i=bn.exports,o=bytes,a=hash;e.zeroAddress=function(){var e=o.zeros(20);return o.bufferToHex(e)},e.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},e.isZeroAddress=function(t){return e.zeroAddress()===o.addHexPrefix(t)},e.toChecksumAddress=function(e,t){e=r.stripHexPrefix(e).toLowerCase();for(var n=void 0!==t?t.toString()+"0x":"",i=a.keccak(n+e).toString("hex"),o="0x",s=0;s<e.length;s++)parseInt(i[s],16)>=8?o+=e[s].toUpperCase():o+=e[s];return o},e.isValidChecksumAddress=function(t,r){return e.isValidAddress(t)&&e.toChecksumAddress(t,r)===t},e.generateAddress=function(e,t){e=o.toBuffer(e);var r=new i(t);return r.isZero()?a.rlphash([e,null]).slice(-20):a.rlphash([e,Buffer$j.from(r.toArray())]).slice(-20)},e.generateAddress2=function(e,r,n){var i=o.toBuffer(e),s=o.toBuffer(r),u=o.toBuffer(n);return t(20===i.length),t(32===s.length),a.keccak256(Buffer$j.concat([Buffer$j.from("ff","hex"),i,s,a.keccak256(u)])).slice(-20)},e.isPrecompiled=function(e){var t=o.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},e.isValidPrivate=function(e){return n.privateKeyVerify(e)},e.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?n.publicKeyVerify(Buffer$j.concat([Buffer$j.from([4]),e])):!!t&&n.publicKeyVerify(e)},e.pubToAddress=function(e,r){return void 0===r&&(r=!1),e=o.toBuffer(e),r&&64!==e.length&&(e=n.publicKeyConvert(e,!1).slice(1)),t(64===e.length),a.keccak(e).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(t){return e.publicToAddress(e.privateToPublic(t))},e.privateToPublic=function(e){return e=o.toBuffer(e),n.publicKeyCreate(e,!1).slice(1)},e.importPublic=function(e){return 64!==(e=o.toBuffer(e)).length&&(e=n.publicKeyConvert(e,!1).slice(1)),e}}(account);var signature={};Object.defineProperty(signature,"__esModule",{value:!0}),signature.hashPersonalMessage=signature.isValidSignature=signature.fromRpcSig=signature.toRpcSig=signature.ecrecover=signature.ecsign=void 0;var secp256k1=secp256k1v3Adapter,BN$1=bn.exports,bytes_1$1=bytes,hash_1=hash;function calculateSigRecovery(e,t){return t?e-(2*t+35):e-27}function isValidSigRecovery(e){return 0===e||1===e}signature.ecsign=function(e,t,r){var n=secp256k1.sign(e,t),i=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?i+(2*r+35):i+27}},signature.ecrecover=function(e,t,r,n,i){var o=Buffer$j.concat([bytes_1$1.setLength(r,32),bytes_1$1.setLength(n,32)],64),a=calculateSigRecovery(t,i);if(!isValidSigRecovery(a))throw new Error("Invalid signature v value");var s=secp256k1.recover(e,o,a);return secp256k1.publicKeyConvert(s,!1).slice(1)},signature.toRpcSig=function(e,t,r,n){if(!isValidSigRecovery(calculateSigRecovery(e,n)))throw new Error("Invalid signature v value");return bytes_1$1.bufferToHex(Buffer$j.concat([bytes_1$1.setLengthLeft(t,32),bytes_1$1.setLengthLeft(r,32),bytes_1$1.toBuffer(e)]))},signature.fromRpcSig=function(e){var t=bytes_1$1.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},signature.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var o=new BN$1("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new BN$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!isValidSigRecovery(calculateSigRecovery(e,i)))return!1;var s=new BN$1(t),u=new BN$1(r);return!(s.isZero()||s.gt(a)||u.isZero()||u.gt(a))&&(!n||1!==u.cmp(o))},signature.hashPersonalMessage=function(e){var t=Buffer$j.from("Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return hash_1.keccak(Buffer$j.concat([t,e]))};var object={};Object.defineProperty(object,"__esModule",{value:!0}),object.defineProperties=void 0;var assert=require$$0$2,ethjsUtil=lib$1,rlp=dist_browser,bytes_1=bytes;object.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return bytes_1.baToJSON(e.raw)},e.serialize=function(){return rlp.encode(e.raw)},t.forEach((function(t,r){function n(){return e.raw[r]}function i(n){"00"!==(n=bytes_1.toBuffer(n)).toString("hex")||t.allowZero||(n=Buffer$j.allocUnsafe(0)),t.allowLess&&t.length?(n=bytes_1.stripZeros(n),assert(t.length>=n.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===n.length||!t.length||assert(t.length===n.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=n}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:n,set:i}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:i,get:n})})),r)if("string"==typeof r&&(r=Buffer$j.from(ethjsUtil.stripHexPrefix(r),"hex")),Buffer$j.isBuffer(r)&&(r=rlp.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=bytes_1.toBuffer(t)}))}else{if("object"!==_typeof$2(r))throw new Error("invalid data");var n=Object.keys(r);t.forEach((function(t){-1!==n.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==n.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}},function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(e,r){for(var n in e)"default"===n||r.hasOwnProperty(n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var n=secp256k1v3Adapter;e.secp256k1=n;var i=lib$1,o=bn.exports;e.BN=o;var a=dist_browser;e.rlp=a,Object.assign(e,i),r(constants,e),r(account,e),r(hash,e),r(signature,e),r(bytes,e),r(object,e)}(dist);var utils=dist,BN=bn.exports,ABI=function(){};function elementaryName(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function parseTypeN(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function parseTypeNxM(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function parseTypeArray(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function parseNumber(e){var t=_typeof$2(e);if("string"===t)return utils.isHexPrefixed(e)?new BN(utils.stripHexPrefix(e),16):new BN(e,10);if("number"===t)return new BN(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function parseSignature(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==r&&3===r.length)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:t[1],args:n}}function encodeSingle(e,t){var r,n,i,o;if("address"===e)return encodeSingle("uint160",parseNumber(t));if("bool"===e)return encodeSingle("uint8",t?1:0);if("string"===e)return encodeSingle("bytes",Buffer$j.from(t,"utf8"));if(isArray(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=parseTypeArray(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)i.push(encodeSingle(e,t[o]));if("dynamic"===r){var a=encodeSingle("uint256",t.length);i.unshift(a)}return Buffer$j.concat(i)}if("bytes"===e)return t=Buffer$j.from(t),i=Buffer$j.concat([encodeSingle("uint256",t.length),t]),t.length%32!=0&&(i=Buffer$j.concat([i,utils.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if((r=parseTypeN(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return utils.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=parseTypeN(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((n=parseNumber(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer$j,"be",32)}if(e.startsWith("int")){if((r=parseTypeN(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((n=parseNumber(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer$j,"be",32)}if(e.startsWith("ufixed")){if(r=parseTypeNxM(e),(n=parseNumber(t))<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",n.mul(new BN(2).pow(new BN(r[1]))))}if(e.startsWith("fixed"))return r=parseTypeNxM(e),encodeSingle("int256",parseNumber(t).mul(new BN(2).pow(new BN(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function decodeSingle(e,t,r){var n,i,o,a;if("string"==typeof e&&(e=parseType(e)),"address"===e.name)return decodeSingle(e.rawType,t,r).toArrayLike(Buffer$j,"be",20).toString("hex");if("bool"===e.name)return decodeSingle(e.rawType,t,r).toString()===new BN(1).toString();if("string"===e.name){var s=decodeSingle(e.rawType,t,r);return Buffer$j.from(s,"utf8").toString()}if(e.isArray){for(o=[],n=e.size,"dynamic"===e.size&&(r=decodeSingle("uint256",t,r).toNumber(),n=decodeSingle("uint256",t,r).toNumber(),r+=32),a=0;a<n;a++){var u=decodeSingle(e.subArray,t,r);o.push(u),r+=e.subArray.memoryUsage}return o}if("bytes"===e.name)return r=decodeSingle("uint256",t,r).toNumber(),n=decodeSingle("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if((i=new BN(t.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("int")){if((i=new BN(t.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+i.bitLength());return i}if(e.name.startsWith("ufixed")){if(n=new BN(2).pow(new BN(e.size[1])),!(i=decodeSingle("uint256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}if(e.name.startsWith("fixed")){if(n=new BN(2).pow(new BN(e.size[1])),!(i=decodeSingle("int256",t,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}throw new Error("Unsupported or invalid type: "+e.name)}function parseType(e){var t,r,n;if(isArray(e)){t=parseTypeArray(e);var i=e.slice(0,e.lastIndexOf("["));return i=parseType(i),r={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?r.size=parseTypeN(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=parseTypeNxM(e)),e.startsWith("bytes")&&"bytes"!==e&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function isDynamic(e){return"string"===e||"bytes"===e||"dynamic"===parseTypeArray(e)}function isArray(e){return e.lastIndexOf("]")===e.length-1}function stringify(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}function isNumeric(e){return e>="0"&&e<="9"}ABI.eventID=function(e,t){var r=e+"("+t.map(elementaryName).join(",")+")";return utils.keccak256(Buffer$j.from(r))},ABI.methodID=function(e,t){return ABI.eventID(e,t).slice(0,4)},ABI.rawEncode=function(e,t){var r=[],n=[],i=0;e.forEach((function(e){if(isArray(e)){var t=parseTypeArray(e);i+="dynamic"!==t?32*t:32}else i+=32}));for(var o=0;o<e.length;o++){var a=elementaryName(e[o]),s=encodeSingle(a,t[o]);isDynamic(a)?(r.push(encodeSingle("uint256",i)),n.push(s),i+=s.length):r.push(s)}return Buffer$j.concat(r.concat(n))},ABI.rawDecode=function(e,t){var r=[];t=Buffer$j.from(t);for(var n=0,i=0;i<e.length;i++){var o=parseType(elementaryName(e[i])),a=decodeSingle(o,t,n);n+=o.memoryUsage,r.push(a)}return r},ABI.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=parseSignature(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return Buffer$j.concat([ABI.methodID(r.method,r.args),ABI.rawEncode(r.args,t)])},ABI.simpleDecode=function(e,t){var r=parseSignature(e);if(!r.retargs)throw new Error("No return values in method");return ABI.rawDecode(r.retargs,t)},ABI.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(e){return stringify(i,e)})).join(", "):stringify(i,o),r.push(o)}return r},ABI.solidityHexValue=function(e,t,r){var n,i;if(isArray(e)){var o=e.replace(/\[.*?\]/,"");if(!isArray(o)){var a=parseTypeArray(e);if("dynamic"!==a&&0!==a&&t.length>a)throw new Error("Elements exceed array size: "+a)}var s=t.map((function(e){return ABI.solidityHexValue(o,e,256)}));return Buffer$j.concat(s)}if("bytes"===e)return t;if("string"===e)return Buffer$j.from(t,"utf8");if("bool"===e){r=r||8;var u=Array(r/4).join("0");return Buffer$j.from(t?u+"1":u+"0","hex")}if("address"===e){var c=20;return r&&(c=r/8),utils.setLengthLeft(t,c)}if(e.startsWith("bytes")){if((n=parseTypeN(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return utils.setLengthRight(t,n)}if(e.startsWith("uint")){if((n=parseTypeN(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((i=parseNumber(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(Buffer$j,"be",r/8)}if(e.startsWith("int")){if((n=parseTypeN(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((i=parseNumber(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(Buffer$j,"be",r/8)}throw new Error("Unsupported or invalid type: "+e)},ABI.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var i=elementaryName(e[n]),o=t[n];r.push(ABI.solidityHexValue(i,o,null))}return Buffer$j.concat(r)},ABI.soliditySHA3=function(e,t){return utils.keccak256(ABI.solidityPack(e,t))},ABI.soliditySHA256=function(e,t){return utils.sha256(ABI.solidityPack(e,t))},ABI.solidityRIPEMD160=function(e,t){return utils.ripemd160(ABI.solidityPack(e,t),!0)},ABI.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("s"===n)t.push("bytes");else if("b"===n){for(var i="bytes",o=r+1;o<e.length&&isNumeric(e[o]);)i+=e[o]-"0",o++;r=o-1,t.push(i)}else if("i"===n)t.push("int256");else{if("a"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("int256[]")}}return t},ABI.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("bytes"===n)t.push("s");else if(n.startsWith("bytes"))t.push("b"+parseTypeN(n));else if("int256"===n)t.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("a")}}return t.join("")};var lib=ABI,ethereumjsAbi=lib,naclUtil={exports:{}};function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){!function(t,r){e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}(commonjsGlobal$1,(function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==Buffer$j.from?(e.encodeBase64=function(e){return Buffer$j.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer$j.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer$j(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer$j(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e}))}(naclUtil);var Buffer$1=buffer$1.Buffer,ethUtil=dist$1,ethAbi=ethereumjsAbi,nacl=naclFast.exports;nacl.util=naclUtil.exports;var TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData:function(e,t,r){var n=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=["bytes32"],a=[this.hashType(e,r)];if(i){var s,u=function e(t,o,a){if(void 0!==r[o])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":ethUtil.keccak(n.encodeData(o,a,r,i))];if(void 0===a)throw new Error("missing value for field ".concat(t," of type ").concat(o));if("bytes"===o)return["bytes32",ethUtil.keccak(a)];if("string"===o)return"string"==typeof a&&(a=Buffer$1.from(a,"utf8")),["bytes32",ethUtil.keccak(a)];if(o.lastIndexOf("]")===o.length-1){var s=o.slice(0,o.lastIndexOf("[")),u=a.map((function(r){return e(t,s,r)}));return["bytes32",ethUtil.keccak(ethAbi.rawEncode(u.map((function(e){return _slicedToArray(e,1)[0]})),u.map((function(e){return _slicedToArray(e,2)[1]}))))]}return[o,a]},c=_createForOfIteratorHelper(r[e]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=u(l.name,l.type,t[l.name]),h=_slicedToArray(f,2),d=h[0],p=h[1];o.push(d),a.push(p)}}catch(e){c.e(e)}finally{c.f()}}else{var y,m=_createForOfIteratorHelper(r[e]);try{for(m.s();!(y=m.n()).done;){var v=y.value,g=t[v.name];if(void 0!==g)if("bytes"===v.type)o.push("bytes32"),g=ethUtil.keccak(g),a.push(g);else if("string"===v.type)o.push("bytes32"),"string"==typeof g&&(g=Buffer$1.from(g,"utf8")),g=ethUtil.keccak(g),a.push(g);else if(void 0!==r[v.type])o.push("bytes32"),g=ethUtil.keccak(this.encodeData(v.type,g,r,i)),a.push(g);else{if(v.type.lastIndexOf("]")===v.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");o.push(v.type),a.push(g)}}}catch(e){m.e(e)}finally{m.f()}}return ethAbi.rawEncode(o,a)},encodeType:function(e,t){var r,n="",i=this.findTypeDependencies(e,t).filter((function(t){return t!==e})),o=_createForOfIteratorHelper(i=[e].concat(i.sort()));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!t[a])throw new Error("No type definition specified: ".concat(a));n+="".concat(a,"(").concat(t[a].map((function(e){var t=e.name,r=e.type;return"".concat(r," ").concat(t)})).join(","),")")}}catch(e){o.e(e)}finally{o.f()}return n},findTypeDependencies:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.match(/^[0-9A-Z_a-z]*/),i=_slicedToArray(n,1),o=i[0];if(e=o,r.includes(e)||void 0===t[e])return r;r.push(e);var a,s=_createForOfIteratorHelper(t[e]);try{for(s.s();!(a=s.n()).done;){var u,c=a.value,l=_createForOfIteratorHelper(this.findTypeDependencies(c.type,t,r));try{for(l.s();!(u=l.n()).done;){var f=u.value;!r.includes(f)&&r.push(f)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){s.e(e)}finally{s.f()}return r},hashStruct:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return ethUtil.keccak(this.encodeData(e,t,r,n))},hashType:function(e,t){return ethUtil.keccak(this.encodeType(e,t))},sanitizeData:function(e){for(var t={},r=0,n=Object.keys(TYPED_MESSAGE_SCHEMA.properties);r<n.length;r++){var i=n[r];e[i]&&(t[i]=e[i])}return t.types&&(t.types=_objectSpread$1({EIP712Domain:[]},t.types)),t},sign:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.sanitizeData(e),n=[Buffer$1.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),ethUtil.keccak(Buffer$1.concat(n))}},ethSigUtil={TYPED_MESSAGE_SCHEMA:TYPED_MESSAGE_SCHEMA,TypedDataUtils:TypedDataUtils,concatSig:function(e,t,r){var n=ethUtil.fromSigned(t),i=ethUtil.fromSigned(r),o=ethUtil.bufferToInt(e),a=padWithZeroes(ethUtil.toUnsigned(n).toString("hex"),64),s=padWithZeroes(ethUtil.toUnsigned(i).toString("hex"),64),u=ethUtil.stripHexPrefix(ethUtil.intToHex(o));return ethUtil.addHexPrefix(a.concat(s,u)).toString("hex")},normalize:function(e){if(e){if("number"==typeof e){var t=ethUtil.toBuffer(e);e=ethUtil.bufferToHex(t)}if("string"!=typeof e){var r="eth-sig-util.normalize() requires hex string or integer input.";throw r+=" received ".concat(_typeof$2(e),": ").concat(e),new Error(r)}return ethUtil.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=ethUtil.toBuffer(t.data),n=ethUtil.hashPersonalMessage(r),i=ethUtil.ecsign(n,e);return ethUtil.bufferToHex(this.concatSig(i.v,i.r,i.s))},recoverPersonalSignature:function(e){var t=getPublicKeyFor(e),r=ethUtil.publicToAddress(t);return ethUtil.bufferToHex(r)},extractPublicKey:function(e){var t=getPublicKeyFor(e);return"0x".concat(t.toString("hex"))},typedSignatureHash:function(e){var t=_typedSignatureHash(e);return ethUtil.bufferToHex(t)},signTypedDataLegacy:function(e,t){var r=_typedSignatureHash(t.data),n=ethUtil.ecsign(r,e);return ethUtil.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignatureLegacy:function(e){var t=recoverPublicKey(_typedSignatureHash(e.data),e.sig),r=ethUtil.publicToAddress(t);return ethUtil.bufferToHex(r)},encrypt:function(e,t,r){if("x25519-xsalsa20-poly1305"===r){if(void 0===t.data)throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');var n,i=nacl.box.keyPair();try{n=nacl.util.decodeBase64(e)}catch(e){throw new Error("Bad public key")}var o=nacl.util.decodeUTF8(t.data),a=nacl.randomBytes(nacl.box.nonceLength),s=nacl.box(o,a,n,i.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:nacl.util.encodeBase64(a),ephemPublicKey:nacl.util.encodeBase64(i.publicKey),ciphertext:nacl.util.encodeBase64(s)}}throw new Error("Encryption type/version not supported")},encryptSafely:function(e,t,r){var n=Math.pow(2,11),i=t.data;if(!i)throw new Error("Cannot encrypt empty msg.data");if("object"===_typeof$2(i)&&i.toJSON)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");var o={data:i,padding:""},a=Buffer$1.byteLength(JSON.stringify(o),"utf-8")%n,s=0;a>0&&(s=n-a-16),o.padding="0".repeat(s);var u={data:JSON.stringify(o)};return this.encrypt(e,u,r)},decrypt:function(e,t){if("x25519-xsalsa20-poly1305"===e.version){var r,n=nacl_decodeHex(t),i=nacl.box.keyPair.fromSecretKey(n).secretKey,o=nacl.util.decodeBase64(e.nonce),a=nacl.util.decodeBase64(e.ciphertext),s=nacl.util.decodeBase64(e.ephemPublicKey),u=nacl.box.open(a,o,s,i);try{r=nacl.util.encodeUTF8(u)}catch(e){throw new Error("Decryption failed.")}if(r)return r;throw new Error("Decryption failed.")}throw new Error("Encryption type/version not supported.")},decryptSafely:function(e,t){return JSON.parse(this.decrypt(e,t)).data},getEncryptionPublicKey:function(e){var t=nacl_decodeHex(e),r=nacl.box.keyPair.fromSecretKey(t).publicKey;return nacl.util.encodeBase64(r)},signTypedMessage:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"V4";switch(r){case"V1":return this.signTypedDataLegacy(e,t);case"V3":return this.signTypedData(e,t);default:return this.signTypedData_v4(e,t)}},recoverTypedMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"V4";switch(t){case"V1":return this.recoverTypedSignatureLegacy(e);case"V3":return this.recoverTypedSignature(e);default:return this.recoverTypedSignature_v4(e)}},signTypedData:function(e,t){var r=TypedDataUtils.sign(t.data,!1),n=ethUtil.ecsign(r,e);return ethUtil.bufferToHex(this.concatSig(n.v,n.r,n.s))},signTypedData_v4:function(e,t){var r=TypedDataUtils.sign(t.data),n=ethUtil.ecsign(r,e);return ethUtil.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(e){var t=recoverPublicKey(TypedDataUtils.sign(e.data,!1),e.sig),r=ethUtil.publicToAddress(t);return ethUtil.bufferToHex(r)},recoverTypedSignature_v4:function(e){var t=recoverPublicKey(TypedDataUtils.sign(e.data),e.sig),r=ethUtil.publicToAddress(t);return ethUtil.bufferToHex(r)}};function _typedSignatureHash(e){var t=new Error("Expect argument to be non-empty array");if("object"!==_typeof$2(e)||!e.length)throw t;var r=e.map((function(e){return"bytes"===e.type?ethUtil.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return"".concat(e.type," ").concat(e.name)}));return ethAbi.soliditySHA3(["bytes32","bytes32"],[ethAbi.soliditySHA3(new Array(e.length).fill("string"),i),ethAbi.soliditySHA3(n,r)])}function recoverPublicKey(e,t){var r=ethUtil.toBuffer(t),n=ethUtil.fromRpcSig(r);return ethUtil.ecrecover(e,n.v,n.r,n.s)}function getPublicKeyFor(e){var t=ethUtil.toBuffer(e.data);return recoverPublicKey(ethUtil.hashPersonalMessage(t),e.sig)}function padWithZeroes(e,t){for(var r="".concat(e);r.length<t;)r="0".concat(r);return r}function nacl_decodeHex(e){var t=Buffer$1.from(e,"hex").toString("base64");return nacl.util.decodeBase64(t)}var AppAuth=_createClass$1((function e(t,r){var n=this;_classCallCheck$1(this,e),_defineProperty$3(this,"apiKey",void 0),_defineProperty$3(this,"apiSecret",void 0),_defineProperty$3(this,"getSharedSecret",_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AppAuth does not support getSharedSecret");case 1:case"end":return e.stop()}}),e)})))),_defineProperty$3(this,"sign",(function(){throw new Error("AppAuth does not support sign")})),_defineProperty$3(this,"hashAndSign",(function(){throw new Error("AppAuth does not support hashAndSign")})),_defineProperty$3(this,"signTransaction",function(){var e=_asyncToGenerator(regenerator.mark((function e(t){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.apiSecret){e.next=2;break}throw new Error("AppAuth cannot `signTransaction` because apiSecret was not provided when initializing the SDK.");case 2:return e.abrupt("return",ethSigUtil.signTypedData(Buffer.from(n.apiSecret,"hex"),{data:t}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_defineProperty$3(this,"getAddress",_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","0x".concat(n.apiKey));case 1:case"end":return e.stop()}}),e)})))),this.apiKey=t.replace(/^0x/,""),this.apiSecret=r?r.replace(/^0x/,""):null})),DevAppSchema=z.object({appName:z.optional(z.string()),services:z.optional(z.custom()),apiKey:z.string().min(1),apiSecret:z.optional(z.string().min(1))}),CustomAppSchema=z.object({appName:z.string().min(1),services:z.optional(z.custom()),apiKey:z.optional(z.string().min(1)),apiSecret:z.optional(z.string().min(1))}),SdkConfigSchema=z.union([DevAppSchema,CustomAppSchema]);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty$3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sdk=function(e){SdkConfigSchema.parse(e);var t=e.appName,r=e.apiKey,n=initializeServices(e),i=initializeApis({appName:t,services:n});return _objectSpread({oauth:"undefined"!=typeof window?new OAuth({appName:t,apiKey:r,usersApi:i.users,logger:n.logger}):void 0},i)},initializeServices=function(e){var t,r,n,i,o,a,s,u,c,l,f=new Logger$1,h=null!==(t=null===(r=e.services)||void 0===r?void 0:r.logger)&&void 0!==t?t:f;e.apiSecret&&isBrowser_1&&h.warn("apiSecret should only be provided server side so that it isn't exposed");var d=e.apiKey?new AppAuth(e.apiKey,e.apiSecret):new Auth,p=new DiscoveryNodeSelector({logger:h}),y=null!==(n=null===(i=e.services)||void 0===i?void 0:i.storageNodeSelector)&&void 0!==n?n:new StorageNodeSelector({auth:null!==(o=null===(a=e.services)||void 0===a?void 0:a.auth)&&void 0!==o?o:d,discoveryNodeSelector:null!==(s=null===(u=e.services)||void 0===u?void 0:u.discoveryNodeSelector)&&void 0!==s?s:p,logger:h}),m=new EntityManager(_objectSpread(_objectSpread({},defaultEntityManagerConfig),{},{discoveryNodeSelector:null!==(c=null===(l=e.services)||void 0===l?void 0:l.discoveryNodeSelector)&&void 0!==c?c:p}));return _objectSpread(_objectSpread({},{storageNodeSelector:y,discoveryNodeSelector:p,entityManager:m,storage:new Storage({storageNodeSelector:y,logger:h}),auth:d,logger:h}),e.services)},initializeApis=function(e){var t=e.appName,r=e.services,n=[addAppNameMiddleware({appName:t,services:r}),r.discoveryNodeSelector.createMiddleware()],i=new Configuration$1({fetchApi:fetch$1,middleware:n}),o=new TracksApi$1(i,r.discoveryNodeSelector,r.storage,r.entityManager,r.auth,r.logger),a=new UsersApi$1(i,r.storage,r.entityManager,r.auth,r.logger),s=new AlbumsApi(i,r.storage,r.entityManager,r.auth,r.logger),u=new PlaylistsApi$1(i,r.storage,r.entityManager,r.auth,r.logger),c=new TipsApi$1(i),l=new ResolveApi(i).resolve,f=new ChatsApi(new Configuration$1({fetchApi:fetch$1,basePath:"",middleware:n}),r.auth,r.discoveryNodeSelector,r.logger),h=new GrantsApi(i,r.entityManager,r.auth),d=new DeveloperAppsApi(i,r.entityManager,r.auth),p=new Configuration({fetchApi:fetch$1,middleware:n});return{tracks:o,users:a,albums:s,playlists:u,tips:c,resolve:l,full:{tracks:new TracksApi(p),users:new UsersApi(p),search:new SearchApi(p),playlists:new PlaylistsApi(p),reactions:new ReactionsApi(p),tips:new TipsApi(p),transactions:new TransactionsApi(p)},chats:f,grants:h,developerApps:d}};window.audiusSdk=sdk,window.audiusSdk.DiscoveryNodeSelector=DiscoveryNodeSelector,window.audiusSdk.config={staging:servicesConfig$1,production:servicesConfig,development:servicesConfig$2},window.audiusSdk.ParseRequestError=ParseRequestError,window.audiusSdk.Genre=Genre,window.audiusSdk.Mood=Mood})(window.Web3);
//# sourceMappingURL=sdk.js.map